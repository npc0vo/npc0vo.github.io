<!DOCTYPE html><html lang="[&quot;en&quot;,&quot;zh-CN&quot;,&quot;default&quot;]"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Npc"><meta name="copyright" content="Npc"><meta name="generator" content="Hexo 7.1.1"><meta name="theme" content="hexo-theme-yun"><title>åˆå­¦C++ | Npc | Blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/my_blog_prism@1.0.5/prism.css"><script src="https://cdn.jsdelivr.net/npm/my_blog_prism@1.0.5/prism.js"></script><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"npc0vo.github.io","root":"/","title":"Npcå°ç«™","version":"1.10.11","mode":"light","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"local_search":{"path":"/search.xml"},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"fireworks":{"colors":null},"waline":{"config":{"enable":true,"serverURL":"https://waline-onelastchicks-projects.vercel.app/","comment":false,"el":"#waline","lang":["en","zh-CN","default"]},"cdn":"https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.js","dark":"html.dark"},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="åŸºç¡€ ä»Cè¿›é˜¶C++çš„æ—¶å€™ï¼Œæˆ‘ä¸ä¼šçš„è¯­æ³•çŸ¥è¯†ç‚¹çš„è®°å½•(æ‘˜å½•è‡ªèœé¸Ÿæ•™ç¨‹) åç»­ä¼šéšç€çœ‹C++ Primeræ…¢æ…¢å®Œå–„  å·¦å³å€¼ C++ ä¸­çš„å·¦å€¼ï¼ˆLvaluesï¼‰å’Œå³å€¼ï¼ˆRvaluesï¼‰ C++ ä¸­æœ‰ä¸¤ç§ç±»å‹çš„è¡¨è¾¾å¼ï¼š  **å·¦å€¼ï¼ˆlvalueï¼‰ï¼š**æŒ‡å‘å†…å­˜ä½ç½®çš„è¡¨è¾¾å¼è¢«ç§°ä¸ºå·¦å€¼ï¼ˆlvalueï¼‰è¡¨è¾¾å¼ã€‚å·¦å€¼å¯ä»¥å‡ºç°åœ¨èµ‹å€¼å·çš„å·¦è¾¹æˆ–å³è¾¹ã€‚ **å³å€¼ï¼ˆrvalueï¼‰ï¼š**æœ¯è¯­å³å€¼ï¼ˆrvalueï¼‰æŒ‡çš„æ˜¯">
<meta property="og:type" content="article">
<meta property="og:title" content="åˆå­¦C++">
<meta property="og:url" content="http://npc0vo.github.io/2024/07/11/C++%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="Npc | Blog">
<meta property="og:description" content="åŸºç¡€ ä»Cè¿›é˜¶C++çš„æ—¶å€™ï¼Œæˆ‘ä¸ä¼šçš„è¯­æ³•çŸ¥è¯†ç‚¹çš„è®°å½•(æ‘˜å½•è‡ªèœé¸Ÿæ•™ç¨‹) åç»­ä¼šéšç€çœ‹C++ Primeræ…¢æ…¢å®Œå–„  å·¦å³å€¼ C++ ä¸­çš„å·¦å€¼ï¼ˆLvaluesï¼‰å’Œå³å€¼ï¼ˆRvaluesï¼‰ C++ ä¸­æœ‰ä¸¤ç§ç±»å‹çš„è¡¨è¾¾å¼ï¼š  **å·¦å€¼ï¼ˆlvalueï¼‰ï¼š**æŒ‡å‘å†…å­˜ä½ç½®çš„è¡¨è¾¾å¼è¢«ç§°ä¸ºå·¦å€¼ï¼ˆlvalueï¼‰è¡¨è¾¾å¼ã€‚å·¦å€¼å¯ä»¥å‡ºç°åœ¨èµ‹å€¼å·çš„å·¦è¾¹æˆ–å³è¾¹ã€‚ **å³å€¼ï¼ˆrvalueï¼‰ï¼š**æœ¯è¯­å³å€¼ï¼ˆrvalueï¼‰æŒ‡çš„æ˜¯">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://npc0vo.github.io/2024/07/11/C++%E5%9F%BA%E7%A1%80/cpp-inheritance-2020-12-15-1.png">
<meta property="article:published_time" content="2024-07-11T14:39:37.000Z">
<meta property="article:modified_time" content="2024-10-18T15:20:25.873Z">
<meta property="article:author" content="Npc">
<meta property="article:tag" content="å­¦ä¹ ç¬”è®°">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://npc0vo.github.io/2024/07/11/C++%E5%9F%BA%E7%A1%80/cpp-inheritance-2020-12-15-1.png"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Npc"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="Npc"><span class="site-author-status">ğŸ˜­</span></a><div class="site-author-name"><a href="/about/">Npc</a></div><span class="site-name">Npc | Blog</span><sub class="site-subtitle">æƒ³s</sub><div class="site-description"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">73</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">11</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">14</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:clipboard-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/npc0vo" title="GitHub" target="_blank" style="color:#6e5494"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:me@1930278836@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.yuque.com/npc0vo" title="Yuque" target="_blank" style="color:#a0c69d"><span class="icon iconify" data-icon="ri:yuque-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a></div></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text"> åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A6%E5%8F%B3%E5%80%BC"><span class="toc-number">1.1.</span> <span class="toc-text"> å·¦å³å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#const-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.2.</span> <span class="toc-text"> Const å…³é”®å­—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#c-%E4%B8%AD%E7%9A%84%E7%B1%BB%E5%9E%8B%E9%99%90%E5%AE%9A%E7%AC%A6"><span class="toc-number">1.3.</span> <span class="toc-text"> C++ ä¸­çš„ç±»å‹é™å®šç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#const-%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.3.1.</span> <span class="toc-text"> const å®ä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#volatile-%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.3.2.</span> <span class="toc-text"> volatile å®ä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mutable-%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.3.3.</span> <span class="toc-text"> mutable å®ä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#static-%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.3.4.</span> <span class="toc-text"> static å®ä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#register-%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.3.5.</span> <span class="toc-text"> register å®ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#c-%E5%AD%98%E5%82%A8%E7%B1%BB"><span class="toc-number">1.4.</span> <span class="toc-text"> C++ å­˜å‚¨ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#auto-%E5%AD%98%E5%82%A8%E7%B1%BB"><span class="toc-number">1.4.1.</span> <span class="toc-text"> auto å­˜å‚¨ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#register-%E5%AD%98%E5%82%A8%E7%B1%BB"><span class="toc-number">1.4.2.</span> <span class="toc-text"> register å­˜å‚¨ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#static-%E5%AD%98%E5%82%A8%E7%B1%BB"><span class="toc-number">1.4.3.</span> <span class="toc-text"> static å­˜å‚¨ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#extern-%E5%AD%98%E5%82%A8%E7%B1%BB"><span class="toc-number">1.4.4.</span> <span class="toc-text"> extern å­˜å‚¨ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mutable-%E5%AD%98%E5%82%A8%E7%B1%BB"><span class="toc-number">1.4.5.</span> <span class="toc-text"> mutable å­˜å‚¨ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#thread_local-%E5%AD%98%E5%82%A8%E7%B1%BB"><span class="toc-number">1.4.6.</span> <span class="toc-text"> thread_local å­˜å‚¨ç±»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#typedef-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.5.</span> <span class="toc-text"> typedef å…³é”®å­—</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8"><span class="toc-number">2.</span> <span class="toc-text"> å®¹å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#c-vector-%E5%AE%B9%E5%99%A8"><span class="toc-number">2.1.</span> <span class="toc-text"> C++ vector å®¹å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-vector"><span class="toc-number">2.1.1.</span> <span class="toc-text"> åˆ›å»º Vector</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0"><span class="toc-number">2.1.2.</span> <span class="toc-text"> æ·»åŠ å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%85%83%E7%B4%A0"><span class="toc-number">2.1.3.</span> <span class="toc-text"> è®¿é—®å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%A4%A7%E5%B0%8F"><span class="toc-number">2.1.4.</span> <span class="toc-text"> è·å–å¤§å°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E8%AE%BF%E9%97%AE"><span class="toc-number">2.1.5.</span> <span class="toc-text"> è¿­ä»£è®¿é—®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0"><span class="toc-number">2.1.6.</span> <span class="toc-text"> åˆ é™¤å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E7%A9%BA-vector"><span class="toc-number">2.1.7.</span> <span class="toc-text"> æ¸…ç©º Vector</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.1.8.</span> <span class="toc-text"> å®ä¾‹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.</span> <span class="toc-text"> é¢å‘å¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.1.</span> <span class="toc-text"> ç±»å’Œå¯¹è±¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">3.2.</span> <span class="toc-text"> ç»§æ‰¿</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%B1%BB%E6%B4%BE%E7%94%9F%E7%B1%BB"><span class="toc-number">3.2.1.</span> <span class="toc-text"> åŸºç±»&amp;æ´¾ç”Ÿç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E5%92%8C%E7%BB%A7%E6%89%BF"><span class="toc-number">3.2.2.</span> <span class="toc-text"> è®¿é—®æ§åˆ¶å’Œç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.3.</span> <span class="toc-text"> ç»§æ‰¿ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BB%A7%E6%89%BF"><span class="toc-number">3.2.4.</span> <span class="toc-text"> å¤šç»§æ‰¿</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E8%BD%BD"><span class="toc-number">3.3.</span> <span class="toc-text"> é‡è½½</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD"><span class="toc-number">3.3.1.</span> <span class="toc-text"> å‡½æ•°é‡è½½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E7%BD%AE"><span class="toc-number">3.3.2.</span> <span class="toc-text"> è¿ç®—ç¬¦é‡ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E4%B8%8D%E5%8F%AF%E9%87%8D%E8%BD%BD%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.3.3.</span> <span class="toc-text"> å¯&#x2F;ä¸å¯é‡è½½è¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-number">3.4.</span> <span class="toc-text"> å¤šæ€</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E5%87%BD%E6%95%B0"><span class="toc-number">3.4.1.</span> <span class="toc-text"> è™šå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0"><span class="toc-number">3.4.2.</span> <span class="toc-text"> çº¯è™šå‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8A%BD%E8%B1%A1"><span class="toc-number">3.5.</span> <span class="toc-text"> æ•°æ®æŠ½è±¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%B0%81%E8%A3%85%E6%8A%BD%E8%B1%A1"><span class="toc-number">3.6.</span> <span class="toc-text"> ç±»çš„å°è£…(æŠ½è±¡)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E7%AD%96%E7%95%A5"><span class="toc-number">3.6.1.</span> <span class="toc-text"> è®¾è®¡ç­–ç•¥</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://npc0vo.github.io/2024/07/11/C++%E5%9F%BA%E7%A1%80/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Npc"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Npc | Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">åˆå­¦C++</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="Created: 2024-07-11 22:39:37" itemprop="dateCreated datePublished" datetime="2024-07-11T22:39:37+08:00">2024-07-11</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="Modified: 2024-10-18 23:20:25" itemprop="dateModified" datetime="2024-10-18T23:20:25+08:00">2024-10-18</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="Word count in article">6.9k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="Reading time">26m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="--text-color:#FB7299" itemprop="url" rel="index"><span itemprop="text">å­¦ä¹ ç¬”è®°</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">å­¦ä¹ ç¬”è®°</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="åŸºç¡€"><a class="markdownIt-Anchor" href="#åŸºç¡€"></a> åŸºç¡€</h1>
<p>ä»Cè¿›é˜¶C++çš„æ—¶å€™ï¼Œæˆ‘ä¸ä¼šçš„è¯­æ³•çŸ¥è¯†ç‚¹çš„è®°å½•(æ‘˜å½•è‡ªèœé¸Ÿæ•™ç¨‹)</p>
<p>åç»­ä¼šéšç€çœ‹<code>C++ Primer</code>æ…¢æ…¢å®Œå–„</p>
<h2 id="å·¦å³å€¼"><a class="markdownIt-Anchor" href="#å·¦å³å€¼"></a> å·¦å³å€¼</h2>
<p>C++ ä¸­çš„å·¦å€¼ï¼ˆLvaluesï¼‰å’Œå³å€¼ï¼ˆRvaluesï¼‰</p>
<p>C++ ä¸­æœ‰ä¸¤ç§ç±»å‹çš„è¡¨è¾¾å¼ï¼š</p>
<ul>
<li>**å·¦å€¼ï¼ˆlvalueï¼‰ï¼š**æŒ‡å‘å†…å­˜ä½ç½®çš„è¡¨è¾¾å¼è¢«ç§°ä¸ºå·¦å€¼ï¼ˆlvalueï¼‰è¡¨è¾¾å¼ã€‚å·¦å€¼å¯ä»¥å‡ºç°åœ¨èµ‹å€¼å·çš„å·¦è¾¹æˆ–å³è¾¹ã€‚</li>
<li>**å³å€¼ï¼ˆrvalueï¼‰ï¼š**æœ¯è¯­å³å€¼ï¼ˆrvalueï¼‰æŒ‡çš„æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­æŸäº›åœ°å€çš„æ•°å€¼ã€‚å³å€¼æ˜¯ä¸èƒ½å¯¹å…¶è¿›è¡Œèµ‹å€¼çš„è¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå³å€¼å¯ä»¥å‡ºç°åœ¨èµ‹å€¼å·çš„å³è¾¹ï¼Œä½†ä¸èƒ½å‡ºç°åœ¨èµ‹å€¼å·çš„å·¦è¾¹ã€‚</li>
</ul>
<p>å˜é‡æ˜¯å·¦å€¼ï¼Œå› æ­¤å¯ä»¥å‡ºç°åœ¨èµ‹å€¼å·çš„å·¦è¾¹ã€‚æ•°å€¼å‹çš„å­—é¢å€¼æ˜¯å³å€¼ï¼Œå› æ­¤ä¸èƒ½è¢«èµ‹å€¼ï¼Œä¸èƒ½å‡ºç°åœ¨èµ‹å€¼å·çš„å·¦è¾¹ã€‚</p>
<h2 id="const-å…³é”®å­—"><a class="markdownIt-Anchor" href="#const-å…³é”®å­—"></a> Const å…³é”®å­—</h2>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ <strong>const</strong> å‰ç¼€å£°æ˜æŒ‡å®šç±»å‹çš„å¸¸é‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">const type variable &#x3D; value;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="c-ä¸­çš„ç±»å‹é™å®šç¬¦"><a class="markdownIt-Anchor" href="#c-ä¸­çš„ç±»å‹é™å®šç¬¦"></a> C++ ä¸­çš„ç±»å‹é™å®šç¬¦</h2>
<p>ç±»å‹é™å®šç¬¦æä¾›äº†å˜é‡çš„é¢å¤–ä¿¡æ¯ï¼Œç”¨äºåœ¨å®šä¹‰å˜é‡æˆ–å‡½æ•°æ—¶æ”¹å˜å®ƒä»¬çš„é»˜è®¤è¡Œä¸ºçš„å…³é”®å­—ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:left">é™å®šç¬¦</th>
<th style="text-align:left">å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">const</td>
<td style="text-align:left"><strong>const</strong> å®šä¹‰å¸¸é‡ï¼Œè¡¨ç¤ºè¯¥å˜é‡çš„å€¼ä¸èƒ½è¢«ä¿®æ”¹ã€‚</td>
</tr>
<tr>
<td style="text-align:left">volatile</td>
<td style="text-align:left">ä¿®é¥°ç¬¦ <strong>volatile</strong> å‘Šè¯‰è¯¥å˜é‡çš„å€¼å¯èƒ½ä¼šè¢«ç¨‹åºä»¥å¤–çš„å› ç´ æ”¹å˜ï¼Œå¦‚ç¡¬ä»¶æˆ–å…¶ä»–çº¿ç¨‹ã€‚ã€‚</td>
</tr>
<tr>
<td style="text-align:left">restrict</td>
<td style="text-align:left">ç”± <strong>restrict</strong> ä¿®é¥°çš„æŒ‡é’ˆæ˜¯å”¯ä¸€ä¸€ç§è®¿é—®å®ƒæ‰€æŒ‡å‘çš„å¯¹è±¡çš„æ–¹å¼ã€‚åªæœ‰ C99 å¢åŠ äº†æ–°çš„ç±»å‹é™å®šç¬¦ restrictã€‚</td>
</tr>
<tr>
<td style="text-align:left">mutable</td>
<td style="text-align:left">è¡¨ç¤ºç±»ä¸­çš„æˆå‘˜å˜é‡å¯ä»¥åœ¨ const æˆå‘˜å‡½æ•°ä¸­è¢«ä¿®æ”¹ã€‚</td>
</tr>
<tr>
<td style="text-align:left">static</td>
<td style="text-align:left">ç”¨äºå®šä¹‰é™æ€å˜é‡ï¼Œè¡¨ç¤ºè¯¥å˜é‡çš„ä½œç”¨åŸŸä»…é™äºå½“å‰æ–‡ä»¶æˆ–å½“å‰å‡½æ•°å†…ï¼Œä¸ä¼šè¢«å…¶ä»–æ–‡ä»¶æˆ–å‡½æ•°è®¿é—®ã€‚</td>
</tr>
<tr>
<td style="text-align:left">register</td>
<td style="text-align:left">ç”¨äºå®šä¹‰å¯„å­˜å™¨å˜é‡ï¼Œè¡¨ç¤ºè¯¥å˜é‡è¢«é¢‘ç¹ä½¿ç”¨ï¼Œå¯ä»¥å­˜å‚¨åœ¨CPUçš„å¯„å­˜å™¨ä¸­ï¼Œä»¥æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚</td>
</tr>
</tbody>
</table>
<h3 id="const-å®ä¾‹"><a class="markdownIt-Anchor" href="#const-å®ä¾‹"></a> const å®ä¾‹</h3>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> NUM <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// å®šä¹‰å¸¸é‡ NUMï¼Œå…¶å€¼ä¸å¯ä¿®æ”¹</span>
<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>NUM<span class="token punctuation">;</span> <span class="token comment">// å®šä¹‰æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼ŒæŒ‡é’ˆæ‰€æŒ‡çš„å€¼ä¸å¯ä¿®æ”¹</span>
<span class="token keyword">int</span> <span class="token keyword">const</span><span class="token operator">*</span> ptr2 <span class="token operator">=</span> <span class="token operator">&amp;</span>NUM<span class="token punctuation">;</span> <span class="token comment">// å’Œä¸Šé¢ä¸€è¡Œç­‰ä»·</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="volatile-å®ä¾‹"><a class="markdownIt-Anchor" href="#volatile-å®ä¾‹"></a> volatile å®ä¾‹</h3>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">volatile</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// å®šä¹‰å˜é‡ numï¼Œå…¶å€¼å¯èƒ½ä¼šåœ¨æœªçŸ¥çš„æ—¶é—´è¢«æ”¹å˜</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="mutable-å®ä¾‹"><a class="markdownIt-Anchor" href="#mutable-å®ä¾‹"></a> mutable å®ä¾‹</h3>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">get_value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> value_<span class="token punctuation">;</span> <span class="token comment">// const å…³é”®å­—è¡¨ç¤ºè¯¥æˆå‘˜å‡½æ•°ä¸ä¼šä¿®æ”¹å¯¹è±¡ä¸­çš„æ•°æ®æˆå‘˜</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">void</span> <span class="token function">set_value</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
        value_ <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token comment">// mutable å…³é”®å­—å…è®¸åœ¨ const æˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹æˆå‘˜å˜é‡</span>
    <span class="token punctuation">&#125;</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">mutable</span> <span class="token keyword">int</span> value_<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="static-å®ä¾‹"><a class="markdownIt-Anchor" href="#static-å®ä¾‹"></a> static å®ä¾‹</h3>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">example_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// static å…³é”®å­—ä½¿å˜é‡ count å­˜å‚¨åœ¨ç¨‹åºç”Ÿå‘½å‘¨æœŸå†…éƒ½å­˜åœ¨</span>
    count<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="register-å®ä¾‹"><a class="markdownIt-Anchor" href="#register-å®ä¾‹"></a> register å®ä¾‹</h3>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">example_function</span><span class="token punctuation">(</span><span class="token keyword">register</span> <span class="token keyword">int</span> num<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// register å…³é”®å­—å»ºè®®ç¼–è¯‘å™¨å°†å˜é‡ num å­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­</span>
    <span class="token comment">// ä»¥æé«˜ç¨‹åºæ‰§è¡Œé€Ÿåº¦</span>
    <span class="token comment">// ä½†æ˜¯å®é™…ä¸Šæ˜¯å¦ä¼šå­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­ç”±ç¼–è¯‘å™¨å†³å®š</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="c-å­˜å‚¨ç±»"><a class="markdownIt-Anchor" href="#c-å­˜å‚¨ç±»"></a> C++ å­˜å‚¨ç±»</h2>
<p>å­˜å‚¨ç±»å®šä¹‰ C++ ç¨‹åºä¸­å˜é‡/å‡½æ•°çš„èŒƒå›´ï¼ˆå¯è§æ€§ï¼‰å’Œç”Ÿå‘½å‘¨æœŸã€‚è¿™äº›è¯´æ˜ç¬¦æ”¾ç½®åœ¨å®ƒä»¬æ‰€ä¿®é¥°çš„ç±»å‹ä¹‹å‰ã€‚ä¸‹é¢åˆ—å‡º C++ ç¨‹åºä¸­å¯ç”¨çš„å­˜å‚¨ç±»ï¼š</p>
<ul>
<li><strong>auto</strong>ï¼šè¿™æ˜¯é»˜è®¤çš„å­˜å‚¨ç±»è¯´æ˜ç¬¦ï¼Œé€šå¸¸å¯ä»¥çœç•¥ä¸å†™ã€‚auto æŒ‡å®šçš„å˜é‡å…·æœ‰è‡ªåŠ¨å­˜å‚¨æœŸï¼Œå³å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸä»…é™äºå®šä¹‰å®ƒä»¬çš„å—ï¼ˆblockï¼‰ã€‚auto å˜é‡é€šå¸¸åœ¨æ ˆä¸Šåˆ†é…ã€‚</li>
<li><strong>register</strong>ï¼šç”¨äºå»ºè®®ç¼–è¯‘å™¨å°†å˜é‡å­˜å‚¨åœ¨CPUå¯„å­˜å™¨ä¸­ä»¥æé«˜è®¿é—®é€Ÿåº¦ã€‚åœ¨ C++11 åŠä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œregister å·²ç»æ˜¯ä¸€ä¸ªåºŸå¼ƒçš„ç‰¹æ€§ï¼Œä¸å†å…·æœ‰å®é™…ä½œç”¨ã€‚</li>
<li><strong>static</strong>ï¼šç”¨äºå®šä¹‰å…·æœ‰é™æ€å­˜å‚¨æœŸçš„å˜é‡æˆ–å‡½æ•°ï¼Œå®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸè´¯ç©¿æ•´ä¸ªç¨‹åºçš„è¿è¡ŒæœŸã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œstaticå˜é‡çš„å€¼åœ¨å‡½æ•°è°ƒç”¨ä¹‹é—´ä¿æŒä¸å˜ã€‚åœ¨æ–‡ä»¶å†…éƒ¨æˆ–å…¨å±€ä½œç”¨åŸŸï¼Œstaticå˜é‡å…·æœ‰å†…éƒ¨é“¾æ¥ï¼Œåªèƒ½åœ¨å®šä¹‰å®ƒä»¬çš„æ–‡ä»¶ä¸­è®¿é—®ã€‚</li>
<li><strong>extern</strong>ï¼šç”¨äºå£°æ˜å…·æœ‰å¤–éƒ¨é“¾æ¥çš„å˜é‡æˆ–å‡½æ•°ï¼Œå®ƒä»¬å¯ä»¥åœ¨å¤šä¸ªæ–‡ä»¶ä¹‹é—´å…±äº«ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå…¨å±€å˜é‡å’Œå‡½æ•°å…·æœ‰ extern å­˜å‚¨ç±»ã€‚åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨externå£°æ˜å¦ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰çš„å…¨å±€å˜é‡æˆ–å‡½æ•°ï¼Œå¯ä»¥å®ç°è·¨æ–‡ä»¶å…±äº«ã€‚</li>
<li><strong>mutable (C++11)</strong>ï¼šç”¨äºä¿®é¥°ç±»ä¸­çš„æˆå‘˜å˜é‡ï¼Œå…è®¸åœ¨constæˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹è¿™äº›å˜é‡çš„å€¼ã€‚é€šå¸¸ç”¨äºç¼“å­˜æˆ–è®¡æ•°å™¨ç­‰éœ€è¦åœ¨constä¸Šä¸‹æ–‡ä¸­ä¿®æ”¹çš„æ•°æ®ã€‚</li>
<li><strong>thread_local (C++11)</strong>ï¼šç”¨äºå®šä¹‰å…·æœ‰çº¿ç¨‹å±€éƒ¨å­˜å‚¨æœŸçš„å˜é‡ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ç‹¬ç«‹å‰¯æœ¬ã€‚çº¿ç¨‹å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸç›¸åŒã€‚</li>
</ul>
<p>ä» C++ 17 å¼€å§‹ï¼Œauto å…³é”®å­—ä¸å†æ˜¯ C++ å­˜å‚¨ç±»è¯´æ˜ç¬¦ï¼Œä¸” register å…³é”®å­—è¢«å¼ƒç”¨ã€‚</p>
<p>ä¸­çš„å­˜å‚¨ç±»è¯´æ˜ç¬¦ä¸ºç¨‹åºå‘˜æä¾›äº†æ§åˆ¶å˜é‡å’Œå‡½æ•°ç”Ÿå‘½å‘¨æœŸåŠå¯è§æ€§çš„æ‰‹æ®µã€‚</p>
<p>åˆç†ä½¿ç”¨å­˜å‚¨ç±»è¯´æ˜ç¬¦å¯ä»¥æé«˜ç¨‹åºçš„å¯ç»´æŠ¤æ€§å’Œæ€§èƒ½ã€‚</p>
<p>ä» C++11 å¼€å§‹ï¼Œregister å·²ç»å¤±å»äº†åŸæœ‰çš„ä½œç”¨ï¼Œè€Œ mutable å’Œ thread_local åˆ™æ˜¯æ–°å¼•å…¥çš„ç‰¹æ€§ï¼Œç”¨äºè§£å†³ç‰¹å®šçš„ç¼–ç¨‹é—®é¢˜ã€‚</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>

<span class="token comment">// å…¨å±€å˜é‡ï¼Œå…·æœ‰å¤–éƒ¨é“¾æ¥ï¼Œé»˜è®¤å­˜å‚¨ç±»ä¸ºextern</span>
<span class="token keyword">int</span> globalVar<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// å±€éƒ¨å˜é‡ï¼Œå…·æœ‰è‡ªåŠ¨å­˜å‚¨æœŸï¼Œé»˜è®¤å­˜å‚¨ç±»ä¸ºauto</span>
  <span class="token keyword">auto</span> <span class="token keyword">int</span> localVar <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

  <span class="token comment">// é™æ€å˜é‡ï¼Œå…·æœ‰é™æ€å­˜å‚¨æœŸï¼Œç”Ÿå‘½å‘¨æœŸè´¯ç©¿æ•´ä¸ªç¨‹åº</span>
  <span class="token keyword">static</span> <span class="token keyword">int</span> staticVar <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token keyword">int</span> constVar <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">// constå˜é‡é»˜è®¤å…·æœ‰staticå­˜å‚¨æœŸ</span>

  <span class="token comment">// å°è¯•ä¿®æ”¹constå˜é‡ï¼Œç¼–è¯‘é”™è¯¯</span>
  <span class="token comment">// constVar = 40;</span>

  <span class="token comment">// mutableæˆå‘˜å˜é‡ï¼Œå¯ä»¥åœ¨constæˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹</span>
  <span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">mutable</span> <span class="token keyword">int</span> mutableVar<span class="token punctuation">;</span>

â€‹    <span class="token keyword">void</span> <span class="token function">constMemberFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
â€‹      mutableVar <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span> <span class="token comment">// å…è®¸ä¿®æ”¹mutableæˆå‘˜å˜é‡</span>
â€‹    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token comment">// çº¿ç¨‹å±€éƒ¨å˜é‡ï¼Œæ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„ç‹¬ç«‹å‰¯æœ¬</span>
  <span class="token keyword">thread_local</span> <span class="token keyword">int</span> threadVar <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">extern</span> <span class="token keyword">int</span> externalVar<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜å…·æœ‰å¤–éƒ¨é“¾æ¥çš„å˜é‡</span>

  <span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="auto-å­˜å‚¨ç±»"><a class="markdownIt-Anchor" href="#auto-å­˜å‚¨ç±»"></a> auto å­˜å‚¨ç±»</h3>
<p>è‡ª C++ 11 ä»¥æ¥ï¼Œ<strong>auto</strong> å…³é”®å­—ç”¨äºä¸¤ç§æƒ…å†µï¼šå£°æ˜å˜é‡æ—¶æ ¹æ®åˆå§‹åŒ–è¡¨è¾¾å¼è‡ªåŠ¨æ¨æ–­è¯¥å˜é‡çš„ç±»å‹ã€å£°æ˜å‡½æ•°æ—¶å‡½æ•°è¿”å›å€¼çš„å ä½ç¬¦ã€‚</p>
<p>C<ins>98 æ ‡å‡†ä¸­ auto å…³é”®å­—ç”¨äºè‡ªåŠ¨å˜é‡çš„å£°æ˜ï¼Œä½†ç”±äºä½¿ç”¨æå°‘ä¸”å¤šä½™ï¼Œåœ¨ C</ins>17 ä¸­å·²åˆ é™¤è¿™ä¸€ç”¨æ³•ã€‚</p>
<p>æ ¹æ®åˆå§‹åŒ–è¡¨è¾¾å¼è‡ªåŠ¨æ¨æ–­è¢«å£°æ˜çš„å˜é‡çš„ç±»å‹ï¼Œå¦‚ï¼š</p>
<p>auto f=3.14;      //double auto s(â€œhelloâ€);  //const char* auto z = new auto(9); // int* auto x1 = 5, x2 = 5.0, x3=â€˜râ€™;//é”™è¯¯ï¼Œå¿…é¡»æ˜¯åˆå§‹åŒ–ä¸ºåŒä¸€ç±»å‹</p>
<h3 id="register-å­˜å‚¨ç±»"><a class="markdownIt-Anchor" href="#register-å­˜å‚¨ç±»"></a> register å­˜å‚¨ç±»</h3>
<p>register æ˜¯ä¸€ç§å­˜å‚¨ç±»ï¼ˆstorage classï¼‰ï¼Œç”¨äºå£°æ˜å˜é‡ï¼Œå¹¶æç¤ºç¼–è¯‘å™¨å°†è¿™äº›å˜é‡å­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­ï¼Œä»¥ä¾¿å¿«é€Ÿè®¿é—®ã€‚</p>
<p>ä½¿ç”¨ register å…³é”®å­—å¯ä»¥æé«˜ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦ï¼Œå› ä¸ºå®ƒå‡å°‘äº†å¯¹å†…å­˜çš„è®¿é—®æ¬¡æ•°ã€‚</p>
<p>ç„¶è€Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œregister å­˜å‚¨ç±»åªæ˜¯ä¸€ç§æç¤ºï¼Œç¼–è¯‘å™¨å¯ä»¥å¿½ç•¥å®ƒï¼Œå› ä¸ºç°ä»£çš„ç¼–è¯‘å™¨é€šå¸¸ä¼šè‡ªåŠ¨ä¼˜åŒ–ä»£ç ï¼Œé€‰æ‹©åˆé€‚çš„å­˜å‚¨ä½ç½®ã€‚</p>
<p><strong>è¯­æ³•æ ¼å¼ï¼š</strong></p>
<pre class="line-numbers language-none"><code class="language-none">register data_type variable_name;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li><code>register</code> æ˜¯å­˜å‚¨ç±»çš„å…³é”®å­—ï¼Œç”¨äºæç¤ºç¼–è¯‘å™¨å°†å˜é‡å­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­ã€‚</li>
<li><code>data_type</code> æ˜¯å˜é‡çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯ä»»ä½•åˆæ³•çš„ C++ æ•°æ®ç±»å‹ã€‚</li>
<li><code>variable_name</code> æ˜¯å˜é‡çš„åç§°ã€‚</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">void loop() 
&#123;    
	register int i;    
	for (i &#x3D; 0; i &lt; 1000; ++i) 
	&#123;        &#x2F;&#x2F; å¾ªç¯ä½“    
	&#125; 
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>register å­˜å‚¨ç±»ç”¨äºæç¤ºç¼–è¯‘å™¨å°†å˜é‡å­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­ï¼Œä»¥ä¾¿æé«˜è®¿é—®é€Ÿåº¦ã€‚ç„¶è€Œï¼Œç”±äºç°ä»£ç¼–è¯‘å™¨çš„è‡ªåŠ¨ä¼˜åŒ–èƒ½åŠ›ï¼Œä½¿ç”¨ register å…³é”®å­—å¹¶ä¸æ˜¯å¿…éœ€çš„ï¼Œè€Œä¸”åœ¨å®è·µä¸­å¾ˆå°‘ä½¿ç”¨ã€‚</p>
<p>åœ¨ C<ins>11 æ ‡å‡†ä¸­ï¼Œregister å…³é”®å­—ä¸å†æ˜¯ä¸€ä¸ªå­˜å‚¨ç±»è¯´æ˜ç¬¦ï¼Œè€Œæ˜¯ä¸€ä¸ªåºŸå¼ƒçš„ç‰¹æ€§ã€‚è¿™æ„å‘³ç€åœ¨ C</ins>11 åŠä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨ register å…³é”®å­—å°†ä¸ä¼šå¯¹ç¨‹åºäº§ç”Ÿä»»ä½•å½±å“ã€‚</p>
<p>åœ¨ C++ ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¼•ç”¨æˆ–æŒ‡é’ˆæ¥æé«˜è®¿é—®é€Ÿåº¦ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§å‹æ•°æ®ç»“æ„æ—¶ã€‚</p>
<h3 id="static-å­˜å‚¨ç±»"><a class="markdownIt-Anchor" href="#static-å­˜å‚¨ç±»"></a> static å­˜å‚¨ç±»</h3>
<p><strong>static</strong> å­˜å‚¨ç±»æŒ‡ç¤ºç¼–è¯‘å™¨åœ¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå†…ä¿æŒå±€éƒ¨å˜é‡çš„å­˜åœ¨ï¼Œè€Œä¸éœ€è¦åœ¨æ¯æ¬¡å®ƒè¿›å…¥å’Œç¦»å¼€ä½œç”¨åŸŸæ—¶è¿›è¡Œåˆ›å»ºå’Œé”€æ¯ã€‚å› æ­¤ï¼Œä½¿ç”¨ static ä¿®é¥°å±€éƒ¨å˜é‡å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨ä¹‹é—´ä¿æŒå±€éƒ¨å˜é‡çš„å€¼ã€‚</p>
<p>static ä¿®é¥°ç¬¦ä¹Ÿå¯ä»¥åº”ç”¨äºå…¨å±€å˜é‡ã€‚å½“ static ä¿®é¥°å…¨å±€å˜é‡æ—¶ï¼Œä¼šä½¿å˜é‡çš„ä½œç”¨åŸŸé™åˆ¶åœ¨å£°æ˜å®ƒçš„æ–‡ä»¶å†…ã€‚</p>
<p>åœ¨ C++ ä¸­ï¼Œå½“ static ç”¨åœ¨ç±»æ•°æ®æˆå‘˜ä¸Šæ—¶ï¼Œä¼šå¯¼è‡´ä»…æœ‰ä¸€ä¸ªè¯¥æˆå‘˜çš„å‰¯æœ¬è¢«ç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«ã€‚</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span>  </span>
<span class="token comment">// å‡½æ•°å£°æ˜  </span>
<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
tatic <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">/* å…¨å±€å˜é‡ */</span>  
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    
    <span class="token keyword">while</span><span class="token punctuation">(</span>count<span class="token operator">--</span><span class="token punctuation">)</span>    
    <span class="token punctuation">&#123;</span>       <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span> 
<span class="token comment">// å‡½æ•°å®šä¹‰ </span>
<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   
    <span class="token keyword">static</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> 
    <span class="token comment">// å±€éƒ¨é™æ€å˜é‡   </span>
    i<span class="token operator">++</span><span class="token punctuation">;</span>    
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å˜é‡ i ä¸º "</span> <span class="token operator">&lt;&lt;</span> i <span class="token punctuation">;</span>  
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">" , å˜é‡ count ä¸º "</span> <span class="token operator">&lt;&lt;</span> count <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">å˜é‡ i ä¸º 6 , å˜é‡ count ä¸º 9
å˜é‡ i ä¸º 7 , å˜é‡ count ä¸º 8
å˜é‡ i ä¸º 8 , å˜é‡ count ä¸º 7
å˜é‡ i ä¸º 9 , å˜é‡ count ä¸º 6
å˜é‡ i ä¸º 10 , å˜é‡ count ä¸º 5
å˜é‡ i ä¸º 11 , å˜é‡ count ä¸º 4
å˜é‡ i ä¸º 12 , å˜é‡ count ä¸º 3
å˜é‡ i ä¸º 13 , å˜é‡ count ä¸º 2
å˜é‡ i ä¸º 14 , å˜é‡ count ä¸º 1
å˜é‡ i ä¸º 15 , å˜é‡ count ä¸º 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="extern-å­˜å‚¨ç±»"><a class="markdownIt-Anchor" href="#extern-å­˜å‚¨ç±»"></a> extern å­˜å‚¨ç±»</h3>
<p><strong>extern</strong> å­˜å‚¨ç±»ç”¨äºæä¾›ä¸€ä¸ªå…¨å±€å˜é‡çš„å¼•ç”¨ï¼Œå…¨å±€å˜é‡å¯¹æ‰€æœ‰çš„ç¨‹åºæ–‡ä»¶éƒ½æ˜¯å¯è§çš„ã€‚å½“æ‚¨ä½¿ç”¨ â€˜externâ€™ æ—¶ï¼Œå¯¹äºæ— æ³•åˆå§‹åŒ–çš„å˜é‡ï¼Œä¼šæŠŠå˜é‡åæŒ‡å‘ä¸€ä¸ªä¹‹å‰å®šä¹‰è¿‡çš„å­˜å‚¨ä½ç½®ã€‚</p>
<p>å½“æ‚¨æœ‰å¤šä¸ªæ–‡ä»¶ä¸”å®šä¹‰äº†ä¸€ä¸ªå¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨çš„å…¨å±€å˜é‡æˆ–å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨ <em>extern</em> æ¥å¾—åˆ°å·²å®šä¹‰çš„å˜é‡æˆ–å‡½æ•°çš„å¼•ç”¨ã€‚å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œ<em>extern</em> æ˜¯ç”¨æ¥åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­å£°æ˜ä¸€ä¸ªå…¨å±€å˜é‡æˆ–å‡½æ•°ã€‚</p>
<p>extern ä¿®é¥°ç¬¦é€šå¸¸ç”¨äºå½“æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶å…±äº«ç›¸åŒçš„å…¨å±€å˜é‡æˆ–å‡½æ•°çš„æ—¶å€™ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span>  </span>
<span class="token keyword">int</span> count <span class="token punctuation">;</span>
<span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">write_extern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   
    count <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>   
    <span class="token function">rite_extern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span>  </span>
<span class="token keyword">extern</span> <span class="token keyword">int</span> count<span class="token punctuation">;</span>  
<span class="token keyword">void</span> <span class="token function">write_extern</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Count is "</span> <span class="token operator">&lt;&lt;</span> count <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨è¿™é‡Œï¼Œç¬¬äºŒä¸ªæ–‡ä»¶ä¸­çš„ <em>extern</em> å…³é”®å­—ç”¨äºå£°æ˜å·²ç»åœ¨ç¬¬ä¸€ä¸ªæ–‡ä»¶ main.cpp ä¸­å®šä¹‰çš„ countã€‚ç°åœ¨ ï¼Œç¼–è¯‘è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">$ g++ main.cpp support.cpp -o write<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¿™ä¼šäº§ç”Ÿ <strong>write</strong> å¯æ‰§è¡Œç¨‹åºï¼Œå°è¯•æ‰§è¡Œ <strong>write</strong>ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">$ .&#x2F;write
Count is 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="mutable-å­˜å‚¨ç±»"><a class="markdownIt-Anchor" href="#mutable-å­˜å‚¨ç±»"></a> mutable å­˜å‚¨ç±»</h3>
<p><strong>mutable</strong> è¯´æ˜ç¬¦ä»…é€‚ç”¨äºç±»çš„å¯¹è±¡ï¼Œè¿™å°†åœ¨æœ¬æ•™ç¨‹çš„æœ€åè¿›è¡Œè®²è§£ã€‚å®ƒå…è®¸å¯¹è±¡çš„æˆå‘˜æ›¿ä»£å¸¸é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œmutable æˆå‘˜å¯ä»¥é€šè¿‡ const æˆå‘˜å‡½æ•°ä¿®æ”¹ã€‚</p>
<h3 id="thread_local-å­˜å‚¨ç±»"><a class="markdownIt-Anchor" href="#thread_local-å­˜å‚¨ç±»"></a> thread_local å­˜å‚¨ç±»</h3>
<p>ä½¿ç”¨ thread_local è¯´æ˜ç¬¦å£°æ˜çš„å˜é‡ä»…å¯åœ¨å®ƒåœ¨å…¶ä¸Šåˆ›å»ºçš„çº¿ç¨‹ä¸Šè®¿é—®ã€‚ å˜é‡åœ¨åˆ›å»ºçº¿ç¨‹æ—¶åˆ›å»ºï¼Œå¹¶åœ¨é”€æ¯çº¿ç¨‹æ—¶é”€æ¯ã€‚ æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰å…¶è‡ªå·±çš„å˜é‡å‰¯æœ¬ã€‚</p>
<p>thread_local è¯´æ˜ç¬¦å¯ä»¥ä¸ static æˆ– extern åˆå¹¶ã€‚</p>
<p>å¯ä»¥å°† thread_local ä»…åº”ç”¨äºæ•°æ®å£°æ˜å’Œå®šä¹‰ï¼Œthread_local ä¸èƒ½ç”¨äºå‡½æ•°å£°æ˜æˆ–å®šä¹‰ã€‚</p>
<p>ä»¥ä¸‹æ¼”ç¤ºäº†å¯ä»¥è¢«å£°æ˜ä¸º thread_local çš„å˜é‡ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">thread_local int x;  
&#x2F;&#x2F; å‘½åç©ºé—´ä¸‹çš„å…¨å±€å˜é‡ 
class X &#123;    
static thread_local std::string s; 
&#x2F;&#x2F; ç±»çš„staticæˆå‘˜å˜é‡ &#125;
; static thread_local std::string X::s;  
&#x2F;&#x2F; X::s æ˜¯éœ€è¦å®šä¹‰çš„  
void foo()
&#123;    
thread_local std::vector&lt;int&gt; v;  
&#x2F;&#x2F; æœ¬åœ°å˜é‡ 
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="typedef-å…³é”®å­—"><a class="markdownIt-Anchor" href="#typedef-å…³é”®å­—"></a> typedef å…³é”®å­—</h2>
<p>ä¸‹é¢æ˜¯ä¸€ç§æ›´ç®€å•çš„å®šä¹‰ç»“æ„çš„æ–¹å¼ï¼Œæ‚¨å¯ä»¥ä¸ºåˆ›å»ºçš„ç±»å‹å–ä¸€ä¸ª&quot;åˆ«å&quot;ã€‚ä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Books</span>
<span class="token punctuation">&#123;</span>
   <span class="token keyword">char</span>  title<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  author<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  subject<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>   book_id<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>Books<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç°åœ¨ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ <em>Books</em> æ¥å®šä¹‰ <em>Books</em> ç±»å‹çš„å˜é‡ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ struct å…³é”®å­—ã€‚ä¸‹é¢æ˜¯å®ä¾‹ï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Books Book1<span class="token punctuation">,</span> Book2<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ <strong>typedef</strong> å…³é”®å­—æ¥å®šä¹‰éç»“æ„ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">int</span> <span class="token operator">*</span>pint32<span class="token punctuation">;</span>
 
pint32 x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>x, y å’Œ z éƒ½æ˜¯æŒ‡å‘é•¿æ•´å‹ long int çš„æŒ‡é’ˆã€‚</p>
<h1 id="å®¹å™¨"><a class="markdownIt-Anchor" href="#å®¹å™¨"></a> å®¹å™¨</h1>
<h2 id="c-vector-å®¹å™¨"><a class="markdownIt-Anchor" href="#c-vector-å®¹å™¨"></a> C++ vector å®¹å™¨</h2>
<p>C++ ä¸­çš„ vector æ˜¯ä¸€ç§åºåˆ—å®¹å™¨ï¼Œå®ƒå…è®¸ä½ åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚</p>
<p>vector æ˜¯åŸºäºæ•°ç»„çš„æ•°æ®ç»“æ„ï¼Œä½†å®ƒå¯ä»¥è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œè¿™æ„å‘³ç€ä½ ä¸éœ€è¦æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾å†…å­˜ã€‚</p>
<p>ä¸ C++ æ•°ç»„ç›¸æ¯”ï¼Œvector å…·æœ‰æ›´å¤šçš„çµæ´»æ€§å’ŒåŠŸèƒ½ï¼Œä½¿å…¶æˆä¸º C++ ä¸­å¸¸ç”¨çš„æ•°æ®ç»“æ„ä¹‹ä¸€ã€‚</p>
<p>vector æ˜¯ C++ æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰çš„ä¸€éƒ¨åˆ†ï¼Œæä¾›äº†çµæ´»çš„æ¥å£å’Œé«˜æ•ˆçš„æ“ä½œã€‚</p>
<p><strong>åŸºæœ¬ç‰¹æ€§:</strong></p>
<ul>
<li><strong>åŠ¨æ€å¤§å°</strong>ï¼š<code>vector</code> çš„å¤§å°å¯ä»¥æ ¹æ®éœ€è¦è‡ªåŠ¨å¢é•¿å’Œç¼©å°ã€‚</li>
<li><strong>è¿ç»­å­˜å‚¨</strong>ï¼š<code>vector</code> ä¸­çš„å…ƒç´ åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œè¿™ä½¿å¾—è®¿é—®å…ƒç´ éå¸¸å¿«é€Ÿã€‚</li>
<li><strong>å¯è¿­ä»£</strong>ï¼š<code>vector</code> å¯ä»¥è¢«è¿­ä»£ï¼Œä½ å¯ä»¥ä½¿ç”¨å¾ªç¯ï¼ˆå¦‚ <code>for</code> å¾ªç¯ï¼‰æ¥è®¿é—®å®ƒçš„å…ƒç´ ã€‚</li>
<li><strong>å…ƒç´ ç±»å‹</strong>ï¼š<code>vector</code> å¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„å…ƒç´ ï¼ŒåŒ…æ‹¬å†…ç½®ç±»å‹ã€å¯¹è±¡ã€æŒ‡é’ˆç­‰ã€‚</li>
</ul>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å½“ä½ éœ€è¦ä¸€ä¸ªå¯ä»¥åŠ¨æ€å¢é•¿å’Œç¼©å°çš„æ•°ç»„æ—¶ã€‚</li>
<li>å½“ä½ éœ€è¦é¢‘ç¹åœ°åœ¨åºåˆ—çš„æœ«å°¾æ·»åŠ æˆ–ç§»é™¤å…ƒç´ æ—¶ã€‚</li>
<li>å½“ä½ éœ€è¦ä¸€ä¸ªå¯ä»¥é«˜æ•ˆéšæœºè®¿é—®å…ƒç´ çš„å®¹å™¨æ—¶ã€‚</li>
</ul>
<p>è¦ä½¿ç”¨ vectorï¼Œé¦–å…ˆéœ€è¦åŒ…å«`` <vector> `å¤´æ–‡ä»¶ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">#include &lt;vector&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="åˆ›å»º-vector"><a class="markdownIt-Anchor" href="#åˆ›å»º-vector"></a> åˆ›å»º Vector</h3>
<p>åˆ›å»ºä¸€ä¸ª vector å¯ä»¥åƒåˆ›å»ºå…¶ä»–å˜é‡ä¸€æ ·ç®€å•ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">std::vector&lt;int&gt; myVector; &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªå­˜å‚¨æ•´æ•°çš„ç©º vector<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¿™å°†åˆ›å»ºä¸€ä¸ªç©ºçš„æ•´æ•°å‘é‡,ä¹Ÿå¯ä»¥åœ¨åˆ›å»ºæ—¶æŒ‡å®šåˆå§‹å¤§å°å’Œåˆå§‹å€¼ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">std::vector&lt;int&gt; myVector(5); &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªåŒ…å« 5 ä¸ªæ•´æ•°çš„ vectorï¼Œæ¯ä¸ªå€¼éƒ½ä¸ºé»˜è®¤å€¼ï¼ˆ0ï¼‰
std::vector&lt;int&gt; myVector(5, 10); &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªåŒ…å« 5 ä¸ªæ•´æ•°çš„ vectorï¼Œæ¯ä¸ªå€¼éƒ½ä¸º 10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>æˆ–ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">std::vector&lt;int&gt; vec; &#x2F;&#x2F; é»˜è®¤åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„ vector
std::vector&lt;int&gt; vec2 &#x3D; &#123;1, 2, 3, 4&#125;; &#x2F;&#x2F; åˆå§‹åŒ–ä¸€ä¸ªåŒ…å«å…ƒç´ çš„ vector<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="æ·»åŠ å…ƒç´ "><a class="markdownIt-Anchor" href="#æ·»åŠ å…ƒç´ "></a> æ·»åŠ å…ƒç´ </h3>
<p>å¯ä»¥ä½¿ç”¨ push_back æ–¹æ³•å‘ vector ä¸­æ·»åŠ å…ƒç´ ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">myVector.push_back(7); &#x2F;&#x2F; å°†æ•´æ•° 7 æ·»åŠ åˆ° vector çš„æœ«å°¾<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="è®¿é—®å…ƒç´ "><a class="markdownIt-Anchor" href="#è®¿é—®å…ƒç´ "></a> è®¿é—®å…ƒç´ </h3>
<p>å¯ä»¥ä½¿ç”¨ä¸‹æ ‡æ“ä½œç¬¦ [] æˆ– at() æ–¹æ³•è®¿é—® vector ä¸­çš„å…ƒç´ ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">int x &#x3D; myVector[0]; &#x2F;&#x2F; è·å–ç¬¬ä¸€ä¸ªå…ƒç´ 
int y &#x3D; myVector.at(1); &#x2F;&#x2F; è·å–ç¬¬äºŒä¸ªå…ƒç´ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="è·å–å¤§å°"><a class="markdownIt-Anchor" href="#è·å–å¤§å°"></a> è·å–å¤§å°</h3>
<p>å¯ä»¥ä½¿ç”¨ size() æ–¹æ³•è·å– vector ä¸­å…ƒç´ çš„æ•°é‡ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">int size &#x3D; myVector.size(); &#x2F;&#x2F; è·å– vector ä¸­çš„å…ƒç´ æ•°é‡<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="è¿­ä»£è®¿é—®"><a class="markdownIt-Anchor" href="#è¿­ä»£è®¿é—®"></a> è¿­ä»£è®¿é—®</h3>
<p>å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨éå† vector ä¸­çš„å…ƒç´ ï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> it <span class="token operator">=</span> myVector<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> myVector<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>æˆ–è€…ä½¿ç”¨èŒƒå›´å¾ªç¯ï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> element <span class="token operator">:</span> myVector<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> element <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="åˆ é™¤å…ƒç´ "><a class="markdownIt-Anchor" href="#åˆ é™¤å…ƒç´ "></a> åˆ é™¤å…ƒç´ </h3>
<p>å¯ä»¥ä½¿ç”¨ erase() æ–¹æ³•åˆ é™¤ vector ä¸­çš„å…ƒç´ ï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">myVector<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>myVector<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ é™¤ç¬¬ä¸‰ä¸ªå…ƒç´ </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="æ¸…ç©º-vector"><a class="markdownIt-Anchor" href="#æ¸…ç©º-vector"></a> æ¸…ç©º Vector</h3>
<p>å¯ä»¥ä½¿ç”¨ clear() æ–¹æ³•æ¸…ç©º vector ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">myVector<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ¸…ç©º vector</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<hr />
<h3 id="å®ä¾‹"><a class="markdownIt-Anchor" href="#å®ä¾‹"></a> å®ä¾‹</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä½¿ç”¨å®ä¾‹ï¼ŒåŒ…æ‹¬åˆ›å»º vectorã€æ·»åŠ å…ƒç´ ã€è®¿é—®å…ƒç´ ä»¥åŠè¾“å‡ºç»“æœçš„ä»£ç ï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// åˆ›å»ºä¸€ä¸ªç©ºçš„æ•´æ•°å‘é‡</span>
  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> myVector<span class="token punctuation">;</span>

  <span class="token comment">// æ·»åŠ å…ƒç´ åˆ°å‘é‡ä¸­</span>
  myVector<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  myVector<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  myVector<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  myVector<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// è®¿é—®å‘é‡ä¸­çš„å…ƒç´ å¹¶è¾“å‡º</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Elements in the vector: "</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> element <span class="token operator">:</span> myVector<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> element <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

  <span class="token comment">// è®¿é—®å‘é‡ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶è¾“å‡º</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"First element: "</span> <span class="token operator">&lt;&lt;</span> myVector<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

  <span class="token comment">// è®¿é—®å‘é‡ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ å¹¶è¾“å‡º</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Second element: "</span> <span class="token operator">&lt;&lt;</span> myVector<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

  <span class="token comment">// è·å–å‘é‡çš„å¤§å°å¹¶è¾“å‡º</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Size of the vector: "</span> <span class="token operator">&lt;&lt;</span> myVector<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

  <span class="token comment">// åˆ é™¤å‘é‡ä¸­çš„ç¬¬ä¸‰ä¸ªå…ƒç´ </span>
  myVector<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>myVector<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// è¾“å‡ºåˆ é™¤å…ƒç´ åçš„å‘é‡</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Elements in the vector after erasing: "</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> element <span class="token operator">:</span> myVector<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> element <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

  <span class="token comment">// æ¸…ç©ºå‘é‡å¹¶è¾“å‡º</span>
  myVector<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Size of the vector after clearing: "</span> <span class="token operator">&lt;&lt;</span> myVector<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä»¥ä¸Šä»£ç åˆ›å»ºäº†ä¸€ä¸ªæ•´æ•°å‘é‡ï¼Œå‘å…¶ä¸­æ·»åŠ äº†å‡ ä¸ªå…ƒç´ ï¼Œç„¶åè¾“å‡ºäº†å‘é‡çš„å†…å®¹ã€å…ƒç´ çš„è®¿é—®ã€å‘é‡çš„å¤§å°ç­‰ä¿¡æ¯ï¼Œæ¥ç€åˆ é™¤äº†å‘é‡ä¸­çš„ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼Œå¹¶è¾“å‡ºåˆ é™¤å…ƒç´ åçš„å‘é‡ã€‚æœ€åæ¸…ç©ºäº†å‘é‡ï¼Œå¹¶è¾“å‡ºæ¸…ç©ºåçš„å‘é‡å¤§å°ã€‚</p>
<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">Elements in the vector: 3 7 11 5 
First element: 3
Second element: 7
Size of the vector: 4
Elements in the vector after erasing: 3 7 5 
Size of the vector after clearing: 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="é¢å‘å¯¹è±¡"><a class="markdownIt-Anchor" href="#é¢å‘å¯¹è±¡"></a> é¢å‘å¯¹è±¡</h1>
<h2 id="ç±»å’Œå¯¹è±¡"><a class="markdownIt-Anchor" href="#ç±»å’Œå¯¹è±¡"></a> ç±»å’Œå¯¹è±¡</h2>

<table>
<thead>
<tr>
<th style="text-align:left">æ¦‚å¿µ</th>
<th style="text-align:left">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-class-member-functions.html">ç±»æˆå‘˜å‡½æ•°</a></td>
<td style="text-align:left">ç±»çš„æˆå‘˜å‡½æ•°æ˜¯æŒ‡é‚£äº›æŠŠå®šä¹‰å’ŒåŸå‹å†™åœ¨ç±»å®šä¹‰å†…éƒ¨çš„å‡½æ•°ï¼Œå°±åƒç±»å®šä¹‰ä¸­çš„å…¶ä»–å˜é‡ä¸€æ ·ã€‚</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-class-access-modifiers.html">ç±»è®¿é—®ä¿®é¥°ç¬¦</a></td>
<td style="text-align:left">ç±»æˆå‘˜å¯ä»¥è¢«å®šä¹‰ä¸º publicã€private æˆ– protectedã€‚é»˜è®¤æƒ…å†µä¸‹æ˜¯å®šä¹‰ä¸º privateã€‚</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-constructor-destructor.html">æ„é€ å‡½æ•° &amp; ææ„å‡½æ•°</a></td>
<td style="text-align:left">ç±»çš„æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡æ—¶è°ƒç”¨ã€‚ç±»çš„ææ„å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œåœ¨åˆ é™¤æ‰€åˆ›å»ºçš„å¯¹è±¡æ—¶è°ƒç”¨ã€‚</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-copy-constructor.html">C++ æ‹·è´æ„é€ å‡½æ•°</a></td>
<td style="text-align:left">æ‹·è´æ„é€ å‡½æ•°ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ„é€ å‡½æ•°ï¼Œå®ƒåœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ˜¯ä½¿ç”¨åŒä¸€ç±»ä¸­ä¹‹å‰åˆ›å»ºçš„å¯¹è±¡æ¥åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-friend-functions.html">C++ å‹å…ƒå‡½æ•°</a></td>
<td style="text-align:left"><strong>å‹å…ƒå‡½æ•°</strong>å¯ä»¥è®¿é—®ç±»çš„ private å’Œ protected æˆå‘˜ã€‚</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-inline-functions.html">C++ å†…è”å‡½æ•°</a></td>
<td style="text-align:left">é€šè¿‡å†…è”å‡½æ•°ï¼Œç¼–è¯‘å™¨è¯•å›¾åœ¨è°ƒç”¨å‡½æ•°çš„åœ°æ–¹æ‰©å±•å‡½æ•°ä½“ä¸­çš„ä»£ç ã€‚</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-this-pointer.html">C++ ä¸­çš„ this æŒ‡é’ˆ</a></td>
<td style="text-align:left">æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆ <strong>this</strong>ï¼Œå®ƒæŒ‡å‘å¯¹è±¡æœ¬èº«ã€‚</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-pointer-to-class.html">C++ ä¸­æŒ‡å‘ç±»çš„æŒ‡é’ˆ</a></td>
<td style="text-align:left">æŒ‡å‘ç±»çš„æŒ‡é’ˆæ–¹å¼å¦‚åŒæŒ‡å‘ç»“æ„çš„æŒ‡é’ˆã€‚å®é™…ä¸Šï¼Œç±»å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå¸¦æœ‰å‡½æ•°çš„ç»“æ„ã€‚</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-static-members.html">C++ ç±»çš„é™æ€æˆå‘˜</a></td>
<td style="text-align:left">ç±»çš„æ•°æ®æˆå‘˜å’Œå‡½æ•°æˆå‘˜éƒ½å¯ä»¥è¢«å£°æ˜ä¸ºé™æ€çš„ã€‚</td>
</tr>
</tbody>
</table>
<h2 id="ç»§æ‰¿"><a class="markdownIt-Anchor" href="#ç»§æ‰¿"></a> ç»§æ‰¿</h2>
<p>ç»§æ‰¿å…è®¸æˆ‘ä»¬ä¾æ®å¦ä¸€ä¸ªç±»æ¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™ä½¿å¾—åˆ›å»ºå’Œç»´æŠ¤ä¸€ä¸ªåº”ç”¨ç¨‹åºå˜å¾—æ›´å®¹æ˜“ã€‚è¿™æ ·åšï¼Œä¹Ÿè¾¾åˆ°äº†é‡ç”¨ä»£ç åŠŸèƒ½å’Œæé«˜æ‰§è¡Œæ•ˆç‡çš„æ•ˆæœã€‚</p>
<p>å½“åˆ›å»ºä¸€ä¸ªç±»æ—¶ï¼Œæ‚¨ä¸éœ€è¦é‡æ–°ç¼–å†™æ–°çš„æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ï¼Œåªéœ€æŒ‡å®šæ–°å»ºçš„ç±»ç»§æ‰¿äº†ä¸€ä¸ªå·²æœ‰çš„ç±»çš„æˆå‘˜å³å¯ã€‚è¿™ä¸ªå·²æœ‰çš„ç±»ç§°ä¸º<strong>åŸºç±»</strong>ï¼Œæ–°å»ºçš„ç±»ç§°ä¸º<strong>æ´¾ç”Ÿç±»</strong>ã€‚</p>
<p>ç»§æ‰¿ä»£è¡¨äº† <strong>is a</strong> å…³ç³»ã€‚ä¾‹å¦‚ï¼Œå“ºä¹³åŠ¨ç‰©æ˜¯åŠ¨ç‰©ï¼Œç‹—æ˜¯å“ºä¹³åŠ¨ç‰©ï¼Œå› æ­¤ï¼Œç‹—æ˜¯åŠ¨ç‰©</p>
<img src="/2024/07/11/C++%E5%9F%BA%E7%A1%80/cpp-inheritance-2020-12-15-1.png" class="" alt="img" loading="lazy">
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// åŸºç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// eat() å‡½æ•°</span>
    <span class="token comment">// sleep() å‡½æ•°</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>


<span class="token comment">//æ´¾ç”Ÿç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Animal</span></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// bark() å‡½æ•°</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="åŸºç±»æ´¾ç”Ÿç±»"><a class="markdownIt-Anchor" href="#åŸºç±»æ´¾ç”Ÿç±»"></a> åŸºç±»&amp;æ´¾ç”Ÿç±»</h3>
<p>ä¸€ä¸ªç±»å¯ä»¥æ´¾ç”Ÿè‡ªå¤šä¸ªç±»ï¼Œè¿™æ„å‘³ç€ï¼Œå®ƒå¯ä»¥ä»å¤šä¸ªåŸºç±»ç»§æ‰¿æ•°æ®å’Œå‡½æ•°ã€‚å®šä¹‰ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç±»æ´¾ç”Ÿåˆ—è¡¨æ¥æŒ‡å®šåŸºç±»ã€‚ç±»æ´¾ç”Ÿåˆ—è¡¨ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªåŸºç±»å‘½åï¼Œå½¢å¼å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">derived</span><span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">:</span> access<span class="token operator">-</span>specifier base<span class="token operator">-</span><span class="token keyword">class</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å…¶ä¸­ï¼Œè®¿é—®ä¿®é¥°ç¬¦ access-specifier æ˜¯ <strong>publicã€protected</strong> æˆ– <strong>private</strong> å…¶ä¸­çš„ä¸€ä¸ªï¼Œbase-class æ˜¯ä¹‹å‰å®šä¹‰è¿‡çš„æŸä¸ªç±»çš„åç§°ã€‚å¦‚æœæœªä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦ access-specifierï¼Œåˆ™é»˜è®¤ä¸º privateã€‚</p>
<h3 id="è®¿é—®æ§åˆ¶å’Œç»§æ‰¿"><a class="markdownIt-Anchor" href="#è®¿é—®æ§åˆ¶å’Œç»§æ‰¿"></a> è®¿é—®æ§åˆ¶å’Œç»§æ‰¿</h3>
<p>æ´¾ç”Ÿç±»å¯ä»¥è®¿é—®åŸºç±»ä¸­æ‰€æœ‰çš„éç§æœ‰æˆå‘˜ã€‚å› æ­¤åŸºç±»æˆå‘˜å¦‚æœä¸æƒ³è¢«æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œåˆ™åº”åœ¨åŸºç±»ä¸­å£°æ˜ä¸º privateã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æ ¹æ®è®¿é—®æƒé™æ€»ç»“å‡ºä¸åŒçš„è®¿é—®ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:left">è®¿é—®</th>
<th style="text-align:left">public</th>
<th style="text-align:left">protected</th>
<th style="text-align:left">private</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">åŒä¸€ä¸ªç±»</td>
<td style="text-align:left">yes</td>
<td style="text-align:left">yes</td>
<td style="text-align:left">yes</td>
</tr>
<tr>
<td style="text-align:left">æ´¾ç”Ÿç±»</td>
<td style="text-align:left">yes</td>
<td style="text-align:left">yes</td>
<td style="text-align:left">no</td>
</tr>
<tr>
<td style="text-align:left">å¤–éƒ¨çš„ç±»</td>
<td style="text-align:left">yes</td>
<td style="text-align:left">no</td>
<td style="text-align:left">no</td>
</tr>
</tbody>
</table>
<p>ä¸€ä¸ªæ´¾ç”Ÿç±»ç»§æ‰¿äº†æ‰€æœ‰çš„åŸºç±»æ–¹æ³•ï¼Œä½†ä¸‹åˆ—æƒ…å†µé™¤å¤–ï¼š</p>
<ul>
<li>åŸºç±»çš„æ„é€ å‡½æ•°ã€ææ„å‡½æ•°å’Œæ‹·è´æ„é€ å‡½æ•°ã€‚</li>
<li>åŸºç±»çš„é‡è½½è¿ç®—ç¬¦ã€‚</li>
<li>åŸºç±»çš„å‹å…ƒå‡½æ•°ã€‚</li>
</ul>
<h3 id="ç»§æ‰¿ç±»å‹"><a class="markdownIt-Anchor" href="#ç»§æ‰¿ç±»å‹"></a> ç»§æ‰¿ç±»å‹</h3>
<p>å½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ªåŸºç±»ï¼Œè¯¥åŸºç±»å¯ä»¥è¢«ç»§æ‰¿ä¸º <strong>publicã€protected</strong> æˆ– <strong>private</strong> å‡ ç§ç±»å‹ã€‚ç»§æ‰¿ç±»å‹æ˜¯é€šè¿‡ä¸Šé¢è®²è§£çš„è®¿é—®ä¿®é¥°ç¬¦ access-specifier æ¥æŒ‡å®šçš„ã€‚</p>
<p>æˆ‘ä»¬å‡ ä¹ä¸ä½¿ç”¨ <strong>protected</strong> æˆ– <strong>private</strong> ç»§æ‰¿ï¼Œé€šå¸¸ä½¿ç”¨ <strong>public</strong> ç»§æ‰¿ã€‚å½“ä½¿ç”¨ä¸åŒç±»å‹çš„ç»§æ‰¿æ—¶ï¼Œéµå¾ªä»¥ä¸‹å‡ ä¸ªè§„åˆ™ï¼š</p>
<ul>
<li><strong>å…¬æœ‰ç»§æ‰¿ï¼ˆpublicï¼‰ï¼š<strong>å½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ª</strong>å…¬æœ‰</strong>åŸºç±»æ—¶ï¼ŒåŸºç±»çš„<strong>å…¬æœ‰</strong>æˆå‘˜ä¹Ÿæ˜¯æ´¾ç”Ÿç±»çš„<strong>å…¬æœ‰</strong>æˆå‘˜ï¼ŒåŸºç±»çš„<strong>ä¿æŠ¤</strong>æˆå‘˜ä¹Ÿæ˜¯æ´¾ç”Ÿç±»çš„<strong>ä¿æŠ¤</strong>æˆå‘˜ï¼ŒåŸºç±»çš„<strong>ç§æœ‰</strong>æˆå‘˜ä¸èƒ½ç›´æ¥è¢«æ´¾ç”Ÿç±»è®¿é—®ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è°ƒç”¨åŸºç±»çš„<strong>å…¬æœ‰</strong>å’Œ<strong>ä¿æŠ¤</strong>æˆå‘˜æ¥è®¿é—®ã€‚</li>
<li><strong>ä¿æŠ¤ç»§æ‰¿ï¼ˆprotectedï¼‰ï¼š</strong> å½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ª<strong>ä¿æŠ¤</strong>åŸºç±»æ—¶ï¼ŒåŸºç±»çš„<strong>å…¬æœ‰</strong>å’Œ<strong>ä¿æŠ¤</strong>æˆå‘˜å°†æˆä¸ºæ´¾ç”Ÿç±»çš„<strong>ä¿æŠ¤</strong>æˆå‘˜ã€‚</li>
<li><strong>ç§æœ‰ç»§æ‰¿ï¼ˆprivateï¼‰ï¼š<strong>å½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ª</strong>ç§æœ‰</strong>åŸºç±»æ—¶ï¼ŒåŸºç±»çš„<strong>å…¬æœ‰</strong>å’Œ<strong>ä¿æŠ¤</strong>æˆå‘˜å°†æˆä¸ºæ´¾ç”Ÿç±»çš„<strong>ç§æœ‰</strong>æˆå‘˜</li>
</ul>
<h3 id="å¤šç»§æ‰¿"><a class="markdownIt-Anchor" href="#å¤šç»§æ‰¿"></a> å¤šç»§æ‰¿</h3>
<p>å¤šç»§æ‰¿å³ä¸€ä¸ªå­ç±»å¯ä»¥æœ‰å¤šä¸ªçˆ¶ç±»ï¼Œå®ƒç»§æ‰¿äº†å¤šä¸ªçˆ¶ç±»çš„ç‰¹æ€§ã€‚</p>
<p>C++ ç±»å¯ä»¥ä»å¤šä¸ªç±»ç»§æ‰¿æˆå‘˜ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token operator">&lt;</span>æ´¾ç”Ÿç±»å<span class="token operator">></span><span class="token operator">:</span><span class="token operator">&lt;</span>ç»§æ‰¿æ–¹å¼<span class="token number">1</span><span class="token operator">></span><span class="token operator">&lt;</span>åŸºç±»å<span class="token number">1</span><span class="token operator">></span><span class="token punctuation">,</span><span class="token operator">&lt;</span>ç»§æ‰¿æ–¹å¼<span class="token number">2</span><span class="token operator">></span><span class="token operator">&lt;</span>åŸºç±»å<span class="token number">2</span><span class="token operator">></span><span class="token punctuation">,</span>â€¦
<span class="token punctuation">&#123;</span>
<span class="token operator">&lt;</span>æ´¾ç”Ÿç±»ç±»ä½“<span class="token operator">></span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…¶ä¸­ï¼Œè®¿é—®ä¿®é¥°ç¬¦ç»§æ‰¿æ–¹å¼æ˜¯ <strong>publicã€protected</strong> æˆ– <strong>private</strong> å…¶ä¸­çš„ä¸€ä¸ªï¼Œç”¨æ¥ä¿®é¥°æ¯ä¸ªåŸºç±»ï¼Œå„ä¸ªåŸºç±»ä¹‹é—´ç”¨é€—å·åˆ†éš”</p>
<h2 id="é‡è½½"><a class="markdownIt-Anchor" href="#é‡è½½"></a> é‡è½½</h2>
<h3 id="å‡½æ•°é‡è½½"><a class="markdownIt-Anchor" href="#å‡½æ•°é‡è½½"></a> å‡½æ•°é‡è½½</h3>
<p>åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œå¯ä»¥å£°æ˜å‡ ä¸ªåŠŸèƒ½ç±»ä¼¼çš„åŒåå‡½æ•°ï¼Œä½†æ˜¯è¿™äº›åŒåå‡½æ•°çš„å½¢å¼å‚æ•°ï¼ˆæŒ‡å‚æ•°çš„ä¸ªæ•°ã€ç±»å‹æˆ–è€…é¡ºåºï¼‰å¿…é¡»ä¸åŒã€‚æ‚¨ä¸èƒ½ä»…é€šè¿‡è¿”å›ç±»å‹çš„ä¸åŒæ¥é‡è½½å‡½æ•°ã€‚</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">printData</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ•´æ•°ä¸º:"</span><span class="token operator">&lt;&lt;</span>i<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">double</span> f<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æµ®ç‚¹æ•°ä¸º: "</span><span class="token operator">&lt;&lt;</span>f<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="è¿ç®—ç¬¦é‡ç½®"><a class="markdownIt-Anchor" href="#è¿ç®—ç¬¦é‡ç½®"></a> è¿ç®—ç¬¦é‡ç½®</h3>
<p>æ‚¨å¯ä»¥é‡å®šä¹‰æˆ–é‡è½½å¤§éƒ¨åˆ† C++ å†…ç½®çš„è¿ç®—ç¬¦ã€‚è¿™æ ·ï¼Œæ‚¨å°±èƒ½ä½¿ç”¨è‡ªå®šä¹‰ç±»å‹çš„è¿ç®—ç¬¦ã€‚</p>
<p>é‡è½½çš„è¿ç®—ç¬¦æ˜¯å¸¦æœ‰ç‰¹æ®Šåç§°çš„å‡½æ•°ï¼Œå‡½æ•°åæ˜¯ç”±å…³é”®å­— operator å’Œå…¶åè¦é‡è½½çš„è¿ç®—ç¬¦ç¬¦å·æ„æˆçš„ã€‚ä¸å…¶ä»–å‡½æ•°ä¸€æ ·ï¼Œé‡è½½è¿ç®—ç¬¦æœ‰ä¸€ä¸ªè¿”å›ç±»å‹å’Œä¸€ä¸ªå‚æ•°åˆ—è¡¨ã€‚</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Box <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> Box<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å£°æ˜åŠ æ³•è¿ç®—ç¬¦ç”¨äºæŠŠä¸¤ä¸ª Box å¯¹è±¡ç›¸åŠ ï¼Œè¿”å›æœ€ç»ˆçš„ Box å¯¹è±¡ã€‚å¤§å¤šæ•°çš„é‡è½½è¿ç®—ç¬¦å¯è¢«å®šä¹‰ä¸ºæ™®é€šçš„éæˆå‘˜å‡½æ•°æˆ–è€…è¢«å®šä¹‰ä¸ºç±»æˆå‘˜å‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬å®šä¹‰ä¸Šé¢çš„å‡½æ•°ä¸ºç±»çš„éæˆå‘˜å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä¸ºæ¯æ¬¡æ“ä½œä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Box <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> Box<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> Box<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="å¯ä¸å¯é‡è½½è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#å¯ä¸å¯é‡è½½è¿ç®—ç¬¦"></a> å¯/ä¸å¯é‡è½½è¿ç®—ç¬¦</h3>
<p>ä¸‹é¢æ˜¯å¯é‡è½½çš„è¿ç®—ç¬¦åˆ—è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>åŒç›®ç®—æœ¯è¿ç®—ç¬¦</th>
<th>+ (åŠ )ï¼Œ-(å‡)ï¼Œ*(ä¹˜)ï¼Œ/(é™¤)ï¼Œ% (å–æ¨¡)</th>
</tr>
</thead>
<tbody>
<tr>
<td>å…³ç³»è¿ç®—ç¬¦</td>
<td>==(ç­‰äº)ï¼Œ!= (ä¸ç­‰äº)ï¼Œ&lt; (å°äº)ï¼Œ&gt; (å¤§äº)ï¼Œ&lt;=(å°äºç­‰äº)ï¼Œ&gt;=(å¤§äºç­‰äº)</td>
</tr>
<tr>
<td>é€»è¾‘è¿ç®—ç¬¦</td>
<td>||(é€»è¾‘æˆ–)ï¼Œ&amp;&amp;(é€»è¾‘ä¸)ï¼Œ!(é€»è¾‘é)</td>
</tr>
<tr>
<td>å•ç›®è¿ç®—ç¬¦</td>
<td>+ (æ­£)ï¼Œ-(è´Ÿ)ï¼Œ*(æŒ‡é’ˆ)ï¼Œ&amp;(å–åœ°å€)</td>
</tr>
<tr>
<td>è‡ªå¢è‡ªå‡è¿ç®—ç¬¦</td>
<td>++(è‡ªå¢)ï¼Œâ€“(è‡ªå‡)</td>
</tr>
<tr>
<td>ä½è¿ç®—ç¬¦</td>
<td>| (æŒ‰ä½æˆ–)ï¼Œ&amp; (æŒ‰ä½ä¸)ï¼Œ~(æŒ‰ä½å–å)ï¼Œ^(æŒ‰ä½å¼‚æˆ–),ï¼Œ&lt;&lt; (å·¦ç§»)ï¼Œ&gt;&gt;(å³ç§»)</td>
</tr>
<tr>
<td>èµ‹å€¼è¿ç®—ç¬¦</td>
<td>=, +=, -=, *=, /= , % = , &amp;=, |=, ^=, &lt;&lt;=, &gt;&gt;=</td>
</tr>
<tr>
<td>ç©ºé—´ç”³è¯·ä¸é‡Šæ”¾</td>
<td>new, delete, new[ ] , delete[]</td>
</tr>
<tr>
<td>å…¶ä»–è¿ç®—ç¬¦</td>
<td><strong>()</strong>(å‡½æ•°è°ƒç”¨)ï¼Œ<strong>-&gt;</strong>(æˆå‘˜è®¿é—®)ï¼Œ<strong>,</strong>(é€—å·)ï¼Œ<strong>[]</strong>(ä¸‹æ ‡)</td>
</tr>
</tbody>
</table>
<p>ä¸‹é¢æ˜¯ä¸å¯é‡è½½çš„è¿ç®—ç¬¦åˆ—è¡¨ï¼š</p>
<ul>
<li><strong>.</strong>ï¼šæˆå‘˜è®¿é—®è¿ç®—ç¬¦</li>
<li><strong>.*</strong>, <strong>-&gt;*</strong>ï¼šæˆå‘˜æŒ‡é’ˆè®¿é—®è¿ç®—ç¬¦</li>
<li><strong>::</strong>ï¼šåŸŸè¿ç®—ç¬¦</li>
<li><strong>sizeof</strong>ï¼šé•¿åº¦è¿ç®—ç¬¦</li>
<li><strong>?:</strong>ï¼šæ¡ä»¶è¿ç®—ç¬¦</li>
<li><strong>#</strong>ï¼š é¢„å¤„ç†ç¬¦å·</li>
</ul>
<h2 id="å¤šæ€"><a class="markdownIt-Anchor" href="#å¤šæ€"></a> å¤šæ€</h2>
<p><strong>å¤šæ€</strong>æŒ‰å­—é¢çš„æ„æ€å°±æ˜¯å¤šç§å½¢æ€ã€‚å½“ç±»ä¹‹é—´å­˜åœ¨å±‚æ¬¡ç»“æ„ï¼Œå¹¶ä¸”ç±»ä¹‹é—´æ˜¯é€šè¿‡ç»§æ‰¿å…³è”æ—¶ï¼Œå°±ä¼šç”¨åˆ°å¤šæ€ã€‚</p>
<p>C++ å¤šæ€æ„å‘³ç€è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œä¼šæ ¹æ®è°ƒç”¨å‡½æ•°çš„å¯¹è±¡çš„ç±»å‹æ¥æ‰§è¡Œä¸åŒçš„å‡½æ•°ã€‚</p>
<h3 id="è™šå‡½æ•°"><a class="markdownIt-Anchor" href="#è™šå‡½æ•°"></a> è™šå‡½æ•°</h3>
<p><strong>è™šå‡½æ•°</strong> æ˜¯åœ¨åŸºç±»ä¸­ä½¿ç”¨å…³é”®å­— <strong>virtual</strong> å£°æ˜çš„å‡½æ•°ã€‚åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰åŸºç±»ä¸­å®šä¹‰çš„è™šå‡½æ•°æ—¶ï¼Œä¼šå‘Šè¯‰ç¼–è¯‘å™¨ä¸è¦é™æ€é“¾æ¥åˆ°è¯¥å‡½æ•°ã€‚</p>
<p>æˆ‘ä»¬æƒ³è¦çš„æ˜¯åœ¨ç¨‹åºä¸­ä»»æ„ç‚¹å¯ä»¥æ ¹æ®æ‰€è°ƒç”¨çš„å¯¹è±¡ç±»å‹æ¥é€‰æ‹©è°ƒç”¨çš„å‡½æ•°ï¼Œè¿™ç§æ“ä½œè¢«ç§°ä¸º<strong>åŠ¨æ€é“¾æ¥</strong>ï¼Œæˆ–<strong>åæœŸç»‘å®š</strong>ã€‚</p>
<h3 id="çº¯è™šå‡½æ•°"><a class="markdownIt-Anchor" href="#çº¯è™šå‡½æ•°"></a> çº¯è™šå‡½æ•°</h3>
<p>æ‚¨å¯èƒ½æƒ³è¦åœ¨åŸºç±»ä¸­å®šä¹‰è™šå‡½æ•°ï¼Œä»¥ä¾¿åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰è¯¥å‡½æ•°æ›´å¥½åœ°é€‚ç”¨äºå¯¹è±¡ï¼Œä½†æ˜¯æ‚¨åœ¨åŸºç±»ä¸­åˆä¸èƒ½å¯¹è™šå‡½æ•°ç»™å‡ºæœ‰æ„ä¹‰çš„å®ç°ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šç”¨åˆ°çº¯è™šå‡½æ•°ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠåŸºç±»ä¸­çš„è™šå‡½æ•° area() æ”¹å†™å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">class Shape <span class="token punctuation">&#123;</span>   
    protected<span class="token operator">:</span>      
    <span class="token keyword">int</span> width<span class="token punctuation">,</span> height<span class="token punctuation">;</span>  
    public<span class="token operator">:</span>      
    <span class="token function">Shape</span><span class="token punctuation">(</span> <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>      
    <span class="token punctuation">&#123;</span>         width <span class="token operator">=</span> a<span class="token punctuation">;</span>         
     height <span class="token operator">=</span> b<span class="token punctuation">;</span>      
    <span class="token punctuation">&#125;</span>      <span class="token comment">// pure virtual function      </span>
    virtual <span class="token keyword">int</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token operator">=</span> <span class="token number">0</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå‡½æ•°æ²¡æœ‰ä¸»ä½“ï¼Œä¸Šé¢çš„è™šå‡½æ•°æ˜¯<strong>çº¯è™šå‡½æ•°</strong>ã€‚</p>
<h2 id="æ•°æ®æŠ½è±¡"><a class="markdownIt-Anchor" href="#æ•°æ®æŠ½è±¡"></a> æ•°æ®æŠ½è±¡</h2>
<p>æ•°æ®å°è£…ï¼ˆData Encapsulationï¼‰æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰çš„ä¸€ä¸ªåŸºæœ¬æ¦‚å¿µï¼Œå®ƒé€šè¿‡å°†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°å°è£…åœ¨ä¸€ä¸ªç±»ä¸­æ¥å®ç°ã€‚è¿™ç§å°è£…ç¡®ä¿äº†æ•°æ®çš„ç§æœ‰æ€§å’Œå®Œæ•´æ€§ï¼Œé˜²æ­¢äº†å¤–éƒ¨ä»£ç å¯¹å…¶ç›´æ¥è®¿é—®å’Œä¿®æ”¹ã€‚</p>
<p>æ‰€æœ‰çš„ C++ ç¨‹åºéƒ½æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸºæœ¬è¦ç´ ï¼š</p>
<ul>
<li>**ç¨‹åºè¯­å¥ï¼ˆä»£ç ï¼‰ï¼š**è¿™æ˜¯ç¨‹åºä¸­æ‰§è¡ŒåŠ¨ä½œçš„éƒ¨åˆ†ï¼Œå®ƒä»¬è¢«ç§°ä¸ºå‡½æ•°ã€‚</li>
<li>**ç¨‹åºæ•°æ®ï¼š**æ•°æ®æ˜¯ç¨‹åºçš„ä¿¡æ¯ï¼Œä¼šå—åˆ°ç¨‹åºå‡½æ•°çš„å½±å“ã€‚</li>
</ul>
<p>å°è£…æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„æŠŠæ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°ç»‘å®šåœ¨ä¸€èµ·çš„ä¸€ä¸ªæ¦‚å¿µï¼Œè¿™æ ·èƒ½é¿å…å—åˆ°å¤–ç•Œçš„å¹²æ‰°å’Œè¯¯ç”¨ï¼Œä»è€Œç¡®ä¿äº†å®‰å…¨ã€‚æ•°æ®å°è£…å¼•ç”³å‡ºäº†å¦ä¸€ä¸ªé‡è¦çš„ OOP æ¦‚å¿µï¼Œå³<strong>æ•°æ®éšè—</strong>ã€‚</p>
<p><strong>æ•°æ®å°è£…</strong>æ˜¯ä¸€ç§æŠŠæ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°æ†ç»‘åœ¨ä¸€èµ·çš„æœºåˆ¶ï¼Œ<strong>æ•°æ®æŠ½è±¡</strong>æ˜¯ä¸€ç§ä»…å‘ç”¨æˆ·æš´éœ²æ¥å£è€ŒæŠŠå…·ä½“çš„å®ç°ç»†èŠ‚éšè—èµ·æ¥çš„æœºåˆ¶ã€‚</p>
<p>C++ é€šè¿‡åˆ›å»º<strong>ç±»</strong>æ¥æ”¯æŒå°è£…å’Œæ•°æ®éšè—ï¼ˆpublicã€protectedã€privateï¼‰ã€‚æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œç±»åŒ…å«ç§æœ‰æˆå‘˜ï¼ˆprivateï¼‰ã€ä¿æŠ¤æˆå‘˜ï¼ˆprotectedï¼‰å’Œå…¬æœ‰æˆå‘˜ï¼ˆpublicï¼‰æˆå‘˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ç±»ä¸­å®šä¹‰çš„æ‰€æœ‰é¡¹ç›®éƒ½æ˜¯ç§æœ‰çš„ã€‚ä¾‹å¦‚ï¼š</p>
<p>æŠŠä¸€ä¸ªç±»å®šä¹‰ä¸ºå¦ä¸€ä¸ªç±»çš„å‹å…ƒç±»ï¼Œä¼šæš´éœ²å®ç°ç»†èŠ‚ï¼Œä»è€Œé™ä½äº†å°è£…æ€§ã€‚ç†æƒ³çš„åšæ³•æ˜¯å°½å¯èƒ½åœ°å¯¹å¤–éšè—æ¯ä¸ªç±»çš„å®ç°ç»†èŠ‚ã€‚</p>
<p><strong>è®¿é—®ä¿®é¥°ç¬¦ï¼š</strong></p>
<ul>
<li><strong>private</strong>: ç§æœ‰æˆå‘˜åªèƒ½åœ¨ç±»çš„å†…éƒ¨è®¿é—®ï¼Œä¸èƒ½è¢«ç±»çš„å¤–éƒ¨ä»£ç ç›´æ¥è®¿é—®ã€‚</li>
<li><strong>public</strong>: å…¬æœ‰æˆå‘˜å¯ä»¥è¢«ç±»çš„å¤–éƒ¨ä»£ç ç›´æ¥è®¿é—®ã€‚</li>
<li><strong>protected</strong>: å—ä¿æŠ¤æˆå‘˜å¯ä»¥è¢«ç±»å’Œå…¶æ´¾ç”Ÿç±»è®¿é—®ã€‚</li>
</ul>
<h2 id="ç±»çš„å°è£…æŠ½è±¡"><a class="markdownIt-Anchor" href="#ç±»çš„å°è£…æŠ½è±¡"></a> ç±»çš„å°è£…(æŠ½è±¡)</h2>
<h3 id="è®¾è®¡ç­–ç•¥"><a class="markdownIt-Anchor" href="#è®¾è®¡ç­–ç•¥"></a> è®¾è®¡ç­–ç•¥</h3>
<p>é¢å‘å¯¹è±¡çš„ç³»ç»Ÿå¯èƒ½ä¼šä½¿ç”¨ä¸€ä¸ªæŠ½è±¡åŸºç±»ä¸ºæ‰€æœ‰çš„å¤–éƒ¨åº”ç”¨ç¨‹åºæä¾›ä¸€ä¸ªé€‚å½“çš„ã€é€šç”¨çš„ã€æ ‡å‡†åŒ–çš„æ¥å£ã€‚ç„¶åï¼Œæ´¾ç”Ÿç±»é€šè¿‡ç»§æ‰¿æŠ½è±¡åŸºç±»ï¼Œå°±æŠŠæ‰€æœ‰ç±»ä¼¼çš„æ“ä½œéƒ½ç»§æ‰¿ä¸‹æ¥ã€‚</p>
<p>å¤–éƒ¨åº”ç”¨ç¨‹åºæä¾›çš„åŠŸèƒ½ï¼ˆå³å…¬æœ‰å‡½æ•°ï¼‰åœ¨æŠ½è±¡åŸºç±»ä¸­æ˜¯ä»¥çº¯è™šå‡½æ•°çš„å½¢å¼å­˜åœ¨çš„ã€‚è¿™äº›çº¯è™šå‡½æ•°åœ¨ç›¸åº”çš„æ´¾ç”Ÿç±»ä¸­è¢«å®ç°ã€‚</p>
<p>è¿™ä¸ªæ¶æ„ä¹Ÿä½¿å¾—æ–°çš„åº”ç”¨ç¨‹åºå¯ä»¥å¾ˆå®¹æ˜“åœ°è¢«æ·»åŠ åˆ°ç³»ç»Ÿä¸­ï¼Œå³ä½¿æ˜¯åœ¨ç³»ç»Ÿè¢«å®šä¹‰ä¹‹åä¾ç„¶å¯ä»¥å¦‚æ­¤ã€‚</p>
</div></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2024/07/12/%E5%88%9D%E8%AF%86UPX/" rel="prev" title="åˆè¯†UPX"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">åˆè¯†UPX</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2024/07/11/%E5%88%9D%E8%AF%86idaPro/" rel="next" title="åˆè¯†idaPro"><span class="post-nav-text">åˆè¯†idaPro</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>æ‚¨éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œæ‰å¯ä½¿ç”¨è¯„è®ºåŒºåŠŸèƒ½ã€‚</span><br></div><div id="waline"></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.css"><script>window.CONFIG.waline.config.path = "/2024/07/11/C++%E5%9F%BA%E7%A1%80/"</script><div class="js-Pjax"><script src="/js/comments/waline.js" type="module" defer></script></div></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank"></a></div><div class="copyright"><span>&copy; 2023 â€“ 2024 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> Npc</span></div><div class="footer-custom-text">=w=</div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="Searching..." value=""></div><div class="search-result-container"></div></div><script src="https://fastly.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script>const images = [...document.querySelectorAll('.markdown-body img')]
mediumZoom(images)</script><style>.medium-zoom-image {
  z-index: 99;
}</style></body></html>