<!DOCTYPE html><html lang="[&quot;en&quot;,&quot;zh-CN&quot;,&quot;default&quot;]"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Npc"><meta name="copyright" content="Npc"><meta name="generator" content="Hexo 7.1.1"><meta name="theme" content="hexo-theme-yun"><title>Python-webÁ¨îËÆ∞ | Npc | Blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/my_blog_prism@1.0.5/prism.css"><script src="https://cdn.jsdelivr.net/npm/my_blog_prism@1.0.5/prism.js"></script><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"npc0vo.github.io","root":"/","title":"NpcÂ∞èÁ´ô","version":"1.10.11","mode":"light","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"local_search":{"path":"/search.xml"},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"fireworks":{"colors":null},"waline":{"config":{"enable":true,"serverURL":"https://waline-onelastchicks-projects.vercel.app/","comment":false,"el":"#waline","lang":["en","zh-CN","default"]},"cdn":"https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.js","dark":"html.dark"},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="introduction Â≠¶‰π†pythonÁà¨Ëô´ÁöÑÁ¨îËÆ∞  basics  Web-basics  url  scheme:&#x2F;&#x2F;[username:password@]hostname[:port][&#x2F;path][;parameters][?query][#fragment]  scheme:ÂçèËÆÆÔºåegÔºöhttp;https;ftp  ‰πüÁß∞‰Ωúprotocol username,password:Áî®Êà∑">
<meta property="og:type" content="article">
<meta property="og:title" content="Python-webÁ¨îËÆ∞">
<meta property="og:url" content="http://npc0vo.github.io/2024/03/13/%E7%88%AC%E8%99%AB%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Npc | Blog">
<meta property="og:description" content="introduction Â≠¶‰π†pythonÁà¨Ëô´ÁöÑÁ¨îËÆ∞  basics  Web-basics  url  scheme:&#x2F;&#x2F;[username:password@]hostname[:port][&#x2F;path][;parameters][?query][#fragment]  scheme:ÂçèËÆÆÔºåegÔºöhttp;https;ftp  ‰πüÁß∞‰Ωúprotocol username,password:Áî®Êà∑">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://s2.loli.net/2024/03/13/LyuRpMGgJ6lZTs1.png">
<meta property="og:image" content="https://s2.loli.net/2024/03/13/AgvElbUamZCHrqD.png">
<meta property="og:image" content="https://s2.loli.net/2024/03/13/yWVxA3bJfXZIp5l.png">
<meta property="og:image" content="https://s2.loli.net/2024/03/13/8kqGnfgsecl5pYt.png">
<meta property="og:image" content="https://s2.loli.net/2024/03/13/7aTBLdEbjHQ1GSy.png">
<meta property="article:published_time" content="2024-03-13T08:05:40.000Z">
<meta property="article:modified_time" content="2024-07-04T11:01:04.047Z">
<meta property="article:author" content="Npc">
<meta property="article:tag" content="Áà¨Ëô´">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2024/03/13/LyuRpMGgJ6lZTs1.png"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Npc"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="Npc"><span class="site-author-status">üò≠</span></a><div class="site-author-name"><a href="/about/">Npc</a></div><span class="site-name">Npc | Blog</span><sub class="site-subtitle">ÊÉ≥s</sub><div class="site-description"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">70</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">11</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">14</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ÁïôË®ÄÊùø"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:clipboard-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/npc0vo" title="GitHub" target="_blank" style="color:#6e5494"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:me@1930278836@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.yuque.com/npc0vo" title="Yuque" target="_blank" style="color:#a0c69d"><span class="icon iconify" data-icon="ri:yuque-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="ÊàëÁöÑÂ∞è‰ºô‰º¥‰ª¨" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a></div></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#introduction"><span class="toc-number">1.</span> <span class="toc-text"> introduction</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#basics"><span class="toc-number">2.</span> <span class="toc-text"> basics</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#web-basics"><span class="toc-number">2.1.</span> <span class="toc-text"> Web-basics</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#url"><span class="toc-number">2.1.1.</span> <span class="toc-text"> url</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#httphttps"><span class="toc-number">2.1.2.</span> <span class="toc-text"> http,https</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#request"><span class="toc-number">2.1.3.</span> <span class="toc-text"> request</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#request-method"><span class="toc-number">2.1.3.1.</span> <span class="toc-text"> request-method</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#request-head"><span class="toc-number">2.1.3.2.</span> <span class="toc-text"> request-head</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#request-body"><span class="toc-number">2.1.3.3.</span> <span class="toc-text"> request-body</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#response"><span class="toc-number">2.1.4.</span> <span class="toc-text"> response</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#status-code"><span class="toc-number">2.1.4.1.</span> <span class="toc-text"> status-code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#response-header"><span class="toc-number">2.1.4.2.</span> <span class="toc-text"> response-header</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#response-body"><span class="toc-number">2.1.4.3.</span> <span class="toc-text"> response-body</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#urllib"><span class="toc-number">2.2.</span> <span class="toc-text"> urllib</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#urllibrequest"><span class="toc-number">2.2.1.</span> <span class="toc-text"> urllib.request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#urlliberror"><span class="toc-number">2.2.2.</span> <span class="toc-text"> urllib.error</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#urllibparse"><span class="toc-number">2.2.3.</span> <span class="toc-text"> urllib.parse</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#urllibrobotparser"><span class="toc-number">2.2.4.</span> <span class="toc-text"> urllib.robotparser</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#handler"><span class="toc-number">2.2.5.</span> <span class="toc-text"> handler</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#requests"><span class="toc-number">2.3.</span> <span class="toc-text"> requests</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#re"><span class="toc-number">2.4.</span> <span class="toc-text"> re</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%AF%AD%E6%B3%95"><span class="toc-number">2.4.1.</span> <span class="toc-text"> Ê≠£ÂàôËØ≠Ê≥ï</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99"><span class="toc-number">2.4.2.</span> <span class="toc-text"> Â∏∏Áî®Ê≠£Âàô</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re%E5%BA%93"><span class="toc-number">2.4.3.</span> <span class="toc-text"> reÂ∫ì</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E9%A1%B9%E6%9F%A5%E6%89%BE%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.3.1.</span> <span class="toc-text"> ÂçïÈ°πÊü•ÊâæÂáΩÊï∞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E9%A1%B9%E6%9F%A5%E6%89%BE%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.3.2.</span> <span class="toc-text"> Â§öÈ°πÊü•ÊâæÂáΩÊï∞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%89%B2%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.3.3.</span> <span class="toc-text"> ÂàÜÂâ≤ÂáΩÊï∞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.3.4.</span> <span class="toc-text"> ÊõøÊç¢ÂáΩÊï∞</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#css-selector"><span class="toc-number">2.5.</span> <span class="toc-text"> css-selector</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-number">2.5.1.</span> <span class="toc-text"> Âü∫Êú¨ÈÄâÊã©Âô®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E9%80%89%E6%8B%A9%E5%99%A8grouping-selector"><span class="toc-number">2.5.2.</span> <span class="toc-text"> ÂàÜÁªÑÈÄâÊã©Âô®ÔºàGrouping selectorÔºâ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%99%A8combinator"><span class="toc-number">2.5.3.</span> <span class="toc-text"> ÁªÑÂêàÂô®ÔºàCombinatorÔºâ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%AA%E9%80%89%E6%8B%A9%E5%99%A8pseudo"><span class="toc-number">2.5.4.</span> <span class="toc-text"> ‰º™ÈÄâÊã©Âô®ÔºàPseudoÔºâ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%AA%E9%80%89%E6%8B%A9%E5%99%A8%E7%94%A8%E4%BA%8E%E8%A1%A8%E7%A4%BA%E6%97%A0%E6%B3%95%E7%94%A8-html-%E8%AF%AD%E4%B9%89%E8%A1%A8%E8%BE%BE%E7%9A%84%E5%AE%9E%E4%BD%93-%E4%BE%8B%E5%AD%90pfirst-line-%E5%8C%B9%E9%85%8D%E6%89%80%E6%9C%89-%E5%85%83%E7%B4%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E8%A1%8C"><span class="toc-number">2.5.4.1.</span> <span class="toc-text"> :: ‰º™ÈÄâÊã©Âô®Áî®‰∫éË°®Á§∫Êó†Ê≥ïÁî® HTML ËØ≠‰πâË°®ËææÁöÑÂÆû‰Ωì„ÄÇ    ‰æãÂ≠êÔºöp::first-line ÂåπÈÖçÊâÄÊúâ &#96;&#96; ÂÖÉÁ¥†ÁöÑÁ¨¨‰∏ÄË°å„ÄÇ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#httpx"><span class="toc-number">2.6.</span> <span class="toc-text"> httpx</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">2.6.1.</span> <span class="toc-text"> Âü∫Êú¨Áî®Ê≥ï</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#client%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.6.2.</span> <span class="toc-text"> ClientÂØπË±°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#x-path"><span class="toc-number">2.7.</span> <span class="toc-text"> X-Path</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#xpath%E8%AF%AD%E6%B3%95"><span class="toc-number">2.7.1.</span> <span class="toc-text"> XpathËØ≠Ê≥ï</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#xml%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.7.1.1.</span> <span class="toc-text"> xmlÂÆû‰æã</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AF%E8%AF%AD"><span class="toc-number">2.7.1.2.</span> <span class="toc-text"> ÊúØËØ≠</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E5%8F%96%E8%8A%82%E7%82%B9"><span class="toc-number">2.7.1.3.</span> <span class="toc-text"> ÈÄâÂèñËäÇÁÇπ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%93%E8%AF%ADpredicates"><span class="toc-number">2.7.1.4.</span> <span class="toc-text"> Ë∞ìËØ≠ÔºàPredicatesÔºâ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E5%8F%96%E6%9C%AA%E7%9F%A5%E8%8A%82%E7%82%B9"><span class="toc-number">2.7.1.5.</span> <span class="toc-text"> ÈÄâÂèñÊú™Áü•ËäÇÁÇπ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E5%8F%96%E8%8B%A5%E5%B9%B2%E8%B7%AF%E5%BE%84"><span class="toc-number">2.7.1.6.</span> <span class="toc-text"> ÈÄâÂèñËã•Âπ≤Ë∑ØÂæÑ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.7.1.7.</span> <span class="toc-text"> ËøêÁÆóÁ¨¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lxml%E5%BA%93"><span class="toc-number">2.7.2.</span> <span class="toc-text"> lxmlÂ∫ì</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#itertools"><span class="toc-number">2.8.</span> <span class="toc-text"> itertools</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#infinite-iterators"><span class="toc-number">2.8.1.</span> <span class="toc-text"> infinite iterators</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#combinatoric-iterators"><span class="toc-number">2.9.</span> <span class="toc-text"> combinatoric iterators</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#iterators-terminating-on-the-shortest-input-sequence"><span class="toc-number">2.9.1.</span> <span class="toc-text"> Iterators Terminating on the Shortest Input Sequence</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#logging"><span class="toc-number">2.10.</span> <span class="toc-text"> logging</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB"><span class="toc-number">2.10.0.1.</span> <span class="toc-text"> 1. Êó•ÂøóÁ∫ßÂà´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">2.10.0.2.</span> <span class="toc-text"> 2. Ê†ºÂºèÂåñ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.10.0.3.</span> <span class="toc-text"> 3. Â§ÑÁêÜÁ®ãÂ∫è</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">2.10.0.4.</span> <span class="toc-text"> 4. ËøáÊª§Âô®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.10.0.5.</span> <span class="toc-text"> 5. ÈÖçÁΩÆÊñá‰ª∂</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E6%97%A5%E5%BF%97%E8%BD%AE%E8%BD%AC"><span class="toc-number">2.10.0.6.</span> <span class="toc-text"> 6. Êó•ÂøóËΩÆËΩ¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E6%97%A5%E5%BF%97%E5%BD%92%E6%A1%A3"><span class="toc-number">2.10.0.7.</span> <span class="toc-text"> 7. Êó•ÂøóÂΩíÊ°£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.10.0.8.</span> <span class="toc-text"> 8. Ëá™ÂÆö‰πâÂ§ÑÁêÜÁ®ãÂ∫è</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%B8%AD%E7%9A%84%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95"><span class="toc-number">2.10.0.9.</span> <span class="toc-text"> 9. ÂºÇÂ∏∏Â§ÑÁêÜ‰∏≠ÁöÑÊó•ÂøóËÆ∞ÂΩï</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">2.10.0.10.</span> <span class="toc-text"> 10. Êó•ÂøóËÆ∞ÂΩïÊúÄ‰Ω≥ÂÆûË∑µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95%E7%9A%84%E6%80%A7%E8%83%BD%E8%80%83%E9%87%8F"><span class="toc-number">2.10.0.11.</span> <span class="toc-text"> 11. Êó•ÂøóËÆ∞ÂΩïÁöÑÊÄßËÉΩËÄÉÈáè</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8A%80%E5%B7%A7"><span class="toc-number">2.10.0.12.</span> <span class="toc-text"> 12. ÊÄßËÉΩ‰ºòÂåñÊäÄÂ∑ß</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">2.10.1.</span> <span class="toc-text"> ÊÄªÁªì</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#labs"><span class="toc-number">3.</span> <span class="toc-text"> labs</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#lab-1"><span class="toc-number">3.1.</span> <span class="toc-text"> lab-1</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://npc0vo.github.io/2024/03/13/%E7%88%AC%E8%99%AB%E7%AC%94%E8%AE%B0/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Npc"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Npc | Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Python-webÁ¨îËÆ∞</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="Created: 2024-03-13 16:05:40" itemprop="dateCreated datePublished" datetime="2024-03-13T16:05:40+08:00">2024-03-13</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="Modified: 2024-07-04 19:01:04" itemprop="dateModified" datetime="2024-07-04T19:01:04+08:00">2024-07-04</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="Word count in article">15.3k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="Reading time">63m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="--text-color:#FB7299" itemprop="url" rel="index"><span itemprop="text">Â≠¶‰π†Á¨îËÆ∞</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E7%88%AC%E8%99%AB/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">Áà¨Ëô´</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> <strong>introduction</strong></h1>
<p>Â≠¶‰π†pythonÁà¨Ëô´ÁöÑÁ¨îËÆ∞</p>
<h1 id="basics"><a class="markdownIt-Anchor" href="#basics"></a> <strong>basics</strong></h1>
<h2 id="web-basics"><a class="markdownIt-Anchor" href="#web-basics"></a> <strong>Web-basics</strong></h2>
<h3 id="url"><a class="markdownIt-Anchor" href="#url"></a> <strong>url</strong></h3>
<blockquote>
<p>scheme://[username:password@]hostname[:port][/path][;parameters][?query][#fragment]</p>
<ul>
<li><strong>scheme</strong>:ÂçèËÆÆÔºåegÔºöhttp;https;ftp  ‰πüÁß∞‰Ωúprotocol</li>
<li>username,password:Áî®Êà∑,ÂØÜÁ†Å  ÊúâÁöÑurlÈúÄË¶ÅÊèê‰æõÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊâçËÉΩËÆøÈóÆ</li>
<li><strong>hostname</strong>:IP</li>
<li><strong>port</strong>:Á´ØÂè£</li>
<li><strong>path</strong>Ë∑ØÂæÑÔºåËµÑÊ∫êÂú®ÊúçÂä°Âô®‰∏≠ÁöÑÊåáÂÆöÂú∞ÂùÄ</li>
<li>parameters:ÂèÇÊï∞‰∏çÂ∏∏Áî®</li>
<li>query:Êü•ËØ¢  Êü•ËØ¢ÊüêÁßçËµÑÊ∫ê</li>
<li>fragment:ÁâáÊÆµ  ÂØπËµÑÊ∫êÊèèËø∞ÁöÑÈÉ®ÂàÜË°•ÂÖÖ,Áõ∏ÂΩì‰∫éËµÑÊ∫êÂÜÖÈÉ®ÁöÑ‰π¶Á≠æ:ÂèØÁî®‰ΩúÂçïÈ°µÈù¢Ë∑ØÁî±ÊàñËÄÖHTMLÈîöÁÇπ</li>
</ul>
</blockquote>
<h3 id="httphttps"><a class="markdownIt-Anchor" href="#httphttps"></a> <strong>http,https</strong></h3>
<p>http1.0/http1.1:ÁõÆÂâçÁöÑÊ≠£ÂºèÊ†áÂáÜÂπøÊ≥õ‰ΩøÁî®ÔºåÊåÅ‰πÖËøûÊé•ÔºåËäÇÁ∫¶ÂÆΩÂ∏¶ÔºåÁÆ°ÈÅìÊú∫Âà∂ÔºåÂàÜÂùó‰º†ËæìÁºñÁ†Å</p>
<p>http2.0:Â§öË∑ØÂ§çÁî®ÔºåÊúçÂä°Âô®Êé®ÈÄÅÔºåÂ§¥‰ø°ÊÅØÂéãÁº©Ôºå‰∫åËøõÂà∂ÂçèËÆÆÔºåÈÄêÊ∏êË¶ÜÁõñÂ∏ÇÂú∫</p>
<p>https:http‰∏ãÂä†ÂÖ•SSLÂ±ÇËøõË°åÂä†ÂØÜÔºå‰∏ªÊâì‰∏Ä‰∏™ÂÆâÂÖ®</p>
<h3 id="request"><a class="markdownIt-Anchor" href="#request"></a> <strong>request</strong></h3>
<h4 id="request-method"><a class="markdownIt-Anchor" href="#request-method"></a> <strong>request-method</strong></h4>
<ul>
<li><strong>GET</strong> ËØ∑Ê±Ç‰∏≠ÁöÑÂèÇÊï∞ÂåÖÂê´Âú®url‰∏≠ÔºåÊï∞ÊçÆÂèØ‰ª•Âú®url‰∏≠ÁúãÂà∞ÔºåÊúÄÂ§öÊèê‰∫§1024Â≠óËäÇ</li>
<li><strong>POST</strong> ËØ∑Ê±ÇÁöÑURL‰∏ç‰ºöÂåÖÂê´Ëøô‰∫õÊï∞ÊçÆÔºåÊï∞ÊçÆÈÄöËøáË°®Ëææ‰º†ËæìÔºåÂåÖÂê´Âú®ËØ∑Ê±Ç‰Ωì‰∏≠</li>
<li>HEAD Á±ª‰ºº‰∫éGETËØ∑Ê±ÇÔºå‰ΩÜÊòØËøîÂõûÁöÑÂìçÂ∫î‰∏≠Ê≤°ÊúâÂÖ∑‰ΩìÂÜÖÂÆπÔºåÁî®‰∫éËé∑ÂèñÊä•Â§¥</li>
<li>PUT Áî®ÂÆ¢Êà∑Á´Ø‰º†ÂêëÊúçÂä°Âô®ÁöÑÊï∞ÊçÆÂèñ‰ª£ÊåáÂÆöÊñáÊ°£‰∏≠ÁöÑÂÜÖÂÆπ</li>
<li>DELETE ËØ∑Ê±ÇÊúçÂä°Âô®Âà†Èô§ÊåáÂÆöÁöÑÈ°µÈù¢</li>
<li>CONNECT ÊääÊúçÂä°Âô®ÂΩìË∑≥ÊùøÔºåËÆ©ÊúçÂä°Âô®‰ª£ÊõøÂÆ¢Êà∑Á´ØËÆøÈóÆÂÖ∂‰ªñÁΩëÈ°µ</li>
<li>OPTIONS ÂÖÅËÆ∏ÂÆ¢Êà∑Á´ØÊü•ÁúãÊúçÂä°Âô®ÊÄßËÉΩ</li>
<li>TRACE ÂõûÊòæÊúçÂä°Âô®Êî∂Âà∞ÁöÑËØ∑Ê±ÇÔºå‰∏ªË¶ÅÁî®‰∫éÊµãËØïÊàñËÄÖËØäÊñ≠</li>
</ul>
<h4 id="request-head"><a class="markdownIt-Anchor" href="#request-head"></a> <strong>request-head</strong></h4>
<blockquote>
<p>Accept:ËØ∑Ê±ÇÊä•Â§¥ÂüüÔºåÁî®‰∫éÊåáÂÆöÂÆ¢Êà∑Á´ØÂèØ‰ª•Êé•ÂèóÂì™‰∫õÁ±ªÂûã‰ø°ÊÅØ</p>
<p>Accept-Language:ÊåáÂÆöÂÆ¢Êà∑Á´ØÂèØÊé•ÂèóÁöÑËØ≠Ë®ÄÁ±ªÂûã</p>
<p>Accept-Encoding:ÊåáÂÆöÂÆ¢Êà∑Á´ØÂèØËß£ÊêúÁöÑÂÜÖÂÆπÁºñÁ†Å</p>
<p>Host: Áî®‰∫éÊåáÂÆöËØ∑Ê±ÇËµÑÊ∫êÁöÑ‰∏ªÊú∫IPÂíåÁ´ØÂè£Âè∑</p>
<p>Cookie: ÊàñÂÜô‰ΩúCookiesÔºå‰∏∫‰∫ÜËæ®Âà´Áî®Êà∑ÔºåËøõË°å‰ºöËØùË∑üË∏™ËÄåÂ≠òÂÇ®Âú®Áî®Êà∑Êú¨Âú∞ÁöÑÊï∞ÊçÆ,‰∏ªË¶ÅÂäüËÉΩÊòØÁª¥ÊåÅÂΩìÂâçËÆøÈóÆ‰ºöËØùÔºå‰øùÂ≠òÁôªÂΩï‰ø°ÊÅØ</p>
<p>Referer: Áî®‰∫éÊ†áËØÜËØ∑Ê±Ç‰ªéÂì™‰∏™È°µÈù¢ÂèëËøáÊù•ÁöÑÔºåÁî®‰ΩúÊù•Ê∫êÁªüËÆ°ÊàñËÄÖÈò≤ÁõóÈìæÂ§ÑÁêÜ</p>
<p>User-Agent:UAÂ§¥Ôºå‰ΩøÊúçÂä°Âô®ËØÜÂà´ÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÁöÑÊìç‰ΩúÁ≥ªÁªüÂèäÁâàÊú¨ÔºåÊµèËßàÂô®ÂèäÁâàÊú¨Á≠â‰ø°ÊÅØÔºåÁà¨Ëô´Âá≠Ê≠§ÂèØ‰º™Ë£ÖÊàêÊµèËßàÂô®</p>
<p>Content-Type: ‰∫íËÅîÁΩëÂ™í‰ΩìÁ±ªÂûãÔºåtext/html‰ª£Ë°®htmlÊ†ºÂºèÔºåimage/git‰ª£Ë°®gifÂõæÁâáÔºåapplication/json ‰ª£Ë°®jsonÁ±ªÂûã</p>
<p>Upgrade-Insecure-Requests:‰∏Ä‰∏™ËØ∑Ê±ÇÈ¶ñÈÉ®ÔºåÁî®Êù•ÂêëÊúçÂä°Âô®Á´ØÂèëÈÄÅ‰ø°Âè∑ÔºåË°®Á§∫ÂÆ¢Êà∑Á´Ø‰ºòÂÖàÈÄâÊã©Âä†ÂØÜÂèäÂ∏¶ÊúâË∫´‰ªΩÈ™åËØÅÁöÑÂìçÂ∫îÔºåÂπ∂‰∏îÂÆÉÂèØ‰ª•ÊàêÂäüÂ§ÑÁêÜ upgrade-insecure-requests CSP (en-US) Êåá‰ª§„ÄÇ</p>
<p>Sec-Fetch-*:<a target="_blank" rel="noopener" href="https://juejin.cn/post/6888119172144824327">Sec-Fetch-*ËØ∑Ê±ÇÂ§¥Ôºå‰∫ÜËß£‰∏ã? - ÊéòÈáë (juejin.cn)</a></p>
</blockquote>
<p>egÔºöËÆøÈóÆbaidu.comÁöÑËØ∑Ê±ÇÂ§¥</p>
<img src="https://s2.loli.net/2024/03/13/LyuRpMGgJ6lZTs1.png" / loading="lazy">
<h4 id="request-body"><a class="markdownIt-Anchor" href="#request-body"></a> <strong>request-body</strong></h4>
<blockquote>
<p>GET:ËØ∑Ê±Ç‰Ωì‰∏∫Á©∫</p>
<p>POST: Êï∞ÊçÆÂú®ËØ∑Ê±Ç‰Ωì‰∏≠ÔºåÊï∞ÊçÆ‰ª•ÂÜÖÂÆπË°®ÂçïÊï∞ÊçÆÁöÑÂΩ¢ÂºèÊèê‰∫§ÁªôÊúçÂä°Âô®„ÄÇrequestheaderÁöÑContent-Type ‰∏∫ application/x-www-form-urlencoded POSTÊèê‰∫§Êï∞ÊçÆÊñπÂºè‰∏∫:Ë°®ËææÊï∞ÊçÆ  multipart/form-data Ë°®ÂçïÊñá‰ª∂‰∏ä‰º† application/json Â∫èÂàóÂåñjsonÊï∞ÊçÆ text/xml XMLË°®ÂçïÊï∞ÊçÆ</p>
</blockquote>
<h3 id="response"><a class="markdownIt-Anchor" href="#response"></a> <strong>response</strong></h3>
<h4 id="status-code"><a class="markdownIt-Anchor" href="#status-code"></a> <strong>status-code</strong></h4>
<pre class="line-numbers language-none"><code class="language-none">2XX ÊàêÂäü
200 okÔºàËØ∑Ê±ÇÊàêÂäüÔºâ
204 no content ÔºàËØ∑Ê±ÇÊàêÂäüÔºå‰ΩÜÊòØÊ≤°ÊúâÁªìÊûúËøîÂõûÔºâ
206 partial content ÔºàÂÆ¢Êà∑Á´ØËØ∑Ê±Ç‰∏ÄÈÉ®ÂàÜËµÑÊ∫êÔºåÊúçÂä°Á´ØÊàêÂäüÂìçÂ∫îÔºåËøîÂõû‰∏ÄËåÉÂõ¥ËµÑÊ∫êÔºâ
3XX ÈáçÂÆöÂêë
301 move permanently ÔºàÊ∞∏‰πÖÊÄßÈáçÂÆöÂêëÔºâ
302 found Ôºà‰∏¥Êó∂ÊÄßÈáçÂÆöÂêëÔºâ
303 see other ÔºàÁ§∫Áî±‰∫éËØ∑Ê±ÇÂØπÂ∫îÁöÑËµÑÊ∫êÂ≠òÂú®ÁùÄÂè¶‰∏Ä‰∏™ URIÔºåÂ∫î‰ΩøÁî® GET
ÊñπÊ≥ïÂÆöÂêëËé∑ÂèñËØ∑Ê±ÇÁöÑËµÑÊ∫êÔºâ
304 not modified ÔºàË°®Á§∫Âú®ÂÆ¢Êà∑Á´ØÈááÁî®Â∏¶Êù°‰ª∂ÁöÑËÆøÈóÆÊüêËµÑÊ∫êÊó∂ÔºåÊúçÂä°Á´ØÊâæÂà∞‰∫ÜËµÑÊ∫êÔºå‰ΩÜÊòØËøô‰∏™ËØ∑Ê±ÇÁöÑÊù°‰ª∂‰∏çÁ¨¶Âêà„ÄÇË∑üÈáçÂÆöÂêëÊó†ÂÖ≥Ôºâ
307 temporary redirect ÔºàË∑ü302‰∏Ä‰∏™ÊÑèÊÄùÔºâ
4XX ÂÆ¢Êà∑Á´ØÈîôËØØ
400 bad request ÔºàËØ∑Ê±ÇÊä•ÊñáÂ≠òÂú®ËØ≠Ê≥ïÈîôËØØÔºâ
401 unauthorized ÔºàÈúÄË¶ÅËÆ§ËØÅÔºàÁ¨¨‰∏ÄÊ¨°ËøîÂõûÔºâÊàñËÄÖËÆ§ËØÅÂ§±Ë¥•ÔºàÁ¨¨‰∫åÊ¨°ËøîÂõûÔºâÔºâ
403 forbidden ÔºàËØ∑Ê±ÇË¢´ÊúçÂä°Âô®ÊãíÁªù‰∫ÜÔºâ
404 not found ÔºàÊúçÂä°Âô®‰∏äÊó†Ê≥ïÊâæÂà∞ËØ∑Ê±ÇÁöÑËµÑÊ∫êÔºâ
5XX ÊúçÂä°Âô®ÈîôËØØ
500 internal server error ÔºàÊúçÂä°Á´ØÊâßË°åËØ∑Ê±ÇÊó∂ÂèëÁîü‰∫ÜÈîôËØØÔºâ
503 service unavailable ÔºàÊúçÂä°Âô®Ê≠£Âú®Ë∂ÖË¥üËΩΩÊàñËÄÖÂÅúÊú∫Áª¥Êä§ÔºåÊó†Ê≥ïÂ§ÑÁêÜËØ∑Ê±ÇÔºâ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ÂÖ∂‰ªñ‰∏çÂ∏∏ËßÅÁöÑËØ∑ËßÅ<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904202863394830">HTTP Áä∂ÊÄÅÁ†Å - ÊéòÈáë (juejin.cn)</a></p>
<h4 id="response-header"><a class="markdownIt-Anchor" href="#response-header"></a> <strong>response-header</strong></h4>
<blockquote>
<p>Data: Ê†áËØÜÂìçÂ∫î‰∫ßÁîüÁöÑÊó∂Èó¥</p>
<p>Last-Modified: ÊåáÂÆöËµÑÊ∫êÁöÑÊúÄÂêé‰øÆÊîπÊó∂Èó¥</p>
<p>Content-Encoding: ÊåáÂÆöÂìçÂ∫îÂÜÖÂÆπÁöÑÁºñÁ†Å</p>
<p>Server: ÂåÖÂê´ÊúçÂä°Âô®ÁöÑ‰ø°ÊÅØÔºå‰æãÂ¶ÇÂêçÁß∞ÂíåÁâàÊú¨Âè∑</p>
<p>Content-Type: ÊñáÊ°£Á±ªÂûãÔºåÊåáÂÆöËøîÂõûÁöÑÊï∞ÊçÆÊòØ‰ªÄ‰πàÁ±ªÂûãtext/html:htmlÊñáÊ°£Ôºåapplication/x-javascriptËøîÂõûjavascriptÁ±ªÂûãÔºåimage/jpegËøîÂõûÂõæÁâá</p>
<p>Set-Cookie:ËÆæÁΩÆCookie,ÂëäËØâÊµèËßàÂô®ÈúÄË¶ÅÂ∞ÜÊ≠§ÂÜÖÂÆπÊîæÂú®Cooki‰∏≠</p>
<p>Expires:Áî®‰∫éÊåáÂÆöÂìçÂ∫îÁöÑËøáÊúüÊó∂Èó¥</p>
</blockquote>
<h4 id="response-body"><a class="markdownIt-Anchor" href="#response-body"></a> <strong>response-body</strong></h4>
<p>Âç≥ÂìçÂ∫îÁöÑÊ≠£ÊñáÊï∞ÊçÆÔºåÊòØÊàë‰ª¨ÈúÄË¶ÅÁà¨ÂèñÁöÑÂÜÖÂÆπÂ¶ÇÂõæ‰∏ã<img src="https://s2.loli.net/2024/03/13/AgvElbUamZCHrqD.png" / loading="lazy"></p>
<h2 id="urllib"><a class="markdownIt-Anchor" href="#urllib"></a> <strong>urllib</strong></h2>
<p>llib ÂåÖ ÂåÖÂê´‰ª•‰∏ãÂá†‰∏™Ê®°ÂùóÔºö</p>
<ul>
<li><strong>urllib.request</strong> - <strong>ÊâìÂºÄÂíåËØªÂèñ URL</strong>„ÄÇ</li>
<li>urllib.error - ÂåÖÂê´ urllib.request ÊäõÂá∫ÁöÑÂºÇÂ∏∏„ÄÇ</li>
<li><strong>urllib.parse</strong> - <strong>Ëß£Êûê URL</strong>„ÄÇ</li>
<li>urllib.robotparser - Ëß£Êûê robots.txt Êñá‰ª∂„ÄÇ</li>
</ul>
<h3 id="urllibrequest"><a class="markdownIt-Anchor" href="#urllibrequest"></a> <strong>urllib.request</strong></h3>
<blockquote>
<pre class="line-numbers language-none"><code class="language-none">urllib.request.urlopen(url, data&#x3D;None, [timeout, ]*, cafile&#x3D;None, capath&#x3D;None, cadefault&#x3D;False, context&#x3D;None)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li><strong>url</strong>Ôºöurl Âú∞ÂùÄ„ÄÇ</li>
<li><strong>data</strong>ÔºöÂèëÈÄÅÂà∞ÊúçÂä°Âô®ÁöÑÂÖ∂‰ªñÊï∞ÊçÆÂØπË±°ÔºåÈªòËÆ§‰∏∫ None„ÄÇ</li>
<li><strong>timeout</strong>ÔºöËÆæÁΩÆËÆøÈóÆË∂ÖÊó∂Êó∂Èó¥„ÄÇ</li>
<li><strong>cafile Âíå capath</strong>Ôºöcafile ‰∏∫ CA ËØÅ‰π¶Ôºå capath ‰∏∫ CA ËØÅ‰π¶ÁöÑË∑ØÂæÑÔºå‰ΩøÁî® HTTPS ÈúÄË¶ÅÁî®Âà∞„ÄÇ</li>
<li><strong>cadefault</strong>ÔºöÂ∑≤ÁªèË¢´ÂºÉÁî®„ÄÇ</li>
<li><strong>context</strong>Ôºössl.SSLContextÁ±ªÂûãÔºåÁî®Êù•ÊåáÂÆö SSL ËÆæÁΩÆ„ÄÇ</li>
</ul>
</blockquote>
<p>Ê®°ÊãüÁΩëÈ°µÊâìÂºÄ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request
response<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">'www.baidu.com'</span><span class="token punctuation">)</span><span class="token comment">#ÊâìÂºÄ‰∏Ä‰∏™ÁΩëÈ°µÔºåÂπ∂ËøîÂõûÁΩëÈ°µÊ∫êÁ†Å</span>
response<span class="token punctuation">.</span>status <span class="token comment">#ËøîÂõûÁΩëÈ°µÂìçÂ∫îÁä∂ÊÄÅÁ†Å</span>
response<span class="token punctuation">.</span>getheaders<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#ËøîÂõûÁΩëÈ°µÁöÑÂìçÂ∫îÂ§¥‰ø°ÊÅØ</span>
response<span class="token punctuation">.</span>getheaders<span class="token punctuation">(</span><span class="token string">'Server'</span><span class="token punctuation">)</span><span class="token comment">#ËøîÂõûÂìçÂ∫îÂ§¥‰ø°ÊÅØ'Server'ÁöÑ‰ø°ÊÅØ</span>
<span class="token comment">#headersÂèØËé∑ÂèñÁöÑÂÄºÊòØÂìçÂ∫îÂ§¥ÁöÑÊâÄÊúâÂÖÉÁ¥†,eg:Content-Type:ÊåáÂÆöÊúçÂä°Âô®ËøîÂõûÁöÑÂìçÂ∫îÂÜÖÂÆπÁ±ªÂûã„ÄÇ</span>
response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token comment">#ËæìÂá∫utf8ÁºñÁ†ÅÁöÑÊ∫ê‰ª£Á†Å</span>
response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token comment">#ÊåáÂÆöËæìÂá∫ÁöÑÈïøÂ∫¶</span>
response<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#ËØªÂèñ‰∏ÄË°åÂÜÖÂÆπ</span>
response<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#ËØªÂèñÂÖ®ÈÉ®ÂÜÖÂÆπÔºåËøîÂõû‰∏Ä‰∏™ÂàóË°®ÔºåÊØè‰∏ÄË°åÊòØÂàóË°®ÁöÑÂÖÉÁ¥†</span>
encoded_url<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>quote<span class="token punctuation">(</span><span class="token string">'www.baidu.com'</span><span class="token punctuation">)</span><span class="token comment">#ÁºñÁ†ÅÔºåunquoteÂ∞±ÊòØurlËß£Á†Å</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Ê®°ÊãüÂ§¥ÈÉ®‰ø°ÊÅØÂàôÈúÄË¶Åurllib.request.RequestÁ±ª</p>
<blockquote>
<pre class="line-numbers language-none"><code class="language-none">class urllib.request.Request(url, data&#x3D;None, headers&#x3D;&#123;&#125;, origin_req_host&#x3D;None, unverifiable&#x3D;False, method&#x3D;None)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li><strong>url</strong>Ôºöurl Âú∞ÂùÄ„ÄÇ</li>
<li><strong>data</strong>ÔºöÂèëÈÄÅÂà∞ÊúçÂä°Âô®ÁöÑÂÖ∂‰ªñÊï∞ÊçÆÂØπË±°ÔºåÈªòËÆ§‰∏∫ None„ÄÇ</li>
<li><strong>headers</strong>ÔºöHTTP ËØ∑Ê±ÇÁöÑÂ§¥ÈÉ®‰ø°ÊÅØÔºåÂ≠óÂÖ∏Ê†ºÂºè„ÄÇ</li>
<li><strong>origin_req_host</strong>ÔºöËØ∑Ê±ÇÁöÑ‰∏ªÊú∫Âú∞ÂùÄÔºåIP ÊàñÂüüÂêç„ÄÇ</li>
<li><strong>unverifiable</strong>ÔºöÂæàÂ∞ëÁî®Êï¥‰∏™ÂèÇÊï∞ÔºåÁî®‰∫éËÆæÁΩÆÁΩëÈ°µÊòØÂê¶ÈúÄË¶ÅÈ™åËØÅÔºåÈªòËÆ§ÊòØFalse„ÄÇ„ÄÇ</li>
<li><strong>method</strong>ÔºöËØ∑Ê±ÇÊñπÊ≥ïÔºå Â¶Ç GET„ÄÅPOST„ÄÅDELETE„ÄÅPUTÁ≠â„ÄÇ</li>
</ul>
</blockquote>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request
<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>parse
header <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token string">'User-Agent'</span><span class="token punctuation">:</span><span class="token string">'Mozilla/5.0 (X11; Fedora; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36'</span>
<span class="token punctuation">&#125;</span>   <span class="token comment">#Â§¥ÈÉ®‰ø°ÊÅØ</span>
url<span class="token operator">=</span><span class="token string">'www.baidu.com/?s='</span>
keyword<span class="token operator">=</span><span class="token string">'PythonÊïôÁ®ã'</span>
url_all<span class="token operator">=</span>url<span class="token operator">+</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>quote<span class="token punctuation">(</span>keyword<span class="token punctuation">)</span>
request<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url_all<span class="token punctuation">,</span>headers<span class="token operator">=</span>header<span class="token punctuation">)</span><span class="token comment">#ÊûÑÈÄ†ËØ∑Ê±ÇÂ§¥</span>
response<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#ËæìÂá∫ÂìçÂ∫î‰Ωì</span>
url <span class="token operator">=</span> <span class="token string">'https://www.runoob.com/try/py3/py3_urllib_test.php'</span>  <span class="token comment"># Êèê‰∫§Âà∞Ë°®ÂçïÈ°µÈù¢</span>
data <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'RUNOOB'</span><span class="token punctuation">,</span> <span class="token string">'tag'</span> <span class="token punctuation">:</span> <span class="token string">'ËèúÈ∏üÊïôÁ®ã'</span><span class="token punctuation">&#125;</span>   <span class="token comment"># Êèê‰∫§Êï∞ÊçÆ</span>
data<span class="token operator">=</span>urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span>
request<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token punctuation">,</span>data<span class="token punctuation">,</span>headerÔºåmethod<span class="token operator">=</span><span class="token string">'POST'</span><span class="token punctuation">)</span><span class="token comment">#ËØ∑Ê±ÇÂ§ÑÁêÜ</span>
response<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#ËæìÂá∫ÂìçÂ∫î‰Ωì</span>
req<span class="token punctuation">.</span>add_header<span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span><span class="token string">'wwww'</span><span class="token punctuation">)</span><span class="token comment">#Ê∑ªÂä†Êñá‰ª∂Â§¥</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="urlliberror"><a class="markdownIt-Anchor" href="#urlliberror"></a> <strong>urllib.error</strong></h3>
<p>urllib.error Ê®°Âùó‰∏∫ urllib.request ÊâÄÂºïÂèëÁöÑÂºÇÂ∏∏ÂÆö‰πâ‰∫ÜÂºÇÂ∏∏Á±ªÔºåÂü∫Á°ÄÂºÇÂ∏∏Á±ªÊòØ URLError„ÄÇ</p>
<p>urllib.error ÂåÖÂê´‰∫Ü‰∏§‰∏™ÊñπÊ≥ïÔºåURLError Âíå HTTPError„ÄÇ</p>
<p>URLError ÊòØ OSError ÁöÑ‰∏Ä‰∏™Â≠êÁ±ªÔºåÁî®‰∫éÂ§ÑÁêÜÁ®ãÂ∫èÂú®ÈÅáÂà∞ÈóÆÈ¢òÊó∂‰ºöÂºïÂèëÊ≠§ÂºÇÂ∏∏ÔºàÊàñÂÖ∂Ê¥æÁîüÁöÑÂºÇÂ∏∏ÔºâÔºåÂåÖÂê´ÁöÑÂ±ûÊÄß reason ‰∏∫ÂºïÂèëÂºÇÂ∏∏ÁöÑÂéüÂõ†„ÄÇ</p>
<p>HTTPError ÊòØ URLError ÁöÑ‰∏Ä‰∏™Â≠êÁ±ªÔºåÁî®‰∫éÂ§ÑÁêÜÁâπÊÆä HTTP ÈîôËØØ‰æãÂ¶Ç‰Ωú‰∏∫ËÆ§ËØÅËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåÂåÖÂê´ÁöÑÂ±ûÊÄß code ‰∏∫ HTTP ÁöÑÁä∂ÊÄÅÁ†ÅÔºå reason ‰∏∫ÂºïÂèëÂºÇÂ∏∏ÁöÑÂéüÂõ†Ôºåheaders ‰∏∫ÂØºËá¥ HTTPError ÁöÑÁâπÂÆö HTTP ËØ∑Ê±ÇÁöÑ HTTP ÂìçÂ∫îÂ§¥„ÄÇ</p>
<p>ÂØπ‰∏çÂ≠òÂú®ÁöÑÁΩëÈ°µÊäìÂèñÂπ∂Â§ÑÁêÜÂºÇÂ∏∏:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request
<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>error
myurl<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">'www.baidu.com/404.html'</span><span class="token punctuation">)</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    myurl2<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>myurl<span class="token punctuation">)</span>
<span class="token keyword">except</span> urllib<span class="token punctuation">.</span>error<span class="token punctuation">.</span>HTTPError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">if</span> e<span class="token punctuation">.</span>code<span class="token operator">==</span><span class="token number">404</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="urllibparse"><a class="markdownIt-Anchor" href="#urllibparse"></a> <strong>urllib.parse</strong></h3>
<p>Ëß£Êûêurl</p>
<blockquote>
<p>urllib.parse.urlparse(urlstring, scheme=‚Äò‚Äô, allow_fragments=True)</p>
<ul>
<li>urlstring:urlÂú∞ÂùÄ</li>
<li>scheme:ÂçèËÆÆÁ±ªÂûã</li>
<li>allow_fragments: ÊòØÂê¶ÂøΩÁï•fragment</li>
</ul>
</blockquote>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> urlparse
o <span class="token operator">=</span> urlparse<span class="token punctuation">(</span><span class="token string">"https://www.runoob.com/?s=python+%E6%95%99%E7%A8%8B"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
<span class="token comment">#ParseResult(scheme='https', netloc='www.runoob.com', path='/', params='', query='s=python+%E6%95%99%E7%A8%8B', fragment='')</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>urllib.parse.urlunparse:Áî®‰∫éÊûÑÈÄ†url</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>parse
data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'https'</span><span class="token punctuation">,</span><span class="token string">'www.baidu.com'</span><span class="token punctuation">,</span><span class="token string">'index.html'</span><span class="token punctuation">,</span><span class="token string">'user'</span><span class="token punctuation">,</span><span class="token string">'a=6'</span><span class="token punctuation">,</span><span class="token string">'comment'</span><span class="token punctuation">]</span>
urllib<span class="token punctuation">.</span>unparse<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token comment">#https://www.baidu.com/index.html;user?a=6#comment</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>
<p>urllib.parse.urlsplit:Á±ªÂûã‰∏éurlparse ‰∏çËøá‰∏çÂçïÁã¨Ëß£ÊûêparamsÔºåÂêàÂπ∂Âà∞path</p>
</li>
<li>
<p>urllib.parse.urljoin:Êèê‰æõ‰∏Ä‰∏™base_url‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂ∞ÜÊñ∞ÁöÑËøûÊé•‰Ωú‰∏∫Á¨¨‰∫å‰∏™ÂèÇÊï∞Ôºåurljoin‰ºöÂàÜÊûêbase_urlÁöÑscheme,netloc,path‰∏â‰∏™ÂÜÖÂÆπÔºåÂØπÊñ∞ËøûÊé•Á°ÆÂÆûÁöÑÈÉ®ÂàÜËøõË°åË°•ÂÖÖÔºåÁÑ∂ÂêéËøîÂõûÁªìÊûú</p>
<p>baseurlÊèê‰æõscheme,netloc,pathËã•Êñ∞ËøûÊé•‰∏çÂ≠òÂú®Ëøô‰∏âÈ°πÔºåÂàôË°•ÂÖÖÔºåÂê¶Âàô‰ΩøÁî®Êñ∞ÈìæÊé•ÁöÑ</p>
</li>
<li>
<p>urllib.parse.encode:ÊûÑÈÄ†getËØ∑Ê±Ç</p>
</li>
<li>
<p>urllib.parse.parse_qs ÂèçÂ∫èÂàóÂåñ</p>
</li>
<li>
<p>urllib.parse.parse_qsl  ÂèÇÊï∞ËΩ¨ÂÖÉÁªÑÁªÑÊàêÁöÑÂàóË°®</p>
</li>
<li>
<p>urllib.parse.quote ËΩ¨ÂåñurlÁºñÁ†ÅÊ†ºÂºè</p>
</li>
<li>
<p>urllib.parse.unquote(url)  Â∞ÜurlËß£Á†Å</p>
</li>
</ul>
<h3 id="urllibrobotparser"><a class="markdownIt-Anchor" href="#urllibrobotparser"></a> <strong>urllib.robotparser</strong></h3>
<p>‰∏çÂ∏∏Áî®</p>
<blockquote>
<p>class urllib.robotparser.RobotFileParser(url=‚Äò‚Äô)</p>
</blockquote>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> urllib<span class="token punctuation">.</span>robotparser
<span class="token operator">>></span><span class="token operator">></span> rp <span class="token operator">=</span> urllib<span class="token punctuation">.</span>robotparser<span class="token punctuation">.</span>RobotFileParser<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> rp<span class="token punctuation">.</span>set_url<span class="token punctuation">(</span><span class="token string">"http://www.musi-cal.com/robots.txt"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> rp<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> rrate <span class="token operator">=</span> rp<span class="token punctuation">.</span>request_rate<span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> rrate<span class="token punctuation">.</span>requests
<span class="token number">3</span>
<span class="token operator">>></span><span class="token operator">></span> rrate<span class="token punctuation">.</span>seconds
<span class="token number">20</span>
<span class="token operator">>></span><span class="token operator">></span> rp<span class="token punctuation">.</span>crawl_delay<span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span>
<span class="token number">6</span>
<span class="token operator">>></span><span class="token operator">></span> rp<span class="token punctuation">.</span>can_fetch<span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">,</span> <span class="token string">"http://www.musi-cal.com/cgi-bin/search?city=San+Francisco"</span><span class="token punctuation">)</span>
<span class="token boolean">False</span>
<span class="token operator">>></span><span class="token operator">></span> rp<span class="token punctuation">.</span>can_fetch<span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">,</span> <span class="token string">"http://www.musi-cal.com/"</span><span class="token punctuation">)</span>
<span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="handler"><a class="markdownIt-Anchor" href="#handler"></a> <strong>handler</strong></h3>
<img src="https://s2.loli.net/2024/03/13/yWVxA3bJfXZIp5l.png" / loading="lazy">
<img src="https://s2.loli.net/2024/03/13/8kqGnfgsecl5pYt.png" / loading="lazy">
<ul>
<li>
<p>ËÆæÁΩÆ‰ª£ÁêÜ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>error <span class="token keyword">import</span> URLError
<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> ProxyHandler<span class="token punctuation">,</span>build_opener
<span class="token comment">#RequestÁõ∏ÂΩì‰∫é‰∏Ä‰∏™ÁâπÊÆäÁöÑopenerÁ±ª</span>
proxy_handler<span class="token operator">=</span>ProxyHandler<span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token string">'http'</span><span class="token punctuation">:</span><span class="token string">'http://127.0.0.1:8080'</span><span class="token punctuation">,</span>
    <span class="token string">'https'</span><span class="token punctuation">:</span><span class="token string">'https://127.0.0.1:8080'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
opener<span class="token operator">=</span>build_opener<span class="token punctuation">(</span>proxy_handler<span class="token punctuation">)</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    response<span class="token operator">=</span>opener<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'https://www.baidu.com'</span><span class="token punctuation">)</span>
   	<span class="token comment">#openerÊèê‰æõopenÊñπÊ≥ïÔºå‰∏éurlopenÂ¶ÇÂá∫‰∏ÄËæô</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> URLError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>reason<span class="token punctuation">)</span> <span class="token comment">#ÊâìÂç∞httperrorÁöÑÁä∂ÊÄÅ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>Ë∫´‰ªΩÈ™åËØÅ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> HTTPPasswordMgrWithDefaultRealm<span class="token punctuation">,</span>HTTPBasicAuthHandler<span class="token punctuation">,</span>build_opener
<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>error <span class="token keyword">import</span>  URLError

username<span class="token operator">=</span><span class="token string">'admin'</span>
password<span class="token operator">=</span><span class="token string">'admin'</span>
url<span class="token operator">=</span><span class="token string">'https://ssr3.scrape.center/'</span>

p<span class="token operator">=</span>HTTPPasswordMgrWithDefaultRealm<span class="token punctuation">(</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>add_password<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span>url<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token comment">#Ë¥¶Êà∑ÂØπË±°</span>
auth_handler<span class="token operator">=</span>HTTPBasicAuthHandler<span class="token punctuation">(</span>p<span class="token punctuation">)</span>
opener<span class="token operator">=</span>build_opener<span class="token punctuation">(</span>auth_handler<span class="token punctuation">)</span>

<span class="token keyword">try</span><span class="token punctuation">:</span>
    result<span class="token operator">=</span>opener<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    html<span class="token operator">=</span>result<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
<span class="token keyword">except</span> URLError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>ËÆæÁΩÆCookie</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> http<span class="token punctuation">.</span>cookiejar<span class="token punctuation">,</span>urllib<span class="token punctuation">.</span>request

cookie <span class="token operator">=</span> http<span class="token punctuation">.</span>cookiejar<span class="token punctuation">.</span>CookieJar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#Â£∞Êòé‰∏Ä‰∏™CookieJarÂØπË±°</span>
handler <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>HTTPCookieProcessor<span class="token punctuation">(</span>cookie<span class="token punctuation">)</span>
opener<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>build_opener<span class="token punctuation">(</span>handler<span class="token punctuation">)</span>
response<span class="token operator">=</span>opener<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"http://www.baidu.com"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> cookie<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'='</span><span class="token operator">+</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="requests"><a class="markdownIt-Anchor" href="#requests"></a> <strong>requests</strong></h2>
<p>ÂØπÊØîËµ∑urllibÂ∫ìÂÆûÂàôÊòØÊñπ‰æøÂ§™Â§ö‰∫ÜÔºå‰ΩÜÊòØurllibÊòØÊ†áÂáÜÂ∫ìÊçè,ËøòÊòØË¶ÅÂ≠¶‰∏Ä‰∏ã</p>
<p>,ÊâÄÊúâÊï∞ÊçÆ‰ΩìËøîÂõû‰ΩìÂü∫Êú¨ÈÉΩÊòØjsonÊ†ºÂºè</p>
<ul>
<li>
<p>Ëß£Êûêjson</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests
<span class="token keyword">import</span> json
 
response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://httpbin.org/get"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ËøîÂõûÂÄºÔºö</p>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">&lt;class 'str'>
&#123;'args': &#123;&#125;, 'headers': &#123;'Accept': '*/*', 'Accept-Encoding': 'gzip, deflate', 'Connection': 'close', 'Host': 'httpbin.org', 'User-Agent': 'python-requests/2.18.4'&#125;, 'origin': '183.64.61.29', 'url': 'http://httpbin.org/get'&#125;
&#123;'args': &#123;&#125;, 'headers': &#123;'Accept': '*/*', 'Accept-Encoding': 'gzip, deflate', 'Connection': 'close', 'Host': 'httpbin.org', 'User-Agent': 'python-requests/2.18.4'&#125;, 'origin': '183.64.61.29', 'url': 'http://httpbin.org/get'&#125;
&lt;class 'dict'><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>ÊäìÊï∞ÊçÆ</p>
</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span>  requests
r<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'http://httpbin.org/get'</span><span class="token punctuation">)</span><span class="token comment">#ÂÆûÁé∞GETËØ∑Ê±Ç ÂêåÁêÜ.put .post .delete .patchÂÆûÁé∞ÂÖ∂‰ªñËØ∑Ê±Ç</span>
<span class="token comment">#getËØ∑Ê±ÇÊ∑ªÂä†È¢ùÂ§ñ‰ø°ÊÅØ</span>
data<span class="token operator">=</span><span class="token punctuation">&#123;</span>
    <span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'germey'</span>
    <span class="token string">'age'</span><span class="token punctuation">:</span><span class="token number">25</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">#‰º†ÂÖ•ÁöÑÊï∞ÊçÆÊòØjsonÊ†ºÂºèÁöÑ</span>
r<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.httpbin.org/get'</span><span class="token punctuation">,</span>params<span class="token operator">=</span>date<span class="token punctuation">)</span>
<span class="token comment">#ÁΩëÈ°µËøîÂõûÁöÑÁ±ªÂûãÊòØstrÁ±ªÂûã‰∏îÊòØjsonÊ†ºÂºèÁöÑ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>demo:Áà¨ÂèñÊâÄÊúâÁîµÂΩ±Âêç</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span>  requests
<span class="token keyword">import</span> re
r<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://ssr1.scrape.center/'</span><span class="token punctuation">)</span>
pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'&lt;h2.*?>(.*?)&lt;/h2>'</span><span class="token punctuation">,</span>re<span class="token punctuation">.</span>S<span class="token punctuation">)</span>
titles<span class="token operator">=</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>titles<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>demo2:ÊäìÂèñ‰∫åËøõÂà∂Êï∞ÊçÆÔºå‰∏ÄÂçäÁî®‰∫éÁà¨ÂèñÂõæÁâáÔºå‰ª•ÂèäËßÜÈ¢ë</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests
r<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://scrape.center/favicon.ico'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span> <span class="token comment">#ÂõæÁâáÁöÑ‰∫åËøõÂà∂ÊµÅËΩ¨‰∏∫strÁ±ªÂûã</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>content<span class="token punctuation">)</span> <span class="token comment">#ËøîÂõûbytesÁ±ªÂûãÁöÑÊï∞ÊçÆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>Ê∑ªÂä†ËØ∑Ê±ÇÂ§¥</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">headers<span class="token operator">=</span><span class="token punctuation">&#123;</span>
    <span class="token string">'User-Agent'</span><span class="token punctuation">:</span><span class="token string">'???'</span>
<span class="token punctuation">&#125;</span>
r<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'www.baidu.com'</span><span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>ÂìçÂ∫î</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">r<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'www.baidu.com'</span><span class="token punctuation">)</span>
r<span class="token punctuation">.</span>status_code<span class="token comment">#Áä∂ÊÄÅÁ†Å</span>
r<span class="token punctuation">.</span>headers <span class="token comment">#ÂìçÂ∫îÂ§¥</span>
r<span class="token punctuation">.</span>cookies <span class="token comment">#cookie</span>
r<span class="token punctuation">.</span>url <span class="token comment">#url</span>
r<span class="token punctuation">.</span>histroy <span class="token comment">#ËØ∑Ê±ÇÂéÜÂè≤</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>Êñá‰ª∂‰∏ä‰º†</li>
</ul>
<p>Ê®°Êãü‰∏ä‰º†Êñá‰ª∂</p>
<p>demo:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests
files<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">'file'</span><span class="token punctuation">:</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'favicon.ico'</span><span class="token punctuation">,</span><span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
r<span class="token operator">=</span>requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">'https://www.httpbin.org/post'</span><span class="token punctuation">,</span><span class="token builtin">file</span><span class="token operator">=</span>files<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token comment">#ËøîÂõû‰∏ä‰º†Êñá‰ª∂ÂêéÁöÑÂìçÂ∫î</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>ËÆæÁΩÆCookies</li>
</ul>
<p>Âè™ÈúÄË¶ÅÂú®headersÁöÑÂ≠óÂÖ∏‰∏≠Ê∑ªÂä†‚ÄôCookie‚ÄôÔºö'xxx‚ÄôÂç≥ÂèØ</p>
<ul>
<li>Áª¥ÊåÅSeesion</li>
</ul>
<p>‰∏çËÆæÁΩÆSeesionÂ∞±Áõ∏ÂΩì‰∫é‰∏§Ê¨°Áà¨ÂèñÊâìÂºÄ‰∏§‰∏™ÊµèËßàÂô®ÔºåCookieÂ∞±Êó†Ê≥ï‰øùÊåÅ</p>
<p>ËÆæÁΩÆ‰∫Ü‰∏Ä‰∏™SeesionÔºåÂèØ‰ª•ÊèêÈ´òÁà¨ÂèñÈÄüÂ∫¶ËÄå‰∏îÁª¥ÊåÅCookies</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> requests<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#ÂàõÂª∫‰∏Ä‰∏™SessionÂØπË±°</span>

s<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://httpbin.org/cookies/set/sessioncookie/123456789'</span><span class="token punctuation">)</span>
r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://httpbin.org/cookies'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">r<span class="token punctuation">.</span>contentÂíår<span class="token punctuation">.</span>textÈÉΩÊòØrequestsÂ∫ì‰∏≠ResponseÂØπË±°ÁöÑÂ±ûÊÄßÔºåÁî®‰∫éËé∑ÂèñËØ∑Ê±ÇÁöÑÂìçÂ∫îÂÜÖÂÆπÔºå‰ΩÜÂÆÉ‰ª¨‰πãÈó¥Êúâ‰∏Ä‰∫õÈáçË¶ÅÁöÑÂå∫Âà´Ôºö

Á±ªÂûãÔºö
r<span class="token punctuation">.</span>contentËøîÂõûÁöÑÊòØ‰ª•Â≠óËäÇÂΩ¢ÂºèË°®Á§∫ÁöÑÂìçÂ∫îÂÜÖÂÆπÔºåÂç≥<span class="token builtin">bytes</span>Á±ªÂûãÁöÑÂØπË±°„ÄÇ
r<span class="token punctuation">.</span>textËøîÂõûÁöÑÊòØ‰ª•UnicodeÂΩ¢ÂºèË°®Á§∫ÁöÑÂìçÂ∫îÂÜÖÂÆπÔºåÂç≥<span class="token builtin">str</span>Á±ªÂûãÁöÑÂØπË±°„ÄÇ
ÁºñÁ†ÅÔºö
r<span class="token punctuation">.</span>contentËøîÂõûÁöÑÊòØÂéüÂßãÁöÑÂ≠óËäÇÊï∞ÊçÆÔºåÊ≤°ÊúâËøõË°å‰ªª‰ΩïÁºñÁ†ÅÔºåÂõ†Ê≠§ÂÆÉÈÄÇÁî®‰∫éÂ§ÑÁêÜÂõæÁâá„ÄÅÈü≥È¢ë„ÄÅËßÜÈ¢ëÁ≠â‰∫åËøõÂà∂Êï∞ÊçÆ„ÄÇ
r<span class="token punctuation">.</span>textËøîÂõûÁöÑÊòØÊ†πÊçÆHTTPÂìçÂ∫î‰∏≠ÁöÑÂ≠óÁ¨¶ÁºñÁ†ÅËá™Âä®Ëß£Á†ÅÂêéÁöÑÊñáÊú¨Êï∞ÊçÆÔºåÈÄöÂ∏∏ÊòØUTF<span class="token operator">-</span><span class="token number">8</span>ÁºñÁ†Å„ÄÇÂ¶ÇÊûúÊó†Ê≥ïÁ°ÆÂÆöÁºñÁ†ÅÊñπÂºèÔºårequestsÂ∫ì‰ºöÊ†πÊçÆHTTPÂ§¥ÈÉ®‰∏≠ÁöÑÂ≠óÁ¨¶ÁºñÁ†ÅÊù•ÁåúÊµãÔºåÊàñËÄÖ‰ΩøÁî®ÈªòËÆ§ÁöÑUTF<span class="token operator">-</span><span class="token number">8</span>ÁºñÁ†Å„ÄÇ
Áî®ÈÄîÔºö
ÂΩìÈúÄË¶ÅÂ§ÑÁêÜÊñáÊú¨ÂÜÖÂÆπÊó∂ÔºåÂ¶ÇHTMLÈ°µÈù¢ÊàñJSONÊï∞ÊçÆÁ≠âÔºåÈÄöÂ∏∏‰ΩøÁî®r<span class="token punctuation">.</span>textÔºåÂõ†‰∏∫ÂÆÉÊèê‰æõ‰∫ÜÊñπ‰æøÁöÑÊñáÊú¨Êìç‰ΩúÊñπÊ≥ïÔºåÊØîÂ¶ÇÂ≠óÁ¨¶‰∏≤Êü•Êâæ„ÄÅÂàÜÂâ≤Á≠â„ÄÇ
ÂΩìÈúÄË¶ÅÂ§ÑÁêÜ‰∫åËøõÂà∂Êï∞ÊçÆÊó∂ÔºåÂ¶ÇÂõæÁâá„ÄÅËßÜÈ¢ë„ÄÅÊñá‰ª∂Á≠âÔºåÈÄöÂ∏∏‰ΩøÁî®r<span class="token punctuation">.</span>contentÔºåÂõ†‰∏∫ÂÆÉËøîÂõûÁöÑÊòØÂéüÂßãÁöÑÂ≠óËäÇÊï∞ÊçÆÔºå‰∏ç‰ºöÂØπÊï∞ÊçÆËøõË°åÈ¢ùÂ§ñÁöÑËß£ÊûêÊàñÂ§ÑÁêÜ„ÄÇ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>
<p>Ë∂ÖÊó∂ËÆæÁΩÆ</p>
<p>ËÆøÈóÆÊúâ‰∫õÁΩëÁ´ôÊó∂ÂèØËÉΩ‰ºöË∂ÖÊó∂ÔºåËøôÊó∂ËÆæÁΩÆÂ•ΩtimeoutÂ∞±ÂèØ‰ª•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò</p>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">import requests
from requests.exceptions import ReadTimeout
try:
 response = requests.get("http://httpbin.org/get", timeout = 0.5)
 print(response.status_code)
except ReadTimeout:
 print('Timeout')<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Ê≠£Â∏∏ËÆøÈóÆÔºåÁä∂ÊÄÅÂêóËøîÂõû200</p>
</li>
<li>
<p>ÂºÇÂ∏∏Â§ÑÁêÜ</p>
</li>
</ul>
<p>‚Äã	ÈÅáÂà∞ÁΩëÁªúÈóÆÈ¢òÔºàÂ¶ÇÔºöDNSÊü•ËØ¢Â§±Ë¥•„ÄÅÊãíÁªùËøûÊé•Á≠âÔºâÊó∂ÔºåRequests‰ºöÊäõÂá∫‰∏Ä‰∏™ConnectionError ÂºÇÂ∏∏„ÄÇ</p>
<p>‚Äã	ÈÅáÂà∞ÁΩïËßÅÁöÑÊó†ÊïàHTTPÂìçÂ∫îÊó∂ÔºåRequestsÂàô‰ºöÊäõÂá∫‰∏Ä‰∏™ HTTPError ÂºÇÂ∏∏„ÄÇ</p>
<p>‚Äã	Ëã•ËØ∑Ê±ÇË∂ÖÊó∂ÔºåÂàôÊäõÂá∫‰∏Ä‰∏™ Timeout ÂºÇÂ∏∏„ÄÇ</p>
<p>‚Äã	Ëã•ËØ∑Ê±ÇË∂ÖËøá‰∫ÜËÆæÂÆöÁöÑÊúÄÂ§ßÈáçÂÆöÂêëÊ¨°Êï∞ÔºåÂàô‰ºöÊäõÂá∫‰∏Ä‰∏™ TooManyRedirects ÂºÇÂ∏∏„ÄÇ</p>
<p>ÊâÄÊúâRequestsÊòæÂºèÊäõÂá∫ÁöÑÂºÇÂ∏∏ÈÉΩÁªßÊâøËá™ requests.exceptions.RequestException „ÄÇ</p>
<h2 id="re"><a class="markdownIt-Anchor" href="#re"></a> <strong>re</strong></h2>
<p><a target="_blank" rel="noopener" href="https://tool.oschina.net/regex">Âú®Á∫øÊ≠£ÂàôË°®ËææÂºèÊµãËØï (oschina.net)</a></p>
<p>Ê≠£ÂàôÊïôÁ®ãÔºö<a target="_blank" rel="noopener" href="https://www.cnblogs.com/poloyy/category/1796055.html">https://www.cnblogs.com/poloyy/category/1796055.html</a></p>
<h3 id="Ê≠£ÂàôËØ≠Ê≥ï"><a class="markdownIt-Anchor" href="#Ê≠£ÂàôËØ≠Ê≥ï"></a> <strong>Ê≠£ÂàôËØ≠Ê≥ï</strong></h3>
<table>
<thead>
<tr>
<th>Ê≠£ÂàôÂ≠óÁ¨¶</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>\</td>
<td>Â∞Ü‰∏ã‰∏Ä‰∏™Â≠óÁ¨¶Ê†áËÆ∞‰∏∫‰∏Ä‰∏™ÁâπÊÆäÂ≠óÁ¨¶„ÄÅÊàñ‰∏Ä‰∏™Âéü‰πâÂ≠óÁ¨¶„ÄÅÊàñ‰∏Ä‰∏™ÂêëÂêéÂºïÁî®„ÄÅÊàñ‰∏Ä‰∏™ÂÖ´ËøõÂà∂ËΩ¨‰πâÁ¨¶„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>n</code>&quot;ÂåπÈÖçÂ≠óÁ¨¶&quot;<code>n</code>&quot;„ÄÇ‚Äú<code>\n</code>&quot;ÂåπÈÖç‰∏Ä‰∏™Êç¢Ë°åÁ¨¶„ÄÇ‰∏≤Ë°å‚Äù<code>\\</code>‚ÄúÂåπÈÖç‚Äù<code>\</code>‚ÄúËÄå‚Äù<code>\(</code>‚ÄúÂàôÂåπÈÖç‚Äù<code>(</code>&quot;„ÄÇ</td>
</tr>
<tr>
<td>^</td>
<td>ÂåπÈÖçËæìÂÖ•Â≠óÁ¨¶‰∏≤ÁöÑÂºÄÂßã‰ΩçÁΩÆ„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜRegExpÂØπË±°ÁöÑMultilineÂ±ûÊÄßÔºå^‰πüÂåπÈÖç‚Äú<code>\n</code>&quot;Êàñ&quot;<code>\r</code>&quot;‰πãÂêéÁöÑ‰ΩçÁΩÆ„ÄÇ</td>
</tr>
<tr>
<td>$</td>
<td>ÂåπÈÖçËæìÂÖ•Â≠óÁ¨¶‰∏≤ÁöÑÁªìÊùü‰ΩçÁΩÆ„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜRegExpÂØπË±°ÁöÑMultilineÂ±ûÊÄßÔºå$‰πüÂåπÈÖç‚Äú<code>\n</code>&quot;Êàñ&quot;<code>\r</code>&quot;‰πãÂâçÁöÑ‰ΩçÁΩÆ„ÄÇ</td>
</tr>
<tr>
<td>*</td>
<td>ÂåπÈÖçÂâçÈù¢ÁöÑÂ≠êË°®ËææÂºèÈõ∂Ê¨°ÊàñÂ§öÊ¨°„ÄÇ‰æãÂ¶ÇÔºåzo*ËÉΩÂåπÈÖç‚Äú<code>z</code>&quot;‰ª•Âèä&quot;<code>zoo</code>&quot;„ÄÇ*Á≠â‰ª∑‰∫é{0,}„ÄÇ</td>
</tr>
<tr>
<td>+</td>
<td>ÂåπÈÖçÂâçÈù¢ÁöÑÂ≠êË°®ËææÂºè‰∏ÄÊ¨°ÊàñÂ§öÊ¨°„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>zo+</code>‚ÄúËÉΩÂåπÈÖç&quot;<code>zo</code>&quot;‰ª•Âèä&quot;<code>zoo</code>‚ÄùÔºå‰ΩÜ‰∏çËÉΩÂåπÈÖç&quot;<code>z</code>&quot;„ÄÇ+Á≠â‰ª∑‰∫é{1,}„ÄÇ</td>
</tr>
<tr>
<td>?</td>
<td>ÂåπÈÖçÂâçÈù¢ÁöÑÂ≠êË°®ËææÂºèÈõ∂Ê¨°Êàñ‰∏ÄÊ¨°„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>do(es)?</code>‚ÄúÂèØ‰ª•ÂåπÈÖç&quot;<code>does</code>&quot;Êàñ&quot;<code>does</code>&quot;‰∏≠ÁöÑ&quot;<code>do</code>‚Äù„ÄÇ?Á≠â‰ª∑‰∫é{0,1}„ÄÇ</td>
</tr>
<tr>
<td>{<em>n</em>}</td>
<td><em>n</em>ÊòØ‰∏Ä‰∏™ÈùûË¥üÊï¥Êï∞„ÄÇÂåπÈÖçÁ°ÆÂÆöÁöÑ<em>n</em>Ê¨°„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>o&#123;2&#125;</code>‚Äú‰∏çËÉΩÂåπÈÖç&quot;<code>Bob</code>&quot;‰∏≠ÁöÑ&quot;<code>o</code>‚ÄùÔºå‰ΩÜÊòØËÉΩÂåπÈÖç&quot;<code>food</code>&quot;‰∏≠ÁöÑ‰∏§‰∏™o„ÄÇ</td>
</tr>
<tr>
<td>{<em>n</em>,}</td>
<td><em>n</em>ÊòØ‰∏Ä‰∏™ÈùûË¥üÊï¥Êï∞„ÄÇËá≥Â∞ëÂåπÈÖç<em>n</em>Ê¨°„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>o&#123;2,&#125;</code>‚Äú‰∏çËÉΩÂåπÈÖç&quot;<code>Bob</code>&quot;‰∏≠ÁöÑ&quot;<code>o</code>‚ÄùÔºå‰ΩÜËÉΩÂåπÈÖç&quot;<code>foooood</code>&quot;‰∏≠ÁöÑÊâÄÊúâo„ÄÇ&quot;<code>o&#123;1,&#125;</code>‚ÄúÁ≠â‰ª∑‰∫é&quot;<code>o+</code>‚Äù„ÄÇ&quot;<code>o&#123;0,&#125;</code>‚ÄúÂàôÁ≠â‰ª∑‰∫é&quot;<code>o*</code>‚Äù„ÄÇ</td>
</tr>
<tr>
<td>{<em>n</em>,<em>m</em>}</td>
<td><em>m</em>Âíå<em>n</em>Âùá‰∏∫ÈùûË¥üÊï¥Êï∞ÔºåÂÖ∂‰∏≠<em>n</em>&lt;=<em>m</em>„ÄÇÊúÄÂ∞ëÂåπÈÖç<em>n</em>Ê¨°‰∏îÊúÄÂ§öÂåπÈÖç<em>m</em>Ê¨°„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>o&#123;1,3&#125;</code>&quot;Â∞ÜÂåπÈÖç&quot;<code>fooooood</code>&quot;‰∏≠ÁöÑÂâç‰∏â‰∏™o„ÄÇ&quot;<code>o&#123;0,1&#125;</code>‚ÄúÁ≠â‰ª∑‰∫é&quot;<code>o?</code>‚Äù„ÄÇËØ∑Ê≥®ÊÑèÂú®ÈÄóÂè∑Âíå‰∏§‰∏™Êï∞‰πãÈó¥‰∏çËÉΩÊúâÁ©∫Ê†º„ÄÇ</td>
</tr>
<tr>
<td>?</td>
<td>ÂΩìËØ•Â≠óÁ¨¶Á¥ßË∑üÂú®‰ªª‰Ωï‰∏Ä‰∏™ÂÖ∂‰ªñÈôêÂà∂Á¨¶Ôºà*,+,?Ôºå{<em>n</em>}Ôºå{<em>n</em>,}Ôºå{<em>n</em>,<em>m</em>}ÔºâÂêéÈù¢Êó∂ÔºåÂåπÈÖçÊ®°ÂºèÊòØÈùûË¥™Â©™ÁöÑ„ÄÇÈùûË¥™Â©™Ê®°ÂºèÂ∞ΩÂèØËÉΩÂ∞ëÁöÑÂåπÈÖçÊâÄÊêúÁ¥¢ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåËÄåÈªòËÆ§ÁöÑË¥™Â©™Ê®°ÂºèÂàôÂ∞ΩÂèØËÉΩÂ§öÁöÑÂåπÈÖçÊâÄÊêúÁ¥¢ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ‰æãÂ¶ÇÔºåÂØπ‰∫éÂ≠óÁ¨¶‰∏≤‚Äú<code>oooo</code>&quot;Ôºå&quot;<code>o+?</code>‚ÄúÂ∞ÜÂåπÈÖçÂçï‰∏™&quot;<code>o</code>‚ÄùÔºåËÄå&quot;<code>o+</code>‚ÄúÂ∞ÜÂåπÈÖçÊâÄÊúâ&quot;<code>o</code>‚Äù„ÄÇ</td>
</tr>
<tr>
<td>.</td>
<td>ÂåπÈÖçÈô§‚Äú<code>\</code><em><code>n</code></em>&quot;‰πãÂ§ñÁöÑ‰ªª‰ΩïÂçï‰∏™Â≠óÁ¨¶„ÄÇË¶ÅÂåπÈÖçÂåÖÊã¨&quot;<code>\</code><em><code>n</code></em>&quot;Âú®ÂÜÖÁöÑ‰ªª‰ΩïÂ≠óÁ¨¶ÔºåËØ∑‰ΩøÁî®ÂÉè&quot;`(.</td>
</tr>
<tr>
<td>(pattern)</td>
<td>ÂåπÈÖçpatternÂπ∂Ëé∑ÂèñËøô‰∏ÄÂåπÈÖç„ÄÇÊâÄËé∑ÂèñÁöÑÂåπÈÖçÂèØ‰ª•‰ªé‰∫ßÁîüÁöÑMatchesÈõÜÂêàÂæóÂà∞ÔºåÂú®VBScript‰∏≠‰ΩøÁî®SubMatchesÈõÜÂêàÔºåÂú®JScript‰∏≠Âàô‰ΩøÁî®$0‚Ä¶$9Â±ûÊÄß„ÄÇË¶ÅÂåπÈÖçÂúÜÊã¨Âè∑Â≠óÁ¨¶ÔºåËØ∑‰ΩøÁî®‚Äú<code>\(</code>‚ÄúÊàñ‚Äù<code>\)</code>&quot;„ÄÇ</td>
</tr>
<tr>
<td>(?:pattern)</td>
<td>ÂåπÈÖçpattern‰ΩÜ‰∏çËé∑ÂèñÂåπÈÖçÁªìÊûúÔºå‰πüÂ∞±ÊòØËØ¥ËøôÊòØ‰∏Ä‰∏™ÈùûËé∑ÂèñÂåπÈÖçÔºå‰∏çËøõË°åÂ≠òÂÇ®‰æõ‰ª•Âêé‰ΩøÁî®„ÄÇËøôÂú®‰ΩøÁî®ÊàñÂ≠óÁ¨¶‚Äú`(</td>
</tr>
<tr>
<td>(?=pattern)</td>
<td>Ê≠£ÂêëËÇØÂÆöÈ¢ÑÊü•ÔºåÂú®‰ªª‰ΩïÂåπÈÖçpatternÁöÑÂ≠óÁ¨¶‰∏≤ÂºÄÂßãÂ§ÑÂåπÈÖçÊü•ÊâæÂ≠óÁ¨¶‰∏≤„ÄÇËøôÊòØ‰∏Ä‰∏™ÈùûËé∑ÂèñÂåπÈÖçÔºå‰πüÂ∞±ÊòØËØ¥ÔºåËØ•ÂåπÈÖç‰∏çÈúÄË¶ÅËé∑Âèñ‰æõ‰ª•Âêé‰ΩøÁî®„ÄÇ‰æãÂ¶ÇÔºå‚Äú`Windows(?=95</td>
</tr>
<tr>
<td>(?!pattern)</td>
<td>Ê≠£ÂêëÂê¶ÂÆöÈ¢ÑÊü•ÔºåÂú®‰ªª‰Ωï‰∏çÂåπÈÖçpatternÁöÑÂ≠óÁ¨¶‰∏≤ÂºÄÂßãÂ§ÑÂåπÈÖçÊü•ÊâæÂ≠óÁ¨¶‰∏≤„ÄÇËøôÊòØ‰∏Ä‰∏™ÈùûËé∑ÂèñÂåπÈÖçÔºå‰πüÂ∞±ÊòØËØ¥ÔºåËØ•ÂåπÈÖç‰∏çÈúÄË¶ÅËé∑Âèñ‰æõ‰ª•Âêé‰ΩøÁî®„ÄÇ‰æãÂ¶Ç‚Äú`Windows(?!95</td>
</tr>
<tr>
<td>(?&lt;=pattern)</td>
<td>ÂèçÂêëËÇØÂÆöÈ¢ÑÊü•Ôºå‰∏éÊ≠£ÂêëËÇØÂÆöÈ¢ÑÊü•Á±ªÊãüÔºåÂè™ÊòØÊñπÂêëÁõ∏Âèç„ÄÇ‰æãÂ¶ÇÔºå‚Äú`(?&lt;=95</td>
</tr>
<tr>
<td>(?&lt;!pattern)</td>
<td>ÂèçÂêëÂê¶ÂÆöÈ¢ÑÊü•Ôºå‰∏éÊ≠£ÂêëÂê¶ÂÆöÈ¢ÑÊü•Á±ªÊãüÔºåÂè™ÊòØÊñπÂêëÁõ∏Âèç„ÄÇ‰æãÂ¶Ç‚Äú`(?&lt;!95</td>
</tr>
<tr>
<td>x|y</td>
<td>ÂåπÈÖçxÊàñy„ÄÇ‰æãÂ¶ÇÔºå‚Äú`z</td>
</tr>
<tr>
<td>[xyz]</td>
<td>Â≠óÁ¨¶ÈõÜÂêà„ÄÇÂåπÈÖçÊâÄÂåÖÂê´ÁöÑ‰ªªÊÑè‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>[abc]</code>‚ÄúÂèØ‰ª•ÂåπÈÖç&quot;<code>plain</code>&quot;‰∏≠ÁöÑ&quot;<code>a</code>‚Äù„ÄÇ</td>
</tr>
<tr>
<td>[^xyz]</td>
<td>Ë¥üÂÄºÂ≠óÁ¨¶ÈõÜÂêà„ÄÇÂåπÈÖçÊú™ÂåÖÂê´ÁöÑ‰ªªÊÑèÂ≠óÁ¨¶„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>[^abc]</code>‚ÄúÂèØ‰ª•ÂåπÈÖç&quot;<code>plain</code>&quot;‰∏≠ÁöÑ&quot;<code>p</code>‚Äù„ÄÇ</td>
</tr>
<tr>
<td>[a-z]</td>
<td>Â≠óÁ¨¶ËåÉÂõ¥„ÄÇÂåπÈÖçÊåáÂÆöËåÉÂõ¥ÂÜÖÁöÑ‰ªªÊÑèÂ≠óÁ¨¶„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>[a-z]</code>&quot;ÂèØ‰ª•ÂåπÈÖç&quot;<code>a</code>&quot;Âà∞&quot;<code>z</code>&quot;ËåÉÂõ¥ÂÜÖÁöÑ‰ªªÊÑèÂ∞èÂÜôÂ≠óÊØçÂ≠óÁ¨¶„ÄÇ</td>
</tr>
<tr>
<td>[^a-z]</td>
<td>Ë¥üÂÄºÂ≠óÁ¨¶ËåÉÂõ¥„ÄÇÂåπÈÖç‰ªª‰Ωï‰∏çÂú®ÊåáÂÆöËåÉÂõ¥ÂÜÖÁöÑ‰ªªÊÑèÂ≠óÁ¨¶„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>[^a-z]</code>&quot;ÂèØ‰ª•ÂåπÈÖç‰ªª‰Ωï‰∏çÂú®&quot;<code>a</code>&quot;Âà∞&quot;<code>z</code>&quot;ËåÉÂõ¥ÂÜÖÁöÑ‰ªªÊÑèÂ≠óÁ¨¶„ÄÇ</td>
</tr>
<tr>
<td>\b</td>
<td>ÂåπÈÖç‰∏Ä‰∏™ÂçïËØçËæπÁïåÔºå‰πüÂ∞±ÊòØÊåáÂçïËØçÂíåÁ©∫Ê†ºÈó¥ÁöÑ‰ΩçÁΩÆ„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>er\b</code>&quot;ÂèØ‰ª•ÂåπÈÖç&quot;<code>never</code>&quot;‰∏≠ÁöÑ&quot;<code>er</code>&quot;Ôºå‰ΩÜ‰∏çËÉΩÂåπÈÖç&quot;<code>verb</code>&quot;‰∏≠ÁöÑ&quot;<code>er</code>&quot;„ÄÇ</td>
</tr>
<tr>
<td>\B</td>
<td>ÂåπÈÖçÈùûÂçïËØçËæπÁïå„ÄÇ‚Äú<code>er\B</code>&quot;ËÉΩÂåπÈÖç&quot;<code>verb</code>&quot;‰∏≠ÁöÑ&quot;<code>er</code>&quot;Ôºå‰ΩÜ‰∏çËÉΩÂåπÈÖç&quot;<code>never</code>&quot;‰∏≠ÁöÑ&quot;<code>er</code>&quot;„ÄÇ</td>
</tr>
<tr>
<td>\cx</td>
<td>ÂåπÈÖçÁî±xÊåáÊòéÁöÑÊéßÂà∂Â≠óÁ¨¶„ÄÇ‰æãÂ¶ÇÔºå\cMÂåπÈÖç‰∏Ä‰∏™Control-MÊàñÂõûËΩ¶Á¨¶„ÄÇxÁöÑÂÄºÂøÖÈ°ª‰∏∫A-ZÊàña-z‰πã‰∏Ä„ÄÇÂê¶ÂàôÔºåÂ∞ÜcËßÜ‰∏∫‰∏Ä‰∏™Âéü‰πâÁöÑ‚Äú<code>c</code>&quot;Â≠óÁ¨¶„ÄÇ</td>
</tr>
<tr>
<td>\d</td>
<td>ÂåπÈÖç‰∏Ä‰∏™Êï∞Â≠óÂ≠óÁ¨¶„ÄÇÁ≠â‰ª∑‰∫é[0-9]„ÄÇ</td>
</tr>
<tr>
<td>\D</td>
<td>ÂåπÈÖç‰∏Ä‰∏™ÈùûÊï∞Â≠óÂ≠óÁ¨¶„ÄÇÁ≠â‰ª∑‰∫é[^0-9]„ÄÇ</td>
</tr>
<tr>
<td>\f</td>
<td>ÂåπÈÖç‰∏Ä‰∏™Êç¢È°µÁ¨¶„ÄÇÁ≠â‰ª∑‰∫é\x0cÂíå\cL„ÄÇ</td>
</tr>
<tr>
<td>\n</td>
<td>ÂåπÈÖç‰∏Ä‰∏™Êç¢Ë°åÁ¨¶„ÄÇÁ≠â‰ª∑‰∫é\x0aÂíå\cJ„ÄÇ</td>
</tr>
<tr>
<td>\r</td>
<td>ÂåπÈÖç‰∏Ä‰∏™ÂõûËΩ¶Á¨¶„ÄÇÁ≠â‰ª∑‰∫é\x0dÂíå\cM„ÄÇ</td>
</tr>
<tr>
<td>\s</td>
<td>ÂåπÈÖç‰ªª‰ΩïÁ©∫ÁôΩÂ≠óÁ¨¶ÔºåÂåÖÊã¨Á©∫Ê†º„ÄÅÂà∂Ë°®Á¨¶„ÄÅÊç¢È°µÁ¨¶Á≠âÁ≠â„ÄÇÁ≠â‰ª∑‰∫é[ \f\n\r\t\v]„ÄÇ</td>
</tr>
<tr>
<td>\S</td>
<td>ÂåπÈÖç‰ªª‰ΩïÈùûÁ©∫ÁôΩÂ≠óÁ¨¶„ÄÇÁ≠â‰ª∑‰∫é[^ \f\n\r\t\v]„ÄÇ</td>
</tr>
<tr>
<td>\t</td>
<td>ÂåπÈÖç‰∏Ä‰∏™Âà∂Ë°®Á¨¶„ÄÇÁ≠â‰ª∑‰∫é\x09Âíå\cI„ÄÇ</td>
</tr>
<tr>
<td>\v</td>
<td>ÂåπÈÖç‰∏Ä‰∏™ÂûÇÁõ¥Âà∂Ë°®Á¨¶„ÄÇÁ≠â‰ª∑‰∫é\x0bÂíå\cK„ÄÇ</td>
</tr>
<tr>
<td>\w</td>
<td>ÂåπÈÖçÂåÖÊã¨‰∏ãÂàíÁ∫øÁöÑ‰ªª‰ΩïÂçïËØçÂ≠óÁ¨¶„ÄÇÁ≠â‰ª∑‰∫é‚Äú<code>[A-Za-z0-9_]</code>&quot;„ÄÇ</td>
</tr>
<tr>
<td>\W</td>
<td>ÂåπÈÖç‰ªª‰ΩïÈùûÂçïËØçÂ≠óÁ¨¶„ÄÇÁ≠â‰ª∑‰∫é‚Äú<code>[^A-Za-z0-9_]</code>&quot;„ÄÇ</td>
</tr>
<tr>
<td>\x<em>n</em></td>
<td>ÂåπÈÖç<em>n</em>ÔºåÂÖ∂‰∏≠<em>n</em>‰∏∫ÂçÅÂÖ≠ËøõÂà∂ËΩ¨‰πâÂÄº„ÄÇÂçÅÂÖ≠ËøõÂà∂ËΩ¨‰πâÂÄºÂøÖÈ°ª‰∏∫Á°ÆÂÆöÁöÑ‰∏§‰∏™Êï∞Â≠óÈïø„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>\x41</code>&quot;ÂåπÈÖç&quot;<code>A</code>&quot;„ÄÇ‚Äú<code>\x041</code>&quot;ÂàôÁ≠â‰ª∑‰∫é‚Äù<code>\x04&amp;1</code>&quot;„ÄÇÊ≠£ÂàôË°®ËææÂºè‰∏≠ÂèØ‰ª•‰ΩøÁî®ASCIIÁºñÁ†Å„ÄÇ.</td>
</tr>
<tr>
<td>*num*</td>
<td>ÂåπÈÖç<em>num</em>ÔºåÂÖ∂‰∏≠<em>num</em>ÊòØ‰∏Ä‰∏™Ê≠£Êï¥Êï∞„ÄÇÂØπÊâÄËé∑ÂèñÁöÑÂåπÈÖçÁöÑÂºïÁî®„ÄÇ‰æãÂ¶ÇÔºå‚Äú<code>(.)\1</code>&quot;ÂåπÈÖç‰∏§‰∏™ËøûÁª≠ÁöÑÁõ∏ÂêåÂ≠óÁ¨¶„ÄÇ</td>
</tr>
<tr>
<td>*n*</td>
<td>Ê†áËØÜ‰∏Ä‰∏™ÂÖ´ËøõÂà∂ËΩ¨‰πâÂÄºÊàñ‰∏Ä‰∏™ÂêëÂêéÂºïÁî®„ÄÇÂ¶ÇÊûú*n<em>‰πãÂâçËá≥Â∞ë</em>n<em>‰∏™Ëé∑ÂèñÁöÑÂ≠êË°®ËææÂºèÔºåÂàô</em>n<em>‰∏∫ÂêëÂêéÂºïÁî®„ÄÇÂê¶ÂàôÔºåÂ¶ÇÊûú</em>n<em>‰∏∫ÂÖ´ËøõÂà∂Êï∞Â≠óÔºà0-7ÔºâÔºåÂàô</em>n*‰∏∫‰∏Ä‰∏™ÂÖ´ËøõÂà∂ËΩ¨‰πâÂÄº„ÄÇ</td>
</tr>
<tr>
<td>*nm*</td>
<td>Ê†áËØÜ‰∏Ä‰∏™ÂÖ´ËøõÂà∂ËΩ¨‰πâÂÄºÊàñ‰∏Ä‰∏™ÂêëÂêéÂºïÁî®„ÄÇÂ¶ÇÊûú*nm<em>‰πãÂâçËá≥Â∞ëÊúâ</em>nm<em>‰∏™Ëé∑ÂæóÂ≠êË°®ËææÂºèÔºåÂàô</em>nm<em>‰∏∫ÂêëÂêéÂºïÁî®„ÄÇÂ¶ÇÊûú*nm</em>‰πãÂâçËá≥Â∞ëÊúâ<em>n</em>‰∏™Ëé∑ÂèñÔºåÂàô<em>n</em>‰∏∫‰∏Ä‰∏™ÂêéË∑üÊñáÂ≠ó<em>m</em>ÁöÑÂêëÂêéÂºïÁî®„ÄÇÂ¶ÇÊûúÂâçÈù¢ÁöÑÊù°‰ª∂ÈÉΩ‰∏çÊª°Ë∂≥ÔºåËã•<em>n</em>Âíå<em>m</em>Âùá‰∏∫ÂÖ´ËøõÂà∂Êï∞Â≠óÔºà0-7ÔºâÔºåÂàô*nm<em>Â∞ÜÂåπÈÖçÂÖ´ËøõÂà∂ËΩ¨‰πâÂÄº</em>nm*„ÄÇ</td>
</tr>
<tr>
<td>*nml*</td>
<td>Â¶ÇÊûú<em>n</em>‰∏∫ÂÖ´ËøõÂà∂Êï∞Â≠óÔºà0-3ÔºâÔºå‰∏î<em>mÂíål</em>Âùá‰∏∫ÂÖ´ËøõÂà∂Êï∞Â≠óÔºà0-7ÔºâÔºåÂàôÂåπÈÖçÂÖ´ËøõÂà∂ËΩ¨‰πâÂÄº<em>nm</em>l„ÄÇ</td>
</tr>
<tr>
<td>\u<em>n</em></td>
<td>ÂåπÈÖç<em>n</em>ÔºåÂÖ∂‰∏≠<em>n</em>ÊòØ‰∏Ä‰∏™Áî®Âõõ‰∏™ÂçÅÂÖ≠ËøõÂà∂Êï∞Â≠óË°®Á§∫ÁöÑUnicodeÂ≠óÁ¨¶„ÄÇ‰æãÂ¶ÇÔºå\u00A9ÂåπÈÖçÁâàÊùÉÁ¨¶Âè∑</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Â∏∏ËßÅÊ≠£ÂàôË°®ËææÂºèËøêÁÆóÁ¨¶ÁöÑ‰ºòÂÖàÁ∫ßÔºö</p>
</blockquote>
<ul>
<li>
<p><strong>ËΩ¨‰πâÁ¨¶Âè∑Ôºö</strong> <code>\</code> ÊòØÁî®‰∫éËΩ¨‰πâÂÖ∂‰ªñÁâπÊÆäÂ≠óÁ¨¶ÁöÑËΩ¨‰πâÁ¨¶Âè∑„ÄÇÂÆÉÂÖ∑ÊúâÊúÄÈ´òÁöÑ‰ºòÂÖàÁ∫ß„ÄÇ</p>
<p>Á§∫‰æãÔºö<code>\d</code>„ÄÅ<code>\.</code> Á≠âÔºåÂÖ∂‰∏≠ <code>\d</code> ÂåπÈÖçÊï∞Â≠óÔºå<code>\.</code> ÂåπÈÖçÁÇπÂè∑„ÄÇ</p>
</li>
<li>
<p><strong>Êã¨Âè∑Ôºö</strong> ÂúÜÊã¨Âè∑ <code>()</code> Áî®‰∫éÂàõÂª∫Â≠êË°®ËææÂºèÔºåÂÖ∑ÊúâÈ´ò‰∫éÂÖ∂‰ªñËøêÁÆóÁ¨¶ÁöÑ‰ºòÂÖàÁ∫ß„ÄÇ</p>
<p>Á§∫‰æãÔºö<code>(abc)+</code> ÂåπÈÖç ‚Äúabc‚Äù ‰∏ÄÊ¨°ÊàñÂ§öÊ¨°„ÄÇ</p>
</li>
<li>
<p><strong>ÈáèËØçÔºö</strong> ÈáèËØçÊåáÂÆöÂâçÈù¢ÁöÑÂÖÉÁ¥†ÂèØ‰ª•ÈáçÂ§çÁöÑÊ¨°Êï∞„ÄÇ</p>
<p>Á§∫‰æãÔºö<code>a*</code> ÂåπÈÖçÈõ∂‰∏™ÊàñÂ§ö‰∏™ ‚Äúa‚Äù„ÄÇ</p>
</li>
<li>
<p><strong>Â≠óÁ¨¶Á±ªÔºö</strong> Â≠óÁ¨¶Á±ª‰ΩøÁî®ÊñπÊã¨Âè∑ <code>[]</code> Ë°®Á§∫ÔºåÁî®‰∫éÂåπÈÖçÊã¨Âè∑ÂÜÖÁöÑ‰ªªÊÑèÂ≠óÁ¨¶„ÄÇ</p>
<p>Á§∫‰æãÔºö<code>[aeiou]</code> ÂåπÈÖç‰ªª‰Ωï‰∏Ä‰∏™ÂÖÉÈü≥Â≠óÊØç„ÄÇ</p>
</li>
<li>
<p><strong>Êñ≠Ë®ÄÔºö</strong> Êñ≠Ë®ÄÊòØÁî®‰∫éÊ£ÄÊü•Â≠óÁ¨¶‰∏≤‰∏≠ÁâπÂÆö‰ΩçÁΩÆÁöÑÊù°‰ª∂ÁöÑÂÖÉÁ¥†„ÄÇ</p>
<p>Á§∫‰æãÔºö<code>^</code> Ë°®Á§∫Ë°åÁöÑÂºÄÂ§¥Ôºå<code>$</code> Ë°®Á§∫Ë°åÁöÑÁªìÂ∞æ„ÄÇ</p>
</li>
<li>
<p><strong>ËøûÊé•Ôºö</strong> ËøûÊé•Âú®Ê≤°ÊúâÂÖ∂‰ªñËøêÁÆóÁ¨¶ÁöÑÊÉÖÂÜµ‰∏ãË°®Á§∫Â≠óÁ¨¶‰πãÈó¥ÁöÑÁÆÄÂçïËøûÊé•„ÄÇ</p>
<p>Á§∫‰æãÔºö<code>abc</code> ÂåπÈÖç ‚Äúabc‚Äù„ÄÇ</p>
</li>
<li>
<p><strong>ÁÆ°ÈÅìÔºö</strong> ÁÆ°ÈÅìÁ¨¶Âè∑ <code>|</code> Ë°®Á§∫&quot;Êàñ&quot;ÂÖ≥Á≥ªÔºåÁî®‰∫éÂú®Â§ö‰∏™Ê®°Âºè‰πãÈó¥ÈÄâÊã©‰∏Ä‰∏™„ÄÇ</p>
<p>Á§∫‰æãÔºö<code>cat|dog</code> ÂåπÈÖç ‚Äúcat‚Äù Êàñ ‚Äúdog‚Äù„ÄÇ</p>
</li>
</ul>
<h3 id="Â∏∏Áî®Ê≠£Âàô"><a class="markdownIt-Anchor" href="#Â∏∏Áî®Ê≠£Âàô"></a> Â∏∏Áî®Ê≠£Âàô</h3>
<table>
<thead>
<tr>
<th>target</th>
<th>pattern</th>
</tr>
</thead>
<tbody>
<tr>
<td>Áî®Êà∑Âêç</td>
<td>/^[a-z0-9_-]{3,16}$/</td>
</tr>
<tr>
<td>ÂØÜÁ†Å</td>
<td>/^[a-z0-9_-]{6,18}$/</td>
</tr>
<tr>
<td>ÂØÜÁ†Å2</td>
<td>(?=^.{8,}<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \d at position 7: )(?=.*\Ã≤dÃ≤)(?=.*\W+)(?=.*‚Ä¶'>)(?=.*\d)(?=.*\W+)(?=.*[A-Z])(?=.*[a-z])(?!.*\n).*</span> (Áî±Êï∞Â≠ó/Â§ßÂÜôÂ≠óÊØç/Â∞èÂÜôÂ≠óÊØç/Ê†áÁÇπÁ¨¶Âè∑ÁªÑÊàêÔºåÂõõÁßçÈÉΩÂøÖÊúâÔºå8‰Ωç‰ª•‰∏ä)</td>
</tr>
<tr>
<td>ÂçÅÂÖ≠ËøõÂà∂ÂÄº</td>
<td>/^#?([a-f0-9]{6}|[a-f0-9]{3})$/</td>
</tr>
<tr>
<td>ÁîµÂ≠êÈÇÆÁÆ±</td>
<td>/^([a-z0-9_.-]+)@([\da-z.-]+).([a-z.]{2,6})<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \d at position 11: /   /^[a-z\Ã≤dÃ≤]+(\.[a-z\d]+)*‚Ä¶'>/   /^[a-z\d]+(\.[a-z\d]+)*@([\da-z](-[\da-z])?)+(\.{1,2}[a-z]+)+</span>/Êàñ\w+([-+.]\w+)<em>@\w+([-.]\w+)</em>.\w+([-.]\w+)*</td>
</tr>
<tr>
<td>URL</td>
<td>/^(https?://)?([\da-z.-]+).([a-z.]{2,6})([/\w .-]<em>)</em>/?$/ Êàñ [a-zA-z]+://[^\s]*</td>
</tr>
<tr>
<td>IP Âú∞ÂùÄ</td>
<td>/((2[0-4]\d|25[0-5]|[01]?\d\d?).){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)/ /^(?üò¶?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/ Êàñ ((2[0-4]\d|25[0-5]|[01]?\d\d?).){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)</td>
</tr>
<tr>
<td>HTML Ê†áÁ≠æ</td>
<td>/<sup>&lt;([a-z]+)([</sup>&lt;]+)<em>(?:&gt;(.</em>)&lt;/\1&gt;|\s+/&gt;)$/Êàñ&lt;(.<em>)(.</em>)&gt;.<em>&lt;/\1&gt;|&lt;(.</em>) /&gt;</td>
</tr>
<tr>
<td>Âà†Èô§‰ª£Á†Å\Ê≥®Èáä</td>
<td>(?&lt;!http:|\S)//.*$</td>
</tr>
<tr>
<td>ÂåπÈÖçÂèåÂ≠óËäÇÂ≠óÁ¨¶(ÂåÖÊã¨Ê±âÂ≠óÂú®ÂÜÖ)</td>
<td>[^\x00-\xff]</td>
</tr>
<tr>
<td>Ê±âÂ≠ó(Â≠óÁ¨¶)</td>
<td>[\u4e00-\u9fa5]</td>
</tr>
<tr>
<td>UnicodeÁºñÁ†Å‰∏≠ÁöÑÊ±âÂ≠óËåÉÂõ¥</td>
<td>/^[\u2E80-\u9FFF]+$/</td>
</tr>
<tr>
<td>‰∏≠ÊñáÂèäÂÖ®ËßíÊ†áÁÇπÁ¨¶Âè∑(Â≠óÁ¨¶)</td>
<td>[\u3000-\u301e\ufe10-\ufe19\ufe30-\ufe44\ufe50-\ufe6b\uff01-\uffee]</td>
</tr>
<tr>
<td>Êó•Êúü(Âπ¥-Êúà-Êó•)</td>
<td>(\d{4}|\d{2})-((0?([1-9]))|(1[1|2]))-((0?[1-9])|(<a href="%5B1-9%5D">12</a>)|(3[0|1]))</td>
</tr>
<tr>
<td>Êó•Êúü(Êúà/Êó•/Âπ¥)</td>
<td>((0?[1-9]{1})|(1[1|2]))/(0?[1-9]|([12][1-9])|(3[0|1]))/(\d{4}|\d{2})</td>
</tr>
<tr>
<td>Êó∂Èó¥(Â∞èÊó∂:ÂàÜÈíü, 24Â∞èÊó∂Âà∂)</td>
<td>((1|0?)[0-9]|2[0-3])üò¶[0-5][0-9])</td>
</tr>
<tr>
<td>‰∏≠ÂõΩÂ§ßÈôÜÂõ∫ÂÆöÁîµËØùÂè∑Á†Å</td>
<td>(\d{4}-|\d{3}-)?(\d{8}|\d{7})</td>
</tr>
<tr>
<td>‰∏≠ÂõΩÂ§ßÈôÜÊâãÊú∫Âè∑Á†Å</td>
<td>1\d{10}</td>
</tr>
<tr>
<td>‰∏≠ÂõΩÂ§ßÈôÜÈÇÆÊîøÁºñÁ†Å</td>
<td>[1-9]\d{5}</td>
</tr>
<tr>
<td>‰∏≠ÂõΩÂ§ßÈôÜË∫´‰ªΩËØÅÂè∑(15‰ΩçÊàñ18‰Ωç)</td>
<td>\d{15}(\d\d[0-9xX])?</td>
</tr>
<tr>
<td>ÈùûË¥üÊï¥Êï∞(Ê≠£Êï¥Êï∞ÊàñÈõ∂)</td>
<td>\d+</td>
</tr>
<tr>
<td>Ê≠£Êï¥Êï∞</td>
<td>[0-9]<em>[1-9][0-9]</em></td>
</tr>
<tr>
<td>Ë¥üÊï¥Êï∞</td>
<td>-[0-9]<em>[1-9][0-9]</em></td>
</tr>
<tr>
<td>Êï¥Êï∞</td>
<td>-?\d+</td>
</tr>
<tr>
<td>Â∞èÊï∞</td>
<td>(-?\d+)(.\d+)?</td>
</tr>
<tr>
<td>Á©∫ÁôΩË°å</td>
<td>\n\s*\r ÊàñËÄÖ \n\n(editplus) ÊàñËÄÖ ^[\s\S ]*\n</td>
</tr>
<tr>
<td>QQÂè∑Á†Å</td>
<td>[1-9]\d{4,}</td>
</tr>
<tr>
<td>‰∏çÂåÖÂê´abcÁöÑÂçïËØç</td>
<td>\b((?!abc)\w)+\b</td>
</tr>
<tr>
<td>ÂåπÈÖçÈ¶ñÂ∞æÁ©∫ÁôΩÂ≠óÁ¨¶</td>
<td>^\s*|\s*$</td>
</tr>
<tr>
<td>ÁºñËæëÂ∏∏Áî®</td>
<td>‰ª•‰∏ãÊòØÈíàÂØπÁâπÊÆä‰∏≠ÊñáÁöÑ‰∏Ä‰∫õÊõøÊç¢(editplus)^[0-9].<em>\n <sup>[</sup>Á¨¨].</em>\n <sup>[‰π†È¢ò].*\n</sup>[\s\S ]<em>\n ^[0-9]</em>. ^[\s\S ]<em>\n &lt;p[^&lt;&gt;</em>]&gt;href=‚Äújavascript:if(confirm(‚Äò(.<em>?)‚Äò))window.location=‚Äô(.</em>?)‚Äô‚Äù&lt;span style=&quot;.[<sup>‚Äú]*rgb(255,255,255)‚Äù&gt;.[</sup>&lt;&gt;]<em></span> <DIV class=xs0>[\s\S]</em>?</DIV></td>
</tr>
</tbody>
</table>
<h3 id="reÂ∫ì"><a class="markdownIt-Anchor" href="#reÂ∫ì"></a> <strong>reÂ∫ì</strong></h3>
<p>ÂèÇËÄÉÁΩëÂùÄÔºö<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/565487182">https://zhuanlan.zhihu.com/p/565487182</a></p>
<p>reÊ®°ÂùóÂÆòÊñπÊñáÊ°£:<a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/re.html">https://docs.python.org/zh-cn/3.8/library/re.html</a></p>
<p>Ê≠£ÂàôÁöÑÂåπÈÖçÊ®°Âºè</p>
<blockquote>
<p><strong>flags</strong> : ÂèØÈÄâÔºåË°®Á§∫ÂåπÈÖçÊ®°ÂºèÔºåÊØîÂ¶ÇÂøΩÁï•Â§ßÂ∞èÂÜôÔºåÂ§öË°åÊ®°ÂºèÁ≠âÔºåÂÖ∑‰ΩìÂèÇÊï∞‰∏∫Ôºö</p>
</blockquote>
<ol>
<li>re.I re.IGNORECASEÂøΩÁï•Â§ßÂ∞èÂÜô</li>
<li>re.L re.LOCALEË°®Á§∫ÁâπÊÆäÂ≠óÁ¨¶ÈõÜ w, W, , B, s, S ‰æùËµñ‰∫éÂΩìÂâçÁéØÂ¢É</li>
<li>re.M re.MULTILINEÂ§öË°åÊ®°Âºè</li>
<li>re.S  re.DOTALL Âç≥‰∏∫ . Âπ∂‰∏îÂåÖÊã¨Êç¢Ë°åÁ¨¶Âú®ÂÜÖÁöÑ‰ªªÊÑèÂ≠óÁ¨¶Ôºà. ‰∏çÂåÖÊã¨Êç¢Ë°åÁ¨¶Ôºâ</li>
<li>re.U Ë°®Á§∫ÁâπÊÆäÂ≠óÁ¨¶ÈõÜ w, W, , B, d, D, s, S ‰æùËµñ‰∫é Unicode Â≠óÁ¨¶Â±ûÊÄßÊï∞ÊçÆÂ∫ì</li>
<li>re.X re.VERBOSE‰∏∫‰∫ÜÂ¢ûÂä†ÂèØËØªÊÄßÔºåÂøΩÁï•Á©∫Ê†ºÂíå # ÂêéÈù¢ÁöÑÊ≥®Èáä,ÂèØ‰ª•Âú®Ê≠£ÂàôË°®ËææÂºè‰∏≠Âä†Ê≥®Ëß£</li>
<li>re.A re.ASCII  ËÆ© \w, \W, \b, \B, \d, \D, \s Âíå \S Âè™ÂåπÈÖçASCIIÔºåËÄå‰∏çÊòØUnicode„ÄÇ</li>
</ol>
<h4 id="ÂçïÈ°πÊü•ÊâæÂáΩÊï∞"><a class="markdownIt-Anchor" href="#ÂçïÈ°πÊü•ÊâæÂáΩÊï∞"></a> ÂçïÈ°πÊü•ÊâæÂáΩÊï∞</h4>
<blockquote>
<p>re.search(pattern,string,flags=0) ‰∏â‰∏™ÂáΩÊï∞ÂèÇÊï∞Áõ∏Âêå</p>
<ul>
<li>pattern ÂåπÈÖçËßÑÂàô</li>
<li>string ÂåπÈÖçÂÜÖÂÆπ</li>
<li>flags ÂåπÈÖçÊ®°Âºè</li>
</ul>
</blockquote>
<ul>
<li>re.search: ‰ºöÂåπÈÖçÊï¥‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂπ∂ËøîÂõûÁ¨¨‰∏Ä‰∏™ÊàêÂäüÁöÑÂåπÈÖç„ÄÇÂ¶ÇÊûúÂåπÈÖçÂ§±Ë¥•ÔºåÂàôËøîÂõûNone</li>
<li>re.match:  ÂøÖÈ°ª‰ªéÂ≠óÁ¨¶‰∏≤ÂºÄÂ§¥ÂåπÈÖç</li>
<li>re.fullmatch: Êï¥‰∏™Â≠óÁ¨¶‰∏≤‰∏éÊ≠£ÂàôÂÆåÂÖ®ÂåπÈÖç</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#searchÂÆû‰æã</span>
<span class="token keyword">import</span> re
<span class="token builtin">str</span><span class="token operator">=</span><span class="token string">'ab12cd34ef567'</span>
info<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r'([0-9]&#123;2&#125;)'</span><span class="token punctuation">)</span><span class="token comment">#[0-9]&#123;2&#125;Ë°®Á§∫0-9ÁöÑ‰ªªÊÑèÊï∞Â≠óÂåπÈÖç2Ê¨°Ôºå()‰ª£Ë°®‰Ωú‰∏∫‰∏ÄÁªÑËøîÂõû</span>
result<span class="token operator">=</span>info<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token comment">#('12',)  ÊØèÊ¨°Âè™ËøîÂõû‰∏Ä‰∏™Ôºå‰ΩÜÊòØÂ¶ÇÊûúÁ¨¨‰∫åÊ¨°ËøîÂõûÂ∞±ÊòØ('12','34')</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#matchÂÆû‰æã</span>
<span class="token keyword">import</span> re
<span class="token builtin">str</span><span class="token operator">=</span><span class="token string">'ab12cd34ef567'</span>
info<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r'([a-z]&#123;2&#125;)(\d&#123;2&#125;)'</span><span class="token punctuation">)</span><span class="token comment">#group(0)Ë°®Á§∫a-zÁöÑ‰∏§‰∏™‰ªªÊÑèÂ≠óÁ¨¶Ôºå\d&#123;2&#125;Ë°®Á§∫Êï∞Â≠óÁöÑ‰∏§‰∏™‰ªªÊÑèÂ≠óÁ¨¶</span>
result<span class="token operator">=</span>info<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#ab12</span>
result1<span class="token operator">=</span>info<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#('ab','12')</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#fullmatchÂÆû‰æã-ÊØîmatchÈôêÂà∂Êõ¥‰∏•Ê†º</span>
<span class="token keyword">import</span> re
string<span class="token operator">=</span><span class="token string">"MyTools"</span>
pattern<span class="token operator">=</span><span class="token string">'My'</span>
re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">,</span>string<span class="token punctuation">)</span>
re<span class="token punctuation">.</span>fullmatch<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span>string<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="Â§öÈ°πÊü•ÊâæÂáΩÊï∞"><a class="markdownIt-Anchor" href="#Â§öÈ°πÊü•ÊâæÂáΩÊï∞"></a> <strong>Â§öÈ°πÊü•ÊâæÂáΩÊï∞</strong></h4>
<ul>
<li>findallÔºö ‰ªéÂ≠óÁ¨¶‰∏≤‰ªªÊÑè‰ΩçÁΩÆÊü•ÊâæÔºåËøîÂõû‰∏Ä‰∏™ÂàóË°®</li>
<li>finditerÔºö‰ªéÂ≠óÁ¨¶‰∏≤‰ªªÊÑè‰ΩçÁΩÆÊü•ÊâæÔºåËøîÂõû‰∏Ä‰∏™Ëø≠‰ª£Âô®</li>
</ul>
<blockquote>
<p>Â¶ÇÊûúÂèØËÉΩÂ≠òÂú®Â§ßÈáèÁöÑÂåπÈÖçÈ°πÁöÑËØùÔºåÂª∫ËÆÆ‰ΩøÁî®finditerÂáΩÊï∞Ôºå‰∏ÄËà¨ÊÉÖÂÜµ‰ΩøÁî®findallÂáΩÊï∞Âü∫Êú¨Ê≤°Âï•ÂΩ±Âìç„ÄÇÂàóË°®ÊòØ‰∏ÄÊ¨°ÊÄßÁîüÊàêÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËÄåËø≠‰ª£Âô®ÊòØÈúÄË¶Å‰ΩøÁî®Êó∂‰∏ÄÁÇπ‰∏ÄÁÇπÁîüÊàêÂá∫Êù•ÁöÑÔºåÂÜÖÂ≠ò‰ΩøÁî®Êõ¥‰ºò„ÄÇ</p>
</blockquote>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#findallÂÆû‰æã</span>
s<span class="token operator">=</span><span class="token string">'MyToolsMyCompueter'</span>
m<span class="token operator">=</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token comment">#['M','M']</span>
<span class="token comment">#finditerÂÆû‰æã</span>
it<span class="token operator">=</span>re<span class="token punctuation">.</span>finditer<span class="token punctuation">(</span><span class="token string">r"\d+"</span><span class="token punctuation">,</span><span class="token string">"12a32bc43jf3"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token keyword">match</span> <span class="token keyword">in</span> it<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token keyword">match</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#12 32 43 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="ÂàÜÂâ≤ÂáΩÊï∞"><a class="markdownIt-Anchor" href="#ÂàÜÂâ≤ÂáΩÊï∞"></a> <strong>ÂàÜÂâ≤ÂáΩÊï∞</strong></h4>
<blockquote>
<p>re.split(pattern, string, maxsplit=0, flags=0)</p>
<ul>
<li>pattern ÂàÜÂâ≤stringÁöÑÊ≠£ÂàôÂåπÈÖçËßÑÂàô</li>
<li>maxsplit ÊúÄÂ§öÂàÜÂâ≤Ê¨°Êï∞</li>
<li>string ÁõÆÊ†áÂ≠óÁ¨¶‰∏≤</li>
<li>flags ÂåπÈÖçÊ®°Âºè</li>
</ul>
</blockquote>
<p><strong>str.split‰∏ére.splitÁöÑÈÄâÊã©</strong>Ôºöstr.splitÂáΩÊï∞ÂäüËÉΩÁÆÄÂçïÔºå‰∏çÊîØÊåÅÊ≠£ÂàôÂàÜÂâ≤ÔºåËÄåre.splitÊîØÊåÅÊ≠£Âàô„ÄÇ</p>
<p>1000Ê¨°Âæ™ÁéØ‰ª•ÂÜÖstr.splitÂáΩÊï∞Êõ¥Âø´ÔºåËÄåÂæ™ÁéØÊ¨°Êï∞1000Ê¨°‰ª•‰∏äÂêére.splitÂáΩÊï∞ÊòéÊòæÊõ¥Âø´ÔºåËÄå‰∏îÊ¨°Êï∞Ë∂äÂ§öÂ∑ÆË∑ùË∂äÂ§ßÔºÅ</p>
<p>Âú®<strong>‰∏çÈúÄË¶ÅÊ≠£ÂàôÊîØÊåÅ‰∏îÊï∞ÊçÆÈáèÂíåÊï∞Ê¨°‰∏çÂ§öÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®str.splitÂáΩÊï∞Êõ¥ÂêàÈÄÇÔºåÂèç‰πãÂàô‰ΩøÁî®re.splitÂáΩÊï∞</strong>„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#splitÂÆû‰æã</span>
s<span class="token operator">=</span><span class="token string">'abc,abc,defg,dds'</span>
re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'(\W+)'</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token comment">#ÂåπÈÖçÔºåÂàÜÂâ≤</span>
<span class="token comment">#['abc', ',  ', 'abc', ',  ', 'defg', ',  ', 'dds']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="ÊõøÊç¢ÂáΩÊï∞"><a class="markdownIt-Anchor" href="#ÊõøÊç¢ÂáΩÊï∞"></a> <strong>ÊõøÊç¢ÂáΩÊï∞</strong></h4>
<blockquote>
<p>re.sub(pattern, repl, string, count=0, flags=0)</p>
<ul>
<li>pattern ÂåπÈÖçË°®ËææÂºè</li>
<li>repl Áî®‰∫éÊõøÊç¢ÊéâstringË¢´patternÂåπÈÖçÁöÑÂ≠óÁ¨¶</li>
<li>count Ë°®Á§∫ÊõøÊç¢Ê¨°Êï∞</li>
<li>flags ÂåπÈÖçËßÑÂàô</li>
</ul>
<p>re.subn:ÂèÇÊï∞Áõ∏Âêå‰ΩÜÊòØËøîÂõûÁöÑ‰∏Ä‰∏™ÂÖÉÁªÑ(ÊõøÊç¢ÂêéÁöÑÂ≠óÁ¨¶‰∏≤,ÊõøÊç¢Ê¨°Êï∞)</p>
</blockquote>
<p>ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºösubÂáΩÊï∞‰∏≠ÁöÑÂÖ•ÂèÇÔºöreplÊõøÊç¢ÂÜÖÂÆπÊó¢ÂèØ‰ª•ÊòØÂ≠óÁ¨¶‰∏≤Ôºå‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÂáΩÊï∞Âì¶ÔºÅ Â¶ÇÊûúrepl‰∏∫ÂáΩÊï∞Êó∂ÔºåÂè™ËÉΩÊúâ‰∏Ä‰∏™ÂÖ•ÂèÇÔºöMatchÂåπÈÖçÂØπË±°„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#subÂÆû‰æã targetÔºöÂ∞ÜÂåπÈÖçÂà∞ÁªìÊûú‰∏≠Â∞è‰∫é4ÁöÑÊõøÊç¢Êàê8ÔºåÂ§ß‰∫é4ÁöÑÊõøÊç¢Êàê9</span>
<span class="token keyword">import</span> re
<span class="token keyword">def</span> <span class="token function">modify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    matched<span class="token operator">=</span>value<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">int</span><span class="token punctuation">(</span>matched<span class="token punctuation">)</span> <span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'8'</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'9'</span>
<span class="token builtin">str</span><span class="token operator">=</span><span class="token string">'ab12cd34ef567'</span>
result<span class="token operator">=</span>re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">'\d'</span><span class="token punctuation">,</span>modify<span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">)</span>
<span class="token comment">#ab88cd88ef999</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#subnÂÆû‰æã</span>
<span class="token keyword">import</span> re
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>subn<span class="token punctuation">(</span><span class="token string">'ov'</span><span class="token punctuation">,</span> <span class="token string">'~*'</span> <span class="token punctuation">,</span> <span class="token string">'movie tickets booking in online'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#('m~*ie tickets booking in online', 1)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>ÁºñËØëÂáΩÊï∞</strong></p>
<blockquote>
<p>compileÂáΩÊï∞</p>
<p>compileÂáΩÊï∞Â∞ÜÊ≠£ÂàôË°®ËææÂºèÁöÑÊ†∑ÂºèÁºñËØë‰∏∫‰∏Ä‰∏™Ê≠£ÂàôË°®ËææÂºèÂØπË±°ÔºàPatternÔºâÔºå‰∏î‰∏éreÊ®°ÂùóÁõ∏ÂêåÁöÑÂáΩÊï∞„ÄÇ</p>
</blockquote>
<p><strong>Áî®reÊ®°ÂùóËøòÊòØÊ≠£ÂàôÂØπË±°PatternÁöÑÈÄâÊã©Ôºö</strong></p>
<p>ÂÆòÊñπÊñáÊ°£Êé®ËçêÔºöÂú®Â§öÊ¨°‰ΩøÁî®Êüê‰∏™Ê≠£ÂàôË°®ËææÂºèÊó∂Êé®Ëçê‰ΩøÁî®Ê≠£ÂàôÂØπË±°Pattern ‰ª•Â¢ûÂä†Â§çÁî®ÊÄßÔºåÂõ†‰∏∫ÈÄöËøá re.compile(pattern) ÁºñËØëÂêéÁöÑÊ®°ÂùóÁ∫ßÂáΩÊï∞‰ºöË¢´ÁºìÂ≠òÔºÅ</p>
<blockquote>
<p>re.escape(pattern) ÂèØ‰ª•ËΩ¨‰πâÊ≠£ÂàôË°®ËææÂºè‰∏≠ÂÖ∑ÊúâÁâπÊÆäÂê´‰πâÁöÑÂ≠óÁ¨¶ÔºåÊØîÂ¶ÇÔºö. ÊàñËÄÖ *</p>
<p>re.purge()‰∏çÂ∏∏Áî®ÔºåÊ∏ÖÊ•öÊ≠£ÂàôÁºìÂ≠ò</p>
</blockquote>
<h2 id="css-selector"><a class="markdownIt-Anchor" href="#css-selector"></a> css-selector</h2>
<h3 id="Âü∫Êú¨ÈÄâÊã©Âô®"><a class="markdownIt-Anchor" href="#Âü∫Êú¨ÈÄâÊã©Âô®"></a> <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Selectors#%E5%9F%BA%E6%9C%AC%E9%80%89%E6%8B%A9%E5%99%A8">Âü∫Êú¨ÈÄâÊã©Âô®</a></h3>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Universal_selectors">ÈÄöÁî®ÈÄâÊã©Âô®</a></p>
<p>‚Äã    ÈÄâÊã©ÊâÄÊúâÂÖÉÁ¥†„ÄÇÔºàÂèØÈÄâÔºâÂèØ‰ª•Â∞ÜÂÖ∂ÈôêÂà∂‰∏∫ÁâπÂÆöÁöÑÂêçÁß∞Á©∫Èó¥ÊàñÊâÄÊúâÂêçÁß∞Á©∫Èó¥„ÄÇ    <strong>ËØ≠Ê≥ïÔºö</strong><code>*</code> <code>ns|*</code> <code>*|*</code>    <strong>‰æãÂ≠êÔºö</strong><code>*</code> Â∞ÜÂåπÈÖçÊñáÊ°£ÁöÑÊâÄÊúâÂÖÉÁ¥†„ÄÇ</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Type_selectors">ÂÖÉÁ¥†ÈÄâÊã©Âô®</a></p>
<p>‚Äã    ÊåâÁÖßÁªôÂÆöÁöÑËäÇÁÇπÂêçÁß∞ÔºåÈÄâÊã©ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇ    <strong>ËØ≠Ê≥ïÔºö</strong><code>elementname</code>    <strong>‰æãÂ≠êÔºö</strong><code>input</code> ÂåπÈÖç‰ªª‰Ωï <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/input">``</a> ÂÖÉÁ¥†„ÄÇ</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Class_selectors">Á±ªÈÄâÊã©Âô®</a></p>
<p>‚Äã    ÊåâÁÖßÁªôÂÆöÁöÑ <code>class</code> Â±ûÊÄßÁöÑÂÄºÔºåÈÄâÊã©ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇ    <strong>ËØ≠Ê≥ïÔºö</strong><code>.classname</code>    <strong>‰æãÂ≠êÔºö</strong><code>.index</code> ÂåπÈÖç‰ªª‰Ωï <code>class</code> Â±ûÊÄß‰∏≠Âê´Êúâ ‚Äúindex‚Äù Á±ªÁöÑÂÖÉÁ¥†„ÄÇ</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/ID_selectors">ID ÈÄâÊã©Âô®</a></p>
<p>‚Äã    ÊåâÁÖß <code>id</code> Â±ûÊÄßÈÄâÊã©‰∏Ä‰∏™‰∏é‰πãÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºå‰∏Ä‰∏™ÊñáÊ°£‰∏≠ÔºåÊØè‰∏™ ID Â±ûÊÄßÈÉΩÂ∫îÂΩìÊòØÂîØ‰∏ÄÁöÑ„ÄÇ    <strong>ËØ≠Ê≥ïÔºö</strong><code>#idname</code>    <strong>‰æãÂ≠êÔºö</strong><code>#toc</code> ÂåπÈÖç ID ‰∏∫ ‚Äútoc‚Äù ÁöÑÂÖÉÁ¥†„ÄÇ</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Attribute_selectors">Â±ûÊÄßÈÄâÊã©Âô®</a></p>
<p>‚Äã    ÊåâÁÖßÁªôÂÆöÁöÑÂ±ûÊÄßÔºåÈÄâÊã©ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇ    <strong>ËØ≠Ê≥ïÔºö</strong><code>[attr]</code> <code>[attr=value]</code> <code>[attr~=value]</code> <code>[attr|=value]</code> <code>[attr^=value]</code> <code>[attr$=value]</code> <code>[attr*=value]</code>    <strong>‰æãÂ≠êÔºö</strong><code>[autoplay]</code> ÈÄâÊã©ÊâÄÊúâÂÖ∑Êúâ <code>autoplay</code> Â±ûÊÄßÁöÑÂÖÉÁ¥†Ôºà‰∏çËÆ∫Ëøô‰∏™Â±ûÊÄßÁöÑÂÄºÊòØ‰ªÄ‰πàÔºâ„ÄÇ</p>
</li>
</ul>
<h3 id="ÂàÜÁªÑÈÄâÊã©Âô®grouping-selector"><a class="markdownIt-Anchor" href="#ÂàÜÁªÑÈÄâÊã©Âô®grouping-selector"></a> <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Selectors#%E5%88%86%E7%BB%84%E9%80%89%E6%8B%A9%E5%99%A8%EF%BC%88grouping_selector%EF%BC%89">ÂàÜÁªÑÈÄâÊã©Âô®ÔºàGrouping selectorÔºâ</a></h3>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Selector_list">ÈÄâÊã©Âô®ÂàóË°®</a></p>
<p>‚Äã    <code>,</code> ÊòØÂ∞Ü‰∏çÂêåÁöÑÈÄâÊã©Âô®ÁªÑÂêàÂú®‰∏ÄËµ∑ÁöÑÊñπÊ≥ïÔºåÂÆÉÈÄâÊã©ÊâÄÊúâËÉΩË¢´ÂàóË°®‰∏≠ÁöÑ‰ªªÊÑè‰∏Ä‰∏™ÈÄâÊã©Âô®ÈÄâ‰∏≠ÁöÑËäÇÁÇπ„ÄÇ    <strong>ËØ≠Ê≥ïÔºö</strong><code>A, B</code>    <strong>Á§∫‰æãÔºö</strong><code>div, span</code> ‰ºöÂêåÊó∂ÂåπÈÖç <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/div"><code>](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/span) ÂÖÉÁ¥†Âíå [</code></a> ÂÖÉÁ¥†„ÄÇ</p>
</li>
</ul>
<h3 id="ÁªÑÂêàÂô®combinator"><a class="markdownIt-Anchor" href="#ÁªÑÂêàÂô®combinator"></a> <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Selectors#%E7%BB%84%E5%90%88%E5%99%A8%EF%BC%88combinator%EF%BC%89">ÁªÑÂêàÂô®ÔºàCombinatorÔºâ</a></h3>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Descendant_combinator">Âêé‰ª£ÁªÑÂêàÂô®</a></p>
<p>‚Äã    ‚Äú ‚ÄùÔºàÁ©∫Ê†ºÔºâÁªÑÂêàÂô®ÈÄâÊã©Ââç‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÂêé‰ª£ËäÇÁÇπ„ÄÇ    <strong>ËØ≠Ê≥ïÔºö</strong><code>A B</code>    <strong>‰æãÂ≠êÔºö</strong><code>div span</code> ÂåπÈÖçÊâÄÊúâ‰Ωç‰∫é‰ªªÊÑè <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/span"><code>](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/div) ÂÖÉÁ¥†‰πãÂÜÖÁöÑ [</code></a> ÂÖÉÁ¥†„ÄÇ</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Child_combinator">Áõ¥Êé•Â≠ê‰ª£ÁªÑÂêàÂô®</a></p>
<p>‚Äã    <code>&gt;</code> ÁªÑÂêàÂô®ÈÄâÊã©Ââç‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÁõ¥Êé•Â≠ê‰ª£ÁöÑËäÇÁÇπ„ÄÇ    <strong>ËØ≠Ê≥ïÔºö</strong><code>A &gt; B</code>    <strong>‰æãÂ≠êÔºö</strong><code>ul &gt; li</code> ÂåπÈÖçÁõ¥Êé•ÂµåÂ•óÂú® <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/li"><code>](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/ul) ÂÖÉÁ¥†ÂÜÖÁöÑÊâÄÊúâ [</code></a> ÂÖÉÁ¥†„ÄÇ</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Subsequent-sibling_combinator">‰∏ÄËà¨ÂÖÑÂºüÁªÑÂêàÂô®</a></p>
<p>‚Äã    <code>~</code> ÁªÑÂêàÂô®ÈÄâÊã©ÂÖÑÂºüÂÖÉÁ¥†Ôºå‰πüÂ∞±ÊòØËØ¥ÔºåÂêé‰∏Ä‰∏™ËäÇÁÇπÂú®Ââç‰∏Ä‰∏™ËäÇÁÇπÂêéÈù¢ÁöÑ‰ªªÊÑè‰ΩçÁΩÆÔºåÂπ∂‰∏îÂÖ±‰∫´Âêå‰∏Ä‰∏™Áà∂ËäÇÁÇπ„ÄÇ    <strong>ËØ≠Ê≥ïÔºö</strong><code>A ~ B</code>    <strong>‰æãÂ≠êÔºö</strong><code>p ~ span</code> ÂåπÈÖçÂêå‰∏ÄÁà∂ÂÖÉÁ¥†‰∏ãÔºå<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/span"><code>](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/p) ÂÖÉÁ¥†ÂêéÁöÑÊâÄÊúâ [</code></a> ÂÖÉÁ¥†„ÄÇ</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Next-sibling_combinator">Á¥ßÈÇªÂÖÑÂºüÁªÑÂêàÂô®</a></p>
<p>‚Äã    <code>+</code> ÁªÑÂêàÂô®ÈÄâÊã©Áõ∏ÈÇªÂÖÉÁ¥†ÔºåÂç≥Âêé‰∏Ä‰∏™ÂÖÉÁ¥†Á¥ßË∑üÂú®Ââç‰∏Ä‰∏™‰πãÂêéÔºåÂπ∂‰∏îÂÖ±‰∫´Âêå‰∏Ä‰∏™Áà∂ËäÇÁÇπ„ÄÇ    <strong>ËØ≠Ê≥ïÔºö</strong><code>A + B</code>    <strong>‰æãÂ≠êÔºö</strong><code>h2 + p</code> ‰ºöÂåπÈÖç<em>Á¥ß</em>ÈÇªÂú® <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/Heading_Elements">h2</a> ÂÖÉÁ¥†ÂêéÁöÑÁ¨¨‰∏Ä‰∏™ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/p">``</a> ÂÖÉÁ¥†„ÄÇ</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Column_combinator">ÂàóÁªÑÂêàÂô®</a>     ÂÆûÈ™åÊÄß</p>
<p>‚Äã    <code>||</code> ÁªÑÂêàÂô®ÈÄâÊã©Â±û‰∫éÊüê‰∏™Ë°®Ê†ºË°åÁöÑËäÇÁÇπ„ÄÇ    <strong>ËØ≠Ê≥ïÔºö</strong><code>A || B</code>    <strong>‰æãÂ≠êÔºö</strong><code>col || td</code> ‰ºöÂåπÈÖçÊâÄÊúâ  ‰ΩúÁî®ÂüüÂÜÖÁöÑ ` (en-US)](<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td</a>) ÂÖÉÁ¥†„ÄÇ</p>
</li>
</ul>
<h3 id="‰º™ÈÄâÊã©Âô®pseudo"><a class="markdownIt-Anchor" href="#‰º™ÈÄâÊã©Âô®pseudo"></a> <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Selectors#%E4%BC%AA%E9%80%89%E6%8B%A9%E5%99%A8%EF%BC%88pseudo%EF%BC%89">‰º™ÈÄâÊã©Âô®ÔºàPseudoÔºâ</a></h3>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Pseudo-classes">‰º™Á±ª</a></p>
<p>‚Äã    <code>:</code> ‰º™ÈÄâÊã©Âô®ÊîØÊåÅÊåâÁÖßÊú™Ë¢´ÂåÖÂê´Âú®ÊñáÊ°£Ê†ë‰∏≠ÁöÑÁä∂ÊÄÅ‰ø°ÊÅØÊù•ÈÄâÊã©ÂÖÉÁ¥†„ÄÇ    <strong>‰æãÂ≠êÔºö</strong><code>a:visited</code> ÂåπÈÖçÊâÄÊúâÊõæË¢´ËÆøÈóÆËøáÁöÑ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a">``</a> ÂÖÉÁ¥†„ÄÇ</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Pseudo-elements">‰º™ÂÖÉÁ¥†</a></p>
<h4 id="‰º™ÈÄâÊã©Âô®Áî®‰∫éË°®Á§∫Êó†Ê≥ïÁî®-html-ËØ≠‰πâË°®ËææÁöÑÂÆû‰Ωì-‰æãÂ≠êpfirst-line-ÂåπÈÖçÊâÄÊúâ-ÂÖÉÁ¥†ÁöÑÁ¨¨‰∏ÄË°å"><a class="markdownIt-Anchor" href="#‰º™ÈÄâÊã©Âô®Áî®‰∫éË°®Á§∫Êó†Ê≥ïÁî®-html-ËØ≠‰πâË°®ËææÁöÑÂÆû‰Ωì-‰æãÂ≠êpfirst-line-ÂåπÈÖçÊâÄÊúâ-ÂÖÉÁ¥†ÁöÑÁ¨¨‰∏ÄË°å"></a> <code>::</code> ‰º™ÈÄâÊã©Âô®Áî®‰∫éË°®Á§∫Êó†Ê≥ïÁî® HTML ËØ≠‰πâË°®ËææÁöÑÂÆû‰Ωì„ÄÇ    <strong>‰æãÂ≠êÔºö</strong><code>p::first-line</code> ÂåπÈÖçÊâÄÊúâ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/p">``</a> ÂÖÉÁ¥†ÁöÑÁ¨¨‰∏ÄË°å„ÄÇ</h4>
</li>
</ul>
<h2 id="httpx"><a class="markdownIt-Anchor" href="#httpx"></a> <strong>httpx</strong></h2>
<p>httpxÈíàÂØπ‰∫éÁà¨Âèñhttp2.0ÂçèËÆÆÁöÑÁΩëÁ´ô</p>
<p>httpxÂÆòÊñπÊñáÊ°£Ôºö<a target="_blank" rel="noopener" href="https://www.python-httpx.org/quickstart">https://www.python-httpx.org/quickstart</a></p>
<blockquote>
<p>httpx Âíå requests ÁöÑAPI ÊûÅÂÖ∂Áõ∏‰ºº</p>
</blockquote>
<h3 id="Âü∫Êú¨Áî®Ê≥ï"><a class="markdownIt-Anchor" href="#Âü∫Êú¨Áî®Ê≥ï"></a> <strong>Âü∫Êú¨Áî®Ê≥ï</strong></h3>
<ul>
<li>GET</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> httpx   
response<span class="token operator">=</span>httpx<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://spa16.scrape.center'</span><span class="token punctuation">)</span>
response<span class="token punctuation">.</span>status_code<span class="token comment">#Áä∂ÊÄÅÁ†Å</span>
response<span class="token punctuation">.</span>headers<span class="token comment">#ÂìçÂ∫îÂ§¥  ËøîÂõû‰∏Ä‰∏™HeadersÂØπË±°ÔºåÁ±ª‰ºº‰∫é‰∏Ä‰∏™Â≠óÂÖ∏</span>
response<span class="token punctuation">.</span>text <span class="token comment">#Ê≠£ÊñáÂÜÖÂÆπ </span>
<span class="token comment">#Êõ¥Êç¢UserAgent</span>
headers<span class="token operator">=</span><span class="token punctuation">&#123;</span>
    <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:123.0) Gecko/20100101 Firefox/123.0'</span>
<span class="token punctuation">&#125;</span>
response<span class="token operator">=</span>httpx<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>
<p>ÂÖ∂‰ªñÊñπÊ≥ï:httpx.get/post/put/delete/patch</p>
</li>
<li>
<p>ResponseÂØπË±°ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ï</p>
<ul>
<li>status_code Áä∂ÊÄÅÁ†Å</li>
<li>text ÂìçÂ∫î‰ΩìÁöÑÊñáÊú¨ÂÜÖÂÆπ</li>
<li>content ÂìçÂ∫î‰ΩìÁöÑ‰∫åËøõÂà∂ÂÜÖÂÆπ</li>
<li>headers ÂìçÂ∫îÂ§¥</li>
<li>json ÊñπÊ≥ïÔºåÂ∞ÜÊñáÊú¨ÁªìÊûúËΩ¨Âåñ‰∏∫jsonÂØπË±°</li>
</ul>
</li>
</ul>
<h3 id="clientÂØπË±°"><a class="markdownIt-Anchor" href="#clientÂØπË±°"></a> <strong>ClientÂØπË±°</strong></h3>
<blockquote>
<p>ÂèØ‰ª•‰∏érequests‰∏≠ÁöÑSessionÂØπË±°Á±ªÊØîÂ≠¶‰π†</p>
<p>clientÁöÑÊõ¥Â§öÈ´òÁ∫ßÁî®Ê≥ï:<a target="_blank" rel="noopener" href="https://www.python-httpx.org/advanced">https://www.python-httpx.org/advanced</a></p>
</blockquote>
<ul>
<li>‰ΩøÁî®ÊñπÂºè:ÊØîËæÉÊé®ËçêÁöÑ‰ΩøÁî®ÊñπÂºè:with as</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> httpx
<span class="token keyword">with</span> httpx<span class="token punctuation">.</span>client<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> client<span class="token punctuation">:</span>
    response<span class="token operator">=</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.httpbin.org/get'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>Á≠â‰ª∑‰∫é</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> httpx
client<span class="token operator">=</span>httpx<span class="token punctuation">.</span>Client<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    response<span class="token operator">=</span>clinet<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.httpbin.org/get'</span><span class="token punctuation">)</span>
<span class="token keyword">finally</span><span class="token punctuation">:</span>
    client<span class="token punctuation">(</span>close<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>
<p>Â°´ÂÖ•ÂèÇÊï∞ header=?</p>
</li>
<li>
<p>Êñ∞ÂèÇÊï∞http_version Ëã•http2=True ÂàôÊîØÊåÅhttp2  ÈªòËÆ§ÊòØÂÖ≥Èó≠ÁöÑ‰∏çÊîØÊåÅhttp2</p>
</li>
<li>
<p>ÊîØÊåÅÂºÇÊ≠•ÂÆ¢Êà∑Á´ØËØ∑Ê±Ç</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> httpx
<span class="token keyword">import</span> asyncio <span class="token comment">#‰∏Ä‰∏™ÂºÇÊ≠•Áà¨Ëô´Ê°ÜÊû∂</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">async</span> <span class="token keyword">with</span> httpx<span class="token punctuation">.</span>AsyncClient<span class="token punctuation">(</span>http2<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> <span class="token keyword">as</span> client<span class="token punctuation">:</span>
        response<span class="token operator">=</span><span class="token keyword">await</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
asyncio<span class="token punctuation">.</span>get_event_loop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>run_until_complete<span class="token punctuation">(</span>fetch<span class="token punctuation">(</span><span class="token string">'https://www.httpbin.org/get'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="x-path"><a class="markdownIt-Anchor" href="#x-path"></a> X-Path</h2>
<p>XPathÁöÑÂÖ®Á®ãÊòØXML PATH Language Âç≥xmlË∑ØÂæÑËØ≠Ë®ÄÔºåÁî®‰∫éÂú®xmlÊñáÊ°£‰∏≠ Êü•Êâæ‰ø°ÊÅØÔºå‰ΩÜÊòØÂêåÊ†∑ÈÄÇÁî®‰∫éHTMLÊñáÊ°£ÁöÑÊêúÁ¥¢</p>
<h3 id="xpathËØ≠Ê≥ï"><a class="markdownIt-Anchor" href="#xpathËØ≠Ê≥ï"></a> XpathËØ≠Ê≥ï</h3>
<h4 id="xmlÂÆû‰æã"><a class="markdownIt-Anchor" href="#xmlÂÆû‰æã"></a> xmlÂÆû‰æã</h4>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookstore</span><span class="token punctuation">></span></span>
 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>eng<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Harry Potter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>price</span><span class="token punctuation">></span></span>29.99<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>price</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">></span></span>
 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>eng<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Learning XML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>price</span><span class="token punctuation">></span></span>39.95<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>price</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">></span></span>
 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookstore</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="ÊúØËØ≠"><a class="markdownIt-Anchor" href="#ÊúØËØ≠"></a> ÊúØËØ≠</h4>
<p>Âú® XPath ‰∏≠ÔºåÊúâ‰∏ÉÁßçÁ±ªÂûãÁöÑ<strong>ËäÇÁÇπ</strong>ÔºöÂÖÉÁ¥†„ÄÅÂ±ûÊÄß„ÄÅÊñáÊú¨„ÄÅÂëΩÂêçÁ©∫Èó¥„ÄÅÂ§ÑÁêÜÊåá‰ª§„ÄÅÊ≥®Èáä‰ª•ÂèäÊñáÊ°£ÔºàÊ†πÔºâËäÇÁÇπ„ÄÇXML ÊñáÊ°£ÊòØË¢´‰Ωú‰∏∫ËäÇÁÇπÊ†ëÊù•ÂØπÂæÖÁöÑ„ÄÇÊ†ëÁöÑÊ†πË¢´Áß∞‰∏∫ÊñáÊ°£ËäÇÁÇπÊàñËÄÖÊ†πËäÇÁÇπ„ÄÇ</p>
<p><strong>Âü∫Êú¨ÂÄº</strong>ÊòØÊó†Áà∂ÊàñÊó†Â≠êÁöÑËäÇÁÇπ„ÄÇ</p>
<p><strong>È°πÁõÆ</strong>ÊòØÂü∫Êú¨ÂÄºÊàñËÄÖËäÇÁÇπ</p>
<p>ÊØè‰∏™ÂÖÉÁ¥†‰ª•ÂèäÂ±ûÊÄßÈÉΩÊúâ‰∏Ä‰∏™<strong>Áà∂</strong>„ÄÇ</p>
<p>ÂÖÉÁ¥†ËäÇÁÇπÂèØÊúâÈõ∂‰∏™„ÄÅ‰∏Ä‰∏™ÊàñÂ§ö‰∏™<strong>Â≠ê</strong>„ÄÇ</p>
<p><strong>ÂêåËÉû</strong>ÔºöÊã•ÊúâÁõ∏ÂêåÁöÑÁà∂ÁöÑËäÇÁÇπ</p>
<p><strong>ÂÖàËæà</strong>ÔºöÊüêËäÇÁÇπÁöÑÁà∂„ÄÅÁà∂ÁöÑÁà∂ÔºåÁ≠âÁ≠â</p>
<p><strong>Âêé‰ª£</strong>:    Êüê‰∏™ËäÇÁÇπÁöÑÂ≠êÔºåÂ≠êÁöÑÂ≠ê</p>
<p><strong>ËΩ¥</strong>:ÂèØÂÆö‰πâÁõ∏ÂØπ‰∫éÂΩìÂâçËäÇÁÇπÁöÑËäÇÁÇπÈõÜ„ÄÇ</p>
<table>
<thead>
<tr>
<th>ËΩ¥ÂêçÁß∞</th>
<th>ÁªìÊûú</th>
</tr>
</thead>
<tbody>
<tr>
<td>ancestor</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπÁöÑÊâÄÊúâÂÖàËæàÔºàÁà∂„ÄÅÁ•ñÁà∂Á≠âÔºâ„ÄÇ</td>
</tr>
<tr>
<td>ancestor-or-self</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπÁöÑÊâÄÊúâÂÖàËæàÔºàÁà∂„ÄÅÁ•ñÁà∂Á≠âÔºâ‰ª•ÂèäÂΩìÂâçËäÇÁÇπÊú¨Ë∫´„ÄÇ</td>
</tr>
<tr>
<td>attribute</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπÁöÑÊâÄÊúâÂ±ûÊÄß„ÄÇ</td>
</tr>
<tr>
<td>child</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπÁöÑÊâÄÊúâÂ≠êÂÖÉÁ¥†„ÄÇ</td>
</tr>
<tr>
<td>descendant</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπÁöÑÊâÄÊúâÂêé‰ª£ÂÖÉÁ¥†ÔºàÂ≠ê„ÄÅÂ≠ôÁ≠âÔºâ„ÄÇ</td>
</tr>
<tr>
<td>descendant-or-self</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπÁöÑÊâÄÊúâÂêé‰ª£ÂÖÉÁ¥†ÔºàÂ≠ê„ÄÅÂ≠ôÁ≠âÔºâ‰ª•ÂèäÂΩìÂâçËäÇÁÇπÊú¨Ë∫´„ÄÇ</td>
</tr>
<tr>
<td>following</td>
<td>ÈÄâÂèñÊñáÊ°£‰∏≠ÂΩìÂâçËäÇÁÇπÁöÑÁªìÊùüÊ†áÁ≠æ‰πãÂêéÁöÑÊâÄÊúâËäÇÁÇπ„ÄÇ</td>
</tr>
<tr>
<td>following-sibling</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπ‰πãÂêéÁöÑÊâÄÊúâÂÖÑÂºüËäÇÁÇπ</td>
</tr>
<tr>
<td>namespace</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπÁöÑÊâÄÊúâÂëΩÂêçÁ©∫Èó¥ËäÇÁÇπ„ÄÇ</td>
</tr>
<tr>
<td>parent</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ„ÄÇ</td>
</tr>
<tr>
<td>preceding</td>
<td>ÈÄâÂèñÊñáÊ°£‰∏≠ÂΩìÂâçËäÇÁÇπÁöÑÂºÄÂßãÊ†áÁ≠æ‰πãÂâçÁöÑÊâÄÊúâËäÇÁÇπ„ÄÇ</td>
</tr>
<tr>
<td>preceding-sibling</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπ‰πãÂâçÁöÑÊâÄÊúâÂêåÁ∫ßËäÇÁÇπ„ÄÇ</td>
</tr>
<tr>
<td>self</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπ„ÄÇ</td>
</tr>
</tbody>
</table>
<h4 id="ÈÄâÂèñËäÇÁÇπ"><a class="markdownIt-Anchor" href="#ÈÄâÂèñËäÇÁÇπ"></a> ÈÄâÂèñËäÇÁÇπ</h4>
<table>
<thead>
<tr>
<th>Ë°®ËææÂºè</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>nodename</td>
<td>ËØªÂèñÊ≠§ËäÇÁÇπÁöÑÊâÄÊúâÂ≠êËäÇÁÇπ</td>
</tr>
<tr>
<td>/</td>
<td>‰ªéÂΩìÂâçËäÇÁÇπÈÄâÂèñÁõ¥Êé•Â≠êËäÇÁÇπ</td>
</tr>
<tr>
<td>//</td>
<td>‰ªéÂΩìÂâçËäÇÁÇπÈÄâÂèñÂ≠êÂ≠ôËäÇÁÇπ</td>
</tr>
<tr>
<td>.</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπ</td>
</tr>
<tr>
<td>‚Ä¶</td>
<td>ÈÄâÂèñÂΩìÂâçËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ</td>
</tr>
<tr>
<td>@</td>
<td>ÈÄâÂèñÂ±ûÊÄß</td>
</tr>
</tbody>
</table>
<p>eg://title[@lang=‚Äòeng‚Äô] Ë°®Á§∫ ÊâÄÊúâÂêçÁß∞‰∏∫titleÔºåÂêåÊó∂Â±ûÊÄßlangÁöÑÂÄº‰∏∫engÁöÑËäÇÁÇπ</p>
<table>
<thead>
<tr>
<th>Ë∑ØÂæÑË°®ËææÂºè</th>
<th>ÁªìÊûú</th>
</tr>
</thead>
<tbody>
<tr>
<td>bookstore</td>
<td>ÈÄâÂèñ bookstore ÂÖÉÁ¥†ÁöÑÊâÄÊúâÂ≠êËäÇÁÇπ„ÄÇ</td>
</tr>
<tr>
<td>/bookstore</td>
<td>ÈÄâÂèñÊ†πÂÖÉÁ¥† bookstore„ÄÇ Ê≥®ÈáäÔºöÂÅáÂ¶ÇË∑ØÂæÑËµ∑Âßã‰∫éÊ≠£ÊñúÊù†( / )ÔºåÂàôÊ≠§Ë∑ØÂæÑÂßãÁªà‰ª£Ë°®Âà∞ÊüêÂÖÉÁ¥†ÁöÑÁªùÂØπË∑ØÂæÑÔºÅ</td>
</tr>
<tr>
<td>bookstore/book</td>
<td>ÈÄâÂèñÂ±û‰∫é bookstore ÁöÑÂ≠êÂÖÉÁ¥†ÁöÑÊâÄÊúâ book ÂÖÉÁ¥†„ÄÇ</td>
</tr>
<tr>
<td>//book</td>
<td>ÈÄâÂèñÊâÄÊúâ book Â≠êÂÖÉÁ¥†ÔºåËÄå‰∏çÁÆ°ÂÆÉ‰ª¨Âú®ÊñáÊ°£‰∏≠ÁöÑ‰ΩçÁΩÆ„ÄÇ</td>
</tr>
<tr>
<td>bookstore//book</td>
<td>ÈÄâÊã©Â±û‰∫é bookstore ÂÖÉÁ¥†ÁöÑÂêé‰ª£ÁöÑÊâÄÊúâ book ÂÖÉÁ¥†ÔºåËÄå‰∏çÁÆ°ÂÆÉ‰ª¨‰Ωç‰∫é bookstore ‰πã‰∏ãÁöÑ‰ªÄ‰πà‰ΩçÁΩÆ„ÄÇ</td>
</tr>
<tr>
<td>//@lang</td>
<td>ÈÄâÂèñÂêç‰∏∫ lang ÁöÑÊâÄÊúâÂ±ûÊÄß„ÄÇ</td>
</tr>
</tbody>
</table>
<h4 id="Ë∞ìËØ≠predicates"><a class="markdownIt-Anchor" href="#Ë∞ìËØ≠predicates"></a> Ë∞ìËØ≠ÔºàPredicatesÔºâ</h4>
<p>Ë∞ìËØ≠Áî®Êù•Êü•ÊâæÊüê‰∏™ÁâπÂÆöÁöÑËäÇÁÇπÊàñËÄÖÂåÖÂê´Êüê‰∏™ÊåáÂÆöÁöÑÂÄºÁöÑËäÇÁÇπ„ÄÇ</p>
<p>Ë∞ìËØ≠Ë¢´ÂµåÂú®ÊñπÊã¨Âè∑‰∏≠„ÄÇ</p>
<p>Âú®‰∏ãÈù¢ÁöÑË°®Ê†º‰∏≠ÔºåÊàë‰ª¨ÂàóÂá∫‰∫ÜÂ∏¶ÊúâË∞ìËØ≠ÁöÑ‰∏Ä‰∫õË∑ØÂæÑË°®ËææÂºèÔºå‰ª•ÂèäË°®ËææÂºèÁöÑÁªìÊûúÔºö</p>
<table>
<thead>
<tr>
<th>Ë∑ØÂæÑË°®ËææÂºè</th>
<th>ÁªìÊûú</th>
</tr>
</thead>
<tbody>
<tr>
<td>/bookstore/book[1]</td>
<td>ÈÄâÂèñÂ±û‰∫é bookstore Â≠êÂÖÉÁ¥†ÁöÑÁ¨¨‰∏Ä‰∏™ book ÂÖÉÁ¥†„ÄÇ</td>
</tr>
<tr>
<td>/bookstore/book[last()]</td>
<td>ÈÄâÂèñÂ±û‰∫é bookstore Â≠êÂÖÉÁ¥†ÁöÑÊúÄÂêé‰∏Ä‰∏™ book ÂÖÉÁ¥†„ÄÇ</td>
</tr>
<tr>
<td>/bookstore/book[last()-1]</td>
<td>ÈÄâÂèñÂ±û‰∫é bookstore Â≠êÂÖÉÁ¥†ÁöÑÂÄíÊï∞Á¨¨‰∫å‰∏™ book ÂÖÉÁ¥†„ÄÇ</td>
</tr>
<tr>
<td>/bookstore/book[position()‚ù§Ô∏è]</td>
<td>ÈÄâÂèñÊúÄÂâçÈù¢ÁöÑ‰∏§‰∏™Â±û‰∫é bookstore ÂÖÉÁ¥†ÁöÑÂ≠êÂÖÉÁ¥†ÁöÑ book ÂÖÉÁ¥†„ÄÇ</td>
</tr>
<tr>
<td>//title[@lang]</td>
<td>ÈÄâÂèñÊâÄÊúâÊã•ÊúâÂêç‰∏∫ lang ÁöÑÂ±ûÊÄßÁöÑ title ÂÖÉÁ¥†„ÄÇ</td>
</tr>
<tr>
<td>//title[@lang=‚Äòeng‚Äô]</td>
<td>ÈÄâÂèñÊâÄÊúâ title ÂÖÉÁ¥†Ôºå‰∏îËøô‰∫õÂÖÉÁ¥†Êã•ÊúâÂÄº‰∏∫ eng ÁöÑ lang Â±ûÊÄß„ÄÇ</td>
</tr>
<tr>
<td>/bookstore/book[price&gt;35.00]</td>
<td>ÈÄâÂèñ bookstore ÂÖÉÁ¥†ÁöÑÊâÄÊúâ book ÂÖÉÁ¥†Ôºå‰∏îÂÖ∂‰∏≠ÁöÑ price ÂÖÉÁ¥†ÁöÑÂÄºÈ°ªÂ§ß‰∫é 35.00„ÄÇ</td>
</tr>
<tr>
<td>/bookstore/book[price&gt;35.00]//title</td>
<td>ÈÄâÂèñ bookstore ÂÖÉÁ¥†‰∏≠ÁöÑ book ÂÖÉÁ¥†ÁöÑÊâÄÊúâ title ÂÖÉÁ¥†Ôºå‰∏îÂÖ∂‰∏≠ÁöÑ price ÂÖÉÁ¥†ÁöÑÂÄºÈ°ªÂ§ß‰∫é 35.00„ÄÇ</td>
</tr>
</tbody>
</table>
<h4 id="ÈÄâÂèñÊú™Áü•ËäÇÁÇπ"><a class="markdownIt-Anchor" href="#ÈÄâÂèñÊú™Áü•ËäÇÁÇπ"></a> ÈÄâÂèñÊú™Áü•ËäÇÁÇπ</h4>
<p>XPath ÈÄöÈÖçÁ¨¶ÂèØÁî®Êù•ÈÄâÂèñÊú™Áü•ÁöÑ XML ÂÖÉÁ¥†„ÄÇ</p>
<table>
<thead>
<tr>
<th>ÈÄöÈÖçÁ¨¶</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>ÂåπÈÖç‰ªª‰ΩïÂÖÉÁ¥†ËäÇÁÇπ„ÄÇ</td>
</tr>
<tr>
<td>@*</td>
<td>ÂåπÈÖç‰ªª‰ΩïÂ±ûÊÄßËäÇÁÇπ„ÄÇ</td>
</tr>
<tr>
<td>node()</td>
<td>ÂåπÈÖç‰ªª‰ΩïÁ±ªÂûãÁöÑËäÇÁÇπ„ÄÇ</td>
</tr>
</tbody>
</table>
<p>Âú®‰∏ãÈù¢ÁöÑË°®Ê†º‰∏≠ÔºåÊàë‰ª¨ÂàóÂá∫‰∫Ü‰∏Ä‰∫õË∑ØÂæÑË°®ËææÂºèÔºå‰ª•ÂèäËøô‰∫õË°®ËææÂºèÁöÑÁªìÊûúÔºö</p>
<table>
<thead>
<tr>
<th>Ë∑ØÂæÑË°®ËææÂºè</th>
<th>ÁªìÊûú</th>
</tr>
</thead>
<tbody>
<tr>
<td>/bookstore/*</td>
<td>ÈÄâÂèñ bookstore ÂÖÉÁ¥†ÁöÑÊâÄÊúâÂ≠êÂÖÉÁ¥†„ÄÇ</td>
</tr>
<tr>
<td>//*</td>
<td>ÈÄâÂèñÊñáÊ°£‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†„ÄÇ</td>
</tr>
<tr>
<td>//title[@*]</td>
<td>ÈÄâÂèñÊâÄÊúâÂ∏¶ÊúâÂ±ûÊÄßÁöÑ title ÂÖÉÁ¥†„ÄÇ</td>
</tr>
</tbody>
</table>
<h4 id="ÈÄâÂèñËã•Âπ≤Ë∑ØÂæÑ"><a class="markdownIt-Anchor" href="#ÈÄâÂèñËã•Âπ≤Ë∑ØÂæÑ"></a> ÈÄâÂèñËã•Âπ≤Ë∑ØÂæÑ</h4>
<p>ÈÄöËøáÂú®Ë∑ØÂæÑË°®ËææÂºè‰∏≠‰ΩøÁî®&quot;|&quot;ËøêÁÆóÁ¨¶ÔºåÊÇ®ÂèØ‰ª•ÈÄâÂèñËã•Âπ≤‰∏™Ë∑ØÂæÑ„ÄÇ</p>
<p>Âú®‰∏ãÈù¢ÁöÑË°®Ê†º‰∏≠ÔºåÊàë‰ª¨ÂàóÂá∫‰∫Ü‰∏Ä‰∫õË∑ØÂæÑË°®ËææÂºèÔºå‰ª•ÂèäËøô‰∫õË°®ËææÂºèÁöÑÁªìÊûúÔºö</p>
<table>
<thead>
<tr>
<th>Ë∑ØÂæÑË°®ËææÂºè</th>
<th>ÁªìÊûú</th>
</tr>
</thead>
<tbody>
<tr>
<td>//book/title | //book/price</td>
<td>ÈÄâÂèñ book ÂÖÉÁ¥†ÁöÑÊâÄÊúâ title Âíå price ÂÖÉÁ¥†„ÄÇ</td>
</tr>
<tr>
<td>//title | //price</td>
<td>ÈÄâÂèñÊñáÊ°£‰∏≠ÁöÑÊâÄÊúâ title Âíå price ÂÖÉÁ¥†„ÄÇ</td>
</tr>
<tr>
<td>/bookstore/book/title | //price</td>
<td>ÈÄâÂèñÂ±û‰∫é bookstore ÂÖÉÁ¥†ÁöÑ book ÂÖÉÁ¥†ÁöÑÊâÄÊúâ title ÂÖÉÁ¥†Ôºå‰ª•ÂèäÊñáÊ°£‰∏≠ÊâÄÊúâÁöÑ price ÂÖÉÁ¥†„ÄÇ</td>
</tr>
</tbody>
</table>
<h4 id="ËøêÁÆóÁ¨¶"><a class="markdownIt-Anchor" href="#ËøêÁÆóÁ¨¶"></a> <strong>ËøêÁÆóÁ¨¶</strong></h4>
<table>
<thead>
<tr>
<th>ËøêÁÆóÁ¨¶</th>
<th>ÊèèËø∞</th>
<th>ÂÆû‰æã</th>
<th>ËøîÂõûÂÄº</th>
</tr>
</thead>
<tbody>
<tr>
<td>|</td>
<td>ËÆ°ÁÆó‰∏§‰∏™ËäÇÁÇπÈõÜ</td>
<td>//book | //cd</td>
<td>ËøîÂõûÊâÄÊúâÊã•Êúâ book Âíå cd ÂÖÉÁ¥†ÁöÑËäÇÁÇπÈõÜ</td>
</tr>
<tr>
<td>+</td>
<td>Âä†Ê≥ï</td>
<td>6 + 4</td>
<td>10</td>
</tr>
<tr>
<td>-</td>
<td>ÂáèÊ≥ï</td>
<td>6 - 4</td>
<td>2</td>
</tr>
<tr>
<td>*</td>
<td>‰πòÊ≥ï</td>
<td>6 * 4</td>
<td>24</td>
</tr>
<tr>
<td>div</td>
<td>Èô§Ê≥ï</td>
<td>8 div 4</td>
<td>2</td>
</tr>
<tr>
<td>=</td>
<td>Á≠â‰∫é</td>
<td>price=9.80</td>
<td>Â¶ÇÊûú price ÊòØ 9.80ÔºåÂàôËøîÂõû true„ÄÇ Â¶ÇÊûú price ÊòØ 9.90ÔºåÂàôËøîÂõû false„ÄÇ</td>
</tr>
<tr>
<td>!=</td>
<td>‰∏çÁ≠â‰∫é</td>
<td>price!=9.80</td>
<td>Â¶ÇÊûú price ÊòØ 9.90ÔºåÂàôËøîÂõû true„ÄÇ Â¶ÇÊûú price ÊòØ 9.80ÔºåÂàôËøîÂõû false„ÄÇ</td>
</tr>
<tr>
<td>&lt;</td>
<td>Â∞è‰∫é</td>
<td>price&lt;9.80</td>
<td>Â¶ÇÊûú price ÊòØ 9.00ÔºåÂàôËøîÂõû true„ÄÇ Â¶ÇÊûú price ÊòØ 9.90ÔºåÂàôËøîÂõû false„ÄÇ</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Â∞è‰∫éÊàñÁ≠â‰∫é</td>
<td>price&lt;=9.80</td>
<td>Â¶ÇÊûú price ÊòØ 9.00ÔºåÂàôËøîÂõû true„ÄÇ Â¶ÇÊûú price ÊòØ 9.90ÔºåÂàôËøîÂõû false„ÄÇ</td>
</tr>
<tr>
<td>&gt;</td>
<td>Â§ß‰∫é</td>
<td>price&gt;9.80</td>
<td>Â¶ÇÊûú price ÊòØ 9.90ÔºåÂàôËøîÂõû true„ÄÇ Â¶ÇÊûú price ÊòØ 9.80ÔºåÂàôËøîÂõû false„ÄÇ</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Â§ß‰∫éÊàñÁ≠â‰∫é</td>
<td>price&gt;=9.80</td>
<td>Â¶ÇÊûú price ÊòØ 9.90ÔºåÂàôËøîÂõû true„ÄÇ Â¶ÇÊûú price ÊòØ 9.70ÔºåÂàôËøîÂõû false„ÄÇ</td>
</tr>
<tr>
<td>or</td>
<td>Êàñ</td>
<td>price=9.80 or price=9.70</td>
<td>Â¶ÇÊûú price ÊòØ 9.80ÔºåÂàôËøîÂõû true„ÄÇ Â¶ÇÊûú price ÊòØ 9.50ÔºåÂàôËøîÂõû false„ÄÇ</td>
</tr>
<tr>
<td>and</td>
<td>‰∏é</td>
<td>price&gt;9.00 and price&lt;9.90</td>
<td>Â¶ÇÊûú price ÊòØ 9.80ÔºåÂàôËøîÂõû true„ÄÇ Â¶ÇÊûú price ÊòØ 8.50ÔºåÂàôËøîÂõû false„ÄÇ</td>
</tr>
<tr>
<td>mod</td>
<td>ËÆ°ÁÆóÈô§Ê≥ïÁöÑ‰ΩôÊï∞</td>
<td>5 mod 2</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3 id="lxmlÂ∫ì"><a class="markdownIt-Anchor" href="#lxmlÂ∫ì"></a> lxmlÂ∫ì</h3>
<p>ÂèØ‰ª•ÈÄöËøáxmlÂ∫ìÔºåÂà©Áî®XPathÂØπHTMLËøõË°åËß£Êûê</p>
<p>demo1Ôºö</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> lxml <span class="token keyword">import</span> etree
<span class="token keyword">import</span> requests

text <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'http://quotes.toscrape.com'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text
html <span class="token operator">=</span> etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token comment">#Â£∞ÊòétextÊòØ‰∏ÄÊÆµHTMLÊñáÊú¨ÔºåÁÑ∂ÂêéË∞ÉÁî®HTMLÁ±ªËøõË°åÂàùÂßãÂåñÔºåhtmlÂ∞±ÊûÑÊàê‰∫Ü‰∏Ä‰∏™XPathËß£ÊûêÂØπË±°</span>
<span class="token comment">#Âè¶‰∏ÄÁßç‰∏çÂ£∞ÊòéÂØπË±°ÁöÑhtmlËß£ÊûêÊñπÊ≥ï</span>
html<span class="token operator">=</span>etree<span class="token punctuation">.</span>parse<span class="token punctuation">(</span>text<span class="token punctuation">,</span>etree<span class="token punctuation">.</span>HTMLParse<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
results<span class="token operator">=</span>etree<span class="token punctuation">.</span>tostring<span class="token punctuation">(</span>html<span class="token punctuation">)</span> <span class="token comment">#Ë∞ÉÁî®tostringÁöÑÊñπÊ≥ïÔºåÂèØ‰ª•Ëá™Âä®‰øÆÊ≠£HTMLÊñáÊú¨ÔºåËøîÂõûÁöÑÊòØbytesÁ±ªÂûã</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ÂØπresultsËøõË°åhtmlÁöÑxpathËß£ÊûêÂÆû‰æã</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">result1<span class="token operator">=</span>html<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//*'</span><span class="token punctuation">)</span>
rresult2<span class="token operator">=</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>‰∏Ä‰∫õxpathË°®ËææÂºèÁöÑËß£Êûê</p>
<blockquote>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">//</span>a<span class="token punctuation">[</span>@href<span class="token operator">=</span><span class="token string">"link1.html"</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>@ <span class="token keyword">class</span> <span class="token comment">#È¶ñÂÖàÈÄâ‰∏≠hrefÂ±ûÊÄß‰∏∫link4.htmlÁöÑaËäÇÁÇπÔºåÁÑ∂ÂêéËé∑ÂèñÂÖ∂Áà∂ËäÇÁÇπÔºåÂÜçËé∑ÂèñÁà∂ËäÇÁÇπÁöÑclassÂ±ûÊÄß</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">//</span>li<span class="token punctuation">[</span>@<span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"item-0"</span><span class="token punctuation">]</span><span class="token operator">/</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#ÂÖàÈÄâÂèñliËäÇÁÇπÔºåÁÑ∂ÂêéÂà©Áî®/ÈÄâÂèñÂÖ∂Áõ¥Êé•Â≠êËäÇÁÇπaÔºåÂú®ÈÄâÂèñËäÇÁÇπa ÁöÑÊñáÊú¨</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">></span><span class="token operator">/</span>bookstore<span class="token operator">/</span>book<span class="token punctuation">[</span>price<span class="token operator">></span><span class="token number">35</span><span class="token punctuation">]</span><span class="token operator">/</span>title <span class="token comment">#ÈÄâÂèñ‰ª∑Ê†ºÈ´ò‰∫é35ÁöÑtitleËäÇÁÇπ</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">></span><span class="token operator">//</span>li<span class="token punctuation">[</span>contains<span class="token punctuation">(</span>@<span class="token keyword">class</span><span class="token punctuation">,</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">/</span>a<span class="token operator">/</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#ÁªôÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰º†ÂÖ•Â±ûÊÄßÂêçÁß∞ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰º†ÂÖ•Â±ûÊÄßÂÄº</span>
<span class="token operator">></span>containsÊñπÊ≥ïÁªèÂ∏∏Áî®‰∫éÂú®Êüê‰∏™ËäÇÁÇπÁöÑÊüê‰∏™Â±ûÊÄßÊúâÂ§ö‰∏™ÂÄºÁöÑÊó∂ÂÄôÁî®Âà∞

<span class="token operator">**</span>ËøêÁî®lxmlÂ∫ìÁöÑÂÖ≥ÈîÆÂ∞±ÊòØÁÜüÁªÉÊéåÊè°xpathÈÄâÊã©ËØ≠Ê≥ï<span class="token operator">**</span>

<span class="token comment">## beautifulsoup</span>

https<span class="token punctuation">:</span><span class="token operator">//</span>beautifulsoup<span class="token punctuation">.</span>cn<span class="token operator">/</span>

```python
<span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token comment">#ËøôÊòØbeautifulSoupÁöÑÂü∫Êú¨‰ΩøÁî®</span>
url<span class="token operator">=</span><span class="token string">"http://quotes.toscrape.com/"</span>
html<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>text
soup<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span><span class="token string">'lxml'</span><span class="token punctuation">)</span><span class="token comment">#ÂØπhtmlÊ∫êÁ†ÅÂàùÂßãÂåñ‰∏Ä‰∏™bsÂØπË±°</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>prettify<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#‰ª•Ê†áÂáÜÁº©ËøõÊòæÁ§∫</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token comment">#ÊâìÂç∞titleËäÇÁÇπÁöÑÈÄâÊã©ÁªìÊûú</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>title<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token comment">#ÊâìÂç∞titleËäÇÁÇπÁöÑÊñáÊú¨ÂÜÖÂÆπ</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>soup<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#ËøôÊòØbs4.element.Tag Á±ªÂûã</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>p<span class="token punctuation">)</span><span class="token comment">#ÁªìÊûúÊòØÁ¨¨‰∏Ä‰∏™pËäÇÁÇπÁöÑÂÜÖÂÆπ</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>head<span class="token punctuation">)</span><span class="token comment">#ÁªìÊûúÊòØheadËäÇÁÇπÁöÑÊâÄÊúâÂÜÖÂÆπ</span>
<span class="token comment">#Ëé∑ÂèñËäÇÁÇπÁöÑ‰ø°ÊÅØ</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>p<span class="token punctuation">.</span>attrs<span class="token punctuation">)</span> <span class="token comment">#Ë∞ÉÁî®attrsËé∑ÂèñpÁöÑÊâÄÊúâÂ±ûÊÄß</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>p<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token comment">#Ëé∑ÂèñpËäÇÁÇπÁöÑÊñáÊú¨</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>p<span class="token punctuation">.</span>contents<span class="token punctuation">)</span><span class="token comment">#Ëé∑ÂèñpÁöÑÁõ¥Êé•Â≠êËäÇÁÇπ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h2 id="itertools"><a class="markdownIt-Anchor" href="#itertools"></a> itertools</h2>
<h3 id="infinite-iterators"><a class="markdownIt-Anchor" href="#infinite-iterators"></a> infinite iterators</h3>
<p><strong>count([start=0, step=1])</strong> Êé•Êî∂‰∏§‰∏™ÂèØÈÄâÊï¥ÂΩ¢ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÊåáÂÆö‰∫ÜËø≠‰ª£ÂºÄÂßãÁöÑÂÄºÔºåÁ¨¨‰∫å‰∏™ÊåáÂÆö‰∫ÜËø≠‰ª£ÁöÑÊ≠•Èïø„ÄÇÊ≠§Â§ñÔºåstartÂèÇÊï∞ÈªòËÆ§‰∏∫0ÔºåstepÂèÇÊï∞ÈªòËÆ§‰∏∫1ÔºåÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÊù•ÊääËøô‰∏§‰∏™ÊåáÂÆö‰∏∫ÂÖ∂ÂÆÉÂÄºÔºåÊàñËÄÖ‰ΩøÁî®ÈªòËÆ§ÂèÇÊï∞„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> itertools
<span class="token keyword">for</span> i <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token keyword">if</span> i<span class="token operator">></span><span class="token number">20</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span>
<span class="token punctuation">[</span>Running<span class="token punctuation">]</span> python <span class="token operator">-</span>u <span class="token string">"e:\pythonee\code\test.py"</span>
<span class="token number">10</span>
<span class="token number">12</span>
<span class="token number">14</span>
<span class="token number">16</span>
<span class="token number">18</span>
<span class="token number">20</span>
<span class="token number">22</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>cycle(iterable)</strong> ÊòØÁî®‰∏Ä‰∏™ÂèØËø≠‰ª£ÂØπË±°‰∏≠ÁöÑÂÖÉÁ¥†Êù•ÂàõÂª∫‰∏Ä‰∏™Ëø≠‰ª£Âô®ÔºåÂπ∂‰∏îÂ§çÂà∂Ëá™Â∑±ÁöÑÂÄºÔºå‰∏ÄÁõ¥Êó†ÈôêÁöÑÈáçÂ§ç‰∏ãÂéª„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> itertools
<span class="token keyword">for</span> i <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>cycle<span class="token punctuation">(</span><span class="token string">"abcd"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>     <span class="token comment"># ÂÖ∑ÊúâÊó†ÈôêÁöÑËæìÂá∫ÔºåÂèØ‰ª•Êåâctrl+cÊù•ÂÅúÊ≠¢„ÄÇ</span>

<span class="token punctuation">[</span>Running<span class="token punctuation">]</span> python <span class="token operator">-</span>u <span class="token string">"e:\pythonee\code\test.py"</span>
a
b
c
d
a
b
c
d
a
b<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>**repeat(elem [,n])**ÊòØÂ∞Ü‰∏Ä‰∏™ÂÖÉÁ¥†ÈáçÂ§çnÈÅçÊàñËÄÖÊó†Á©∑Â§öÈÅçÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Ëø≠‰ª£Âô®„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> itertools
<span class="token keyword">for</span> i <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>repeat<span class="token punctuation">(</span><span class="token string">"abcd"</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token punctuation">[</span>Running<span class="token punctuation">]</span> python <span class="token operator">-</span>u <span class="token string">"e:\pythonee\code\test.py"</span>
abcd
abcd
abcd
abcd
abcd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="combinatoric-iterators"><a class="markdownIt-Anchor" href="#combinatoric-iterators"></a> combinatoric iterators</h2>
<p>ÁªÑÂêàÊìç‰ΩúÂåÖÊã¨ÊéíÂàóÔºåÁ¨õÂç°ÂÑøÁßØÔºåÊàñËÄÖ‰∏Ä‰∫õÁ¶ªÊï£ÂÖÉÁ¥†ÁöÑÈÄâÊã©ÔºåÁªÑÂêàËø≠‰ª£Âô®Â∞±ÊòØ‰∫ßÁîüËøôÊ†∑Â∫èÂàóÁöÑËø≠‰ª£Âô®„ÄÇÊàë‰ª¨Êù•ÁúãÁúãËøôÂá†‰∏™ÂáΩÊï∞ÁöÑÁî®Ê≥ï„ÄÇ</p>
<p><strong>product(*iterables, repeat=1)</strong> ÂæóÂà∞ÁöÑÊòØÂèØËø≠‰ª£ÂØπË±°ÁöÑÁ¨õÂç°ÂÑøÁßØÔºå*iterablesÂèÇÊï∞Ë°®Á§∫ÈúÄË¶ÅÂ§ö‰∏™ÂèØËø≠‰ª£ÂØπË±°„ÄÇËøô‰∫õÂèØËø≠‰ª£ÂØπË±°‰πãÈó¥ÁöÑÁ¨õÂç°ÂÑøÁßØÔºå‰πüÂèØ‰ª•‰ΩøÁî®forÂæ™ÁéØÊù•ÂÆûÁé∞Ôºå‰æãÂ¶Ç <strong>product(A, B)</strong> ‰∏é **((x,y) for x in A for y in B)**Â∞±ÂÆûÁé∞‰∏ÄÊ†∑ÁöÑÂäüËÉΩ„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> itertools
<span class="token keyword">for</span> i <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>product<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token punctuation">[</span>Running<span class="token punctuation">]</span> python <span class="token operator">-</span>u <span class="token string">"e:\pythonee\code\test.py"</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ËÄå repeat ÂèÇÊï∞ÂàôË°®Á§∫Ëøô‰∫õÂèØËø≠‰ª£Â∫èÂàóÈáçÂ§çÁöÑÊ¨°Êï∞„ÄÇ‰æãÂ¶Ç <strong>product(A, repeat=4)</strong> ‰∏é **product(A, A, A, A)**ÂÆûÁé∞ÁöÑÂäüËÉΩ‰∏ÄÊ†∑</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> itertools
<span class="token keyword">for</span> i <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>product<span class="token punctuation">(</span><span class="token string">'ab'</span><span class="token punctuation">,</span><span class="token string">'cd'</span><span class="token punctuation">,</span>repeat <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token punctuation">[</span>Running<span class="token punctuation">]</span> python <span class="token operator">-</span>u <span class="token string">"e:\pythonee\code\test.py"</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>**permutations(iterable,r=None)**ËøîÂõûÁöÑÊòØÂèØËø≠‰ª£ÂÖÉÁ¥†‰∏≠ÁöÑ‰∏Ä‰∏™ÊéíÂàóÁªÑÂêàÔºåÂπ∂‰∏îÊòØÊåâÈ°∫Â∫èËøîÂõûÁöÑ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> itertools
<span class="token keyword">for</span> i <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>permutations<span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token punctuation">[</span>Running<span class="token punctuation">]</span> python <span class="token operator">-</span>u <span class="token string">"e:\pythonee\code\test.py"</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ÂΩìÁÑ∂ÔºåÁ¨¨ 2 ‰∏™ÂèÇÊï∞ÈªòËÆ§‰∏∫NoneÔºåÂÆÉË°®Á§∫ÁöÑÊòØËøîÂõûÂÖÉÁªÑÔºàtuple) ÁöÑÈïøÂ∫¶ÔºåÊàë‰ª¨Êù•Â∞ùËØï‰∏Ä‰∏ã‰º†ÂÖ•Á¨¨‰∫å‰∏™ÂèÇÊï∞„ÄÇ</p>
<p>permutationsÂáΩÊï∞ÂΩìËø≠‰ª£ÂØπË±°Âá∫Áé∞Áõ∏ÂêåÂÖÉÁ¥†Êó∂ÔºåÊòØ‰ºö‰∫ßÁîüÈáçÂ§çÁªìÊûú</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> itertools
<span class="token keyword">for</span> i <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>permutations<span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token punctuation">[</span>Running<span class="token punctuation">]</span> python <span class="token operator">-</span>u <span class="token string">"e:\pythonee\code\test.py"</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">Âú®PythonÁöÑitertoolsÊ®°Âùó‰∏≠ÔºåpermutationsÂíåproductÈÉΩÊòØÁî®‰∫éÁîüÊàêËø≠‰ª£Âô®ÁöÑÂáΩÊï∞Ôºå‰ΩÜÂÆÉ‰ª¨Êúâ‰∏Ä‰∫õÈáçË¶ÅÁöÑÂå∫Âà´Ôºö

ÂÖÉÁ¥†ÁöÑÈáçÂ§ç‰∏éÈ°∫Â∫èÔºö
permutationsÂáΩÊï∞ÁîüÊàêÁöÑÊòØÂèØËø≠‰ª£ÂØπË±°ÔºåÂåÖÂê´‰∫ÜÂéüÂßãÂ∫èÂàó‰∏≠ÊâÄÊúâÂÖÉÁ¥†ÁöÑÊâÄÊúâÂèØËÉΩÁöÑÊéíÂàóÔºå‰ΩÜ‰∏çÂåÖÂê´ÈáçÂ§çÁöÑÂÖÉÁ¥†„ÄÇÊéíÂàóÁöÑÈ°∫Â∫èÂèñÂÜ≥‰∫éÂéüÂßãÂ∫èÂàó‰∏≠ÂÖÉÁ¥†ÁöÑÈ°∫Â∫è„ÄÇ
productÂáΩÊï∞ÁîüÊàêÁöÑÊòØÂèØËø≠‰ª£ÂØπË±°ÔºåÂåÖÂê´‰∫ÜÂéüÂßãÂ∫èÂàó‰∏≠ÊâÄÊúâÂÖÉÁ¥†ÁöÑÁ¨õÂç°Â∞îÁßØÔºåÂÖÅËÆ∏ÂÖÉÁ¥†ÈáçÂ§çÂá∫Áé∞„ÄÇÂÖ∂ÁªìÊûúÊòØÂéüÂßãÂ∫èÂàó‰∏≠ÂÖÉÁ¥†ÁöÑÊâÄÊúâÂèØËÉΩÁöÑÁªÑÂêà„ÄÇ
ÂèÇÊï∞Ôºö
permutationsÂáΩÊï∞Êé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÂèØËø≠‰ª£ÂØπË±°Âíå‰∏Ä‰∏™Êï¥Êï∞ÔºàÂèØÈÄâÔºâÔºåÊåáÂÆöÁîüÊàêÊéíÂàóÁöÑÈïøÂ∫¶„ÄÇÂ¶ÇÊûú‰∏çÊèê‰æõÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÂàôÈªòËÆ§ÁîüÊàê‰∏éÂéüÂßãÂ∫èÂàóÈïøÂ∫¶Áõ∏ÂêåÁöÑÊéíÂàó„ÄÇ
productÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂèØËø≠‰ª£ÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞ÔºåÊØè‰∏™ÂèØËø≠‰ª£ÂØπË±°‰ª£Ë°®‰∏Ä‰∏™ÈõÜÂêàÔºåÂÆÉ‰ª¨ÁöÑÁ¨õÂç°Â∞îÁßØÂ∞ÜË¢´ËÆ°ÁÆó„ÄÇ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="iterators-terminating-on-the-shortest-input-sequence"><a class="markdownIt-Anchor" href="#iterators-terminating-on-the-shortest-input-sequence"></a> Iterators Terminating on the Shortest Input Sequence</h3>
<p><strong>chain(*iterables)</strong> ÂèØ‰ª•ÊääÂ§ö‰∏™ÂèØËø≠‰ª£ÂØπË±°ÁªÑÂêàËµ∑Êù•ÔºåÂΩ¢Êàê‰∏Ä‰∏™Êõ¥Â§ßÁöÑËø≠‰ª£Âô®„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> itertools
<span class="token keyword">for</span> i <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>chain<span class="token punctuation">(</span><span class="token string">'good'</span><span class="token punctuation">,</span><span class="token string">'bye'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token punctuation">[</span>Running<span class="token punctuation">]</span> python <span class="token operator">-</span>u <span class="token string">"e:\pythonee\code\test.py"</span>
g
o
o
d
b
y
e<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>groupby(iterable,key=None)</strong> ÂèØ‰ª•ÊääÁõ∏ÈÇªÂÖÉÁ¥†ÊåâÁÖß key ÂáΩÊï∞ÂàÜÁªÑÔºåÂπ∂ËøîÂõûÁõ∏Â∫îÁöÑ key Âíå groupbyÔºåÂ¶ÇÊûúkeyÂáΩÊï∞‰∏∫ NoneÔºåÂàôÂè™ÊúâÁõ∏ÂêåÁöÑÂÖÉÁ¥†ÊâçËÉΩÊîæÂú®‰∏ÄÁªÑ„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> itertools
<span class="token keyword">for</span> key<span class="token punctuation">,</span> group <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'AaaBBbcCAAa'</span><span class="token punctuation">,</span> <span class="token keyword">lambda</span> c<span class="token punctuation">:</span> c<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span>Running<span class="token punctuation">]</span> python <span class="token operator">-</span>u <span class="token string">"e:\pythonee\code\test.py"</span>
<span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>accumulate(iterable [,func])</strong> ÂèØ‰ª•ËÆ°ÁÆóÂá∫‰∏Ä‰∏™Ëø≠‰ª£Âô®ÔºåËøô‰∏™Ëø≠‰ª£Âô®ÊòØÁî±ÁâπÂÆöÁöÑ‰∫åÂÖÉÂáΩÊï∞ÁöÑÁ¥ØËÆ°ÁªìÊûúÁîüÊàêÁöÑÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÁöÑËØùÔºåÈªòËÆ§ÂáΩÊï∞‰∏∫Ê±ÇÂíåÂáΩÊï∞„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> itertools
<span class="token keyword">for</span> i <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>accumulate<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token punctuation">[</span>Running<span class="token punctuation">]</span> python <span class="token operator">-</span>u <span class="token string">"e:\pythonee\code\test.py"</span>
<span class="token number">0</span>
<span class="token number">1</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">5</span>
<span class="token number">8</span>
<span class="token number">13</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="logging"><a class="markdownIt-Anchor" href="#logging"></a> logging</h2>
<p>Âú®PythonÂ∫îÁî®Á®ãÂ∫è‰∏≠ÔºåÊó•ÂøóÂ§ÑÁêÜÊòØ‰∏ÄÈ°πËá≥ÂÖ≥ÈáçË¶ÅÁöÑ‰ªªÂä°ÔºåÂÆÉÊúâÂä©‰∫éË∑üË∏™Â∫îÁî®Á®ãÂ∫èÁöÑÁä∂ÊÄÅ„ÄÅËØäÊñ≠ÈóÆÈ¢ò‰ª•ÂèäËÆ∞ÂΩïÂÖ≥ÈîÆ‰ø°ÊÅØ„ÄÇPythonÊèê‰æõ‰∫ÜÂÜÖÁΩÆÁöÑLoggingÊ®°ÂùóÔºå‰ΩøÂæóÊó•ÂøóËÆ∞ÂΩïÂèòÂæóÁÆÄÂçïËÄåÂº∫Â§ß„ÄÇÂú®Êú¨Êñá‰∏≠ÔºåÊàë‰ª¨Â∞ÜÊé¢Á¥¢LoggingÊ®°ÂùóÁöÑÈ´òÁ∫ßÁî®Ê≥ïÔºåÂåÖÊã¨Êó•ÂøóÁ∫ßÂà´„ÄÅÊ†ºÂºèÂåñ„ÄÅÂ§ÑÁêÜÁ®ãÂ∫èÁ≠âÊñπÈù¢ÁöÑÂäüËÉΩ„ÄÇ</p>
<h4 id="1-Êó•ÂøóÁ∫ßÂà´"><a class="markdownIt-Anchor" href="#1-Êó•ÂøóÁ∫ßÂà´"></a> <strong>1. Êó•ÂøóÁ∫ßÂà´</strong></h4>
<p>LoggingÊ®°ÂùóÊîØÊåÅÂ§ö‰∏™Êó•ÂøóÁ∫ßÂà´Ôºå‰ªéÊúÄ‰ΩéÁöÑDEBUGÂà∞ÊúÄÈ´òÁöÑCRITICAL„ÄÇ‰ΩøÁî®‰∏çÂêåÁöÑÁ∫ßÂà´ÂèØ‰ª•ÊéßÂà∂Êó•Âøó‰ø°ÊÅØÁöÑËæìÂá∫Á≤íÂ∫¶Ôºå‰ª•ÂèäÂØπÂ∫îÁî®Á®ãÂ∫èÁöÑÂΩ±ÂìçÁ®ãÂ∫¶„ÄÇ‰ª•‰∏ãÊòØPython LoggingÊ®°ÂùóÊîØÊåÅÁöÑÊó•ÂøóÁ∫ßÂà´Ôºö</p>
<ul>
<li>DEBUGÔºöÁî®‰∫éËØ¶ÁªÜÁöÑË∞ÉËØï‰ø°ÊÅØ„ÄÇ</li>
<li>INFOÔºöÁî®‰∫éÁ°ÆËÆ§Â∫îÁî®Á®ãÂ∫èÁöÑÊ≠£Â∏∏ËøêË°å„ÄÇ</li>
<li>WARNINGÔºöÁî®‰∫éÊåáÁ§∫ÊΩúÂú®ÁöÑÈóÆÈ¢òÔºå‰ΩÜ‰∏çÂΩ±ÂìçÂ∫îÁî®Á®ãÂ∫èÁöÑÊ≠£Â∏∏Â∑•‰Ωú„ÄÇ</li>
<li>ERRORÔºöÁî®‰∫éÊåáÁ§∫Â∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑÈîôËØØÔºåÂèØËÉΩÂΩ±ÂìçÈÉ®ÂàÜÂäüËÉΩÁöÑÊ≠£Â∏∏ËøêË°å„ÄÇ</li>
<li>CRITICALÔºöÁî®‰∫éÊåáÁ§∫‰∏•ÈáçÈîôËØØÔºåÂèØËÉΩÂØºËá¥Â∫îÁî®Á®ãÂ∫èÂ¥©Ê∫É„ÄÇ</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> logging

logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>

logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™DEBUGÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™INFOÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>warning<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™WARNINGÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™ERRORÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>critical<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™CRITICALÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="2-Ê†ºÂºèÂåñ"><a class="markdownIt-Anchor" href="#2-Ê†ºÂºèÂåñ"></a> <strong>2. Ê†ºÂºèÂåñ</strong></h4>
<p>LoggingÊ®°ÂùóÂÖÅËÆ∏ÂºÄÂèëËÄÖÂØπÊó•Âøó‰ø°ÊÅØËøõË°åÊ†ºÂºèÂåñÔºå‰ª•‰æøÊõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂàÜÊûêÊó•ÂøóÂÜÖÂÆπ„ÄÇÂèØ‰ª•Âú®Êó•ÂøóÂ§ÑÁêÜÂô®‰∏≠ÊåáÂÆöÊ†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤ÔºåÂÖ∂‰∏≠ÂèØ‰ª•ÂåÖÂê´ÁâπÂÆöÁöÑÂç†‰ΩçÁ¨¶ÔºåÂ¶ÇÊó•ÂøóÁ∫ßÂà´„ÄÅÊó∂Èó¥Êà≥„ÄÅÊ®°ÂùóÂêçÁ≠â„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> logging

logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span><span class="token builtin">format</span><span class="token operator">=</span><span class="token string">'%(asctime)s - %(levelname)s - %(message)s'</span><span class="token punctuation">,</span> level<span class="token operator">=</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>

logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™DEBUGÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="3-Â§ÑÁêÜÁ®ãÂ∫è"><a class="markdownIt-Anchor" href="#3-Â§ÑÁêÜÁ®ãÂ∫è"></a> <strong>3. Â§ÑÁêÜÁ®ãÂ∫è</strong></h4>
<p>LoggingÊ®°ÂùóÊîØÊåÅÂ∞ÜÊó•Âøó‰ø°ÊÅØÂèëÈÄÅÂà∞‰∏çÂêåÁöÑÂ§ÑÁêÜÁ®ãÂ∫èÔºå‰æãÂ¶ÇÊñá‰ª∂„ÄÅÊéßÂà∂Âè∞„ÄÅÁΩëÁªúÁ≠â„ÄÇÈÄöËøáÊ∑ªÂä†‰∏çÂêåÁöÑÂ§ÑÁêÜÁ®ãÂ∫èÔºåÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÂ∞ÜÊó•Âøó‰ø°ÊÅØÂèëÈÄÅÂà∞‰∏çÂêåÁöÑÁõÆÁöÑÂú∞„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> logging

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™FileHandlerÂ§ÑÁêÜÁ®ãÂ∫èÔºåÂ∞ÜÊó•Âøó‰ø°ÊÅØÂÜôÂÖ•Êñá‰ª∂</span>
file_handler <span class="token operator">=</span> logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span><span class="token string">'app.log'</span><span class="token punctuation">)</span>
file_handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™StreamHandlerÂ§ÑÁêÜÁ®ãÂ∫èÔºåÂ∞ÜÊó•Âøó‰ø°ÊÅØËæìÂá∫Âà∞ÊéßÂà∂Âè∞</span>
console_handler <span class="token operator">=</span> logging<span class="token punctuation">.</span>StreamHandler<span class="token punctuation">(</span><span class="token punctuation">)</span>
console_handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™Ê†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤</span>
formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">'%(asctime)s - %(levelname)s - %(message)s'</span><span class="token punctuation">)</span>

<span class="token comment"># Â∞ÜÊ†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤Â∫îÁî®Âà∞Â§ÑÁêÜÁ®ãÂ∫è</span>
file_handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>
console_handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>

<span class="token comment"># Ê∑ªÂä†Â§ÑÁêÜÁ®ãÂ∫èÂà∞LoggerÂØπË±°</span>
logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>file_handler<span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>console_handler<span class="token punctuation">)</span>

<span class="token comment"># ÂèëÈÄÅÊó•Âøó‰ø°ÊÅØ</span>
logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™DEBUGÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™ERRORÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="4-ËøáÊª§Âô®"><a class="markdownIt-Anchor" href="#4-ËøáÊª§Âô®"></a> <strong>4. ËøáÊª§Âô®</strong></h4>
<p>LoggingÊ®°ÂùóËøòÊèê‰æõ‰∫ÜËøáÊª§Âô®ÁöÑÂäüËÉΩÔºåÂèØ‰ª•Ê†πÊçÆÈúÄÊ±ÇÂØπÊó•Âøó‰ø°ÊÅØËøõË°åÁ≠õÈÄâÂíåËøáÊª§„ÄÇËøáÊª§Âô®ÂèØ‰ª•Âü∫‰∫éÊó•ÂøóÁ∫ßÂà´„ÄÅÊ®°ÂùóÂêçÁ≠âÊù°‰ª∂Êù•ËøáÊª§Êó•Âøó‰ø°ÊÅØÔºå‰ΩøÂæóÊó•ÂøóËÆ∞ÂΩïÊõ¥Âä†Á≤æÁ°ÆÂíåÊúâÊïà„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> logging

<span class="token keyword">class</span> <span class="token class-name">DebugFilter</span><span class="token punctuation">(</span>logging<span class="token punctuation">.</span>Filter<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">filter</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> record<span class="token punctuation">.</span>levelno <span class="token operator">==</span> logging<span class="token punctuation">.</span>DEBUG

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™LoggerÂØπË±°</span>
logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™FileHandlerÂ§ÑÁêÜÁ®ãÂ∫è</span>
file_handler <span class="token operator">=</span> logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span><span class="token string">'debug.log'</span><span class="token punctuation">)</span>
file_handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™Ê†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤</span>
formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">'%(asctime)s - %(levelname)s - %(message)s'</span><span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™DebugFilterËøáÊª§Âô®</span>
debug_filter <span class="token operator">=</span> DebugFilter<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Â∞ÜÊ†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤Â∫îÁî®Âà∞Â§ÑÁêÜÁ®ãÂ∫è</span>
file_handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>

<span class="token comment"># Â∞ÜËøáÊª§Âô®Â∫îÁî®Âà∞Â§ÑÁêÜÁ®ãÂ∫è</span>
file_handler<span class="token punctuation">.</span>addFilter<span class="token punctuation">(</span>debug_filter<span class="token punctuation">)</span>

<span class="token comment"># Ê∑ªÂä†Â§ÑÁêÜÁ®ãÂ∫èÂà∞LoggerÂØπË±°</span>
logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>file_handler<span class="token punctuation">)</span>

<span class="token comment"># ÂèëÈÄÅÊó•Âøó‰ø°ÊÅØ</span>
logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™DEBUGÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™INFOÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="5-ÈÖçÁΩÆÊñá‰ª∂"><a class="markdownIt-Anchor" href="#5-ÈÖçÁΩÆÊñá‰ª∂"></a> <strong>5. ÈÖçÁΩÆÊñá‰ª∂</strong></h4>
<p>LoggingÊ®°ÂùóÊîØÊåÅ‰ªéÈÖçÁΩÆÊñá‰ª∂‰∏≠Âä†ËΩΩÈÖçÁΩÆ‰ø°ÊÅØÔºå‰ΩøÂæóÊó•ÂøóÂ§ÑÁêÜÁöÑÈÖçÁΩÆÊõ¥Âä†ÁÅµÊ¥ªÂíåÂèØÈÖçÁΩÆÂåñ„ÄÇÈÄöËøáÈÖçÁΩÆÊñá‰ª∂ÔºåÂºÄÂèëËÄÖÂèØ‰ª•ÊåáÂÆöÊó•ÂøóÁ∫ßÂà´„ÄÅÊ†ºÂºèÂåñ„ÄÅÂ§ÑÁêÜÁ®ãÂ∫èÁ≠â‰ø°ÊÅØÔºåÂπ∂Ê†πÊçÆÈúÄË¶ÅËøõË°åË∞ÉÊï¥Âíå‰øÆÊîπÔºåËÄå‰∏çÈúÄË¶Å‰øÆÊîπÊ∫ê‰ª£Á†Å„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># logging.conf</span>
<span class="token punctuation">[</span>loggers<span class="token punctuation">]</span>
keys<span class="token operator">=</span>root

<span class="token punctuation">[</span>handlers<span class="token punctuation">]</span>
keys<span class="token operator">=</span>consoleHandler

<span class="token punctuation">[</span>formatters<span class="token punctuation">]</span>
keys<span class="token operator">=</span>sampleFormatter

<span class="token punctuation">[</span>logger_root<span class="token punctuation">]</span>
level<span class="token operator">=</span>DEBUG
handlers<span class="token operator">=</span>consoleHandler

<span class="token punctuation">[</span>handler_consoleHandler<span class="token punctuation">]</span>
<span class="token keyword">class</span><span class="token operator">=</span>StreamHandler
level<span class="token operator">=</span>DEBUG
formatter<span class="token operator">=</span>sampleFormatter
args<span class="token operator">=</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>stdout<span class="token punctuation">,</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span>formatter_sampleFormatter<span class="token punctuation">]</span>
<span class="token builtin">format</span><span class="token operator">=</span><span class="token operator">%</span><span class="token punctuation">(</span>asctime<span class="token punctuation">)</span>s <span class="token operator">-</span> <span class="token operator">%</span><span class="token punctuation">(</span>levelname<span class="token punctuation">)</span>s <span class="token operator">-</span> <span class="token operator">%</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ‰ΩøÁî®ÈÖçÁΩÆÊñá‰ª∂ËøõË°åÊó•ÂøóÈÖçÁΩÆ</span>
<span class="token keyword">import</span> logging
<span class="token keyword">import</span> logging<span class="token punctuation">.</span>config

logging<span class="token punctuation">.</span>config<span class="token punctuation">.</span>fileConfig<span class="token punctuation">(</span><span class="token string">'logging.conf'</span><span class="token punctuation">)</span>

logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™DEBUGÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™INFOÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="6-Êó•ÂøóËΩÆËΩ¨"><a class="markdownIt-Anchor" href="#6-Êó•ÂøóËΩÆËΩ¨"></a> <strong>6. Êó•ÂøóËΩÆËΩ¨</strong></h4>
<p>Êó•ÂøóËΩÆËΩ¨ÊòØ‰∏ÄÁßçÂ∏∏ËßÅÁöÑÊó•ÂøóÁÆ°ÁêÜÊäÄÊúØÔºåÂÆÉÂèØ‰ª•Âú®Êó•ÂøóÊñá‰ª∂ËææÂà∞‰∏ÄÂÆöÂ§ßÂ∞èÊàñËÄÖÂú®ÁâπÂÆöÊó∂Èó¥Èó¥ÈöîÂêéÔºåËá™Âä®Â∞ÜÂΩìÂâçÊó•ÂøóÊñá‰ª∂ÈáçÂëΩÂêçÂπ∂ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊó•ÂøóÊñá‰ª∂Ôºå‰ª•ÈÅøÂÖçÊó•ÂøóÊñá‰ª∂ËøáÂ§ßÊàñËÄÖËøáÊúü„ÄÇPythonÁöÑLoggingÊ®°ÂùóÊèê‰æõ‰∫ÜÁõ∏Â∫îÁöÑËΩÆËΩ¨Â§ÑÁêÜÁ®ãÂ∫èÔºåÊñπ‰æøÂºÄÂèëËÄÖÂÆûÁé∞Êó•ÂøóËΩÆËΩ¨ÂäüËÉΩ„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> logging
<span class="token keyword">from</span> logging<span class="token punctuation">.</span>handlers <span class="token keyword">import</span> RotatingFileHandler

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™LoggerÂØπË±°</span>
logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™RotatingFileHandlerÂ§ÑÁêÜÁ®ãÂ∫è</span>
file_handler <span class="token operator">=</span> RotatingFileHandler<span class="token punctuation">(</span><span class="token string">'app.log'</span><span class="token punctuation">,</span> maxBytes<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">,</span> backupCount<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
file_handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™Ê†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤</span>
formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">'%(asctime)s - %(levelname)s - %(message)s'</span><span class="token punctuation">)</span>

<span class="token comment"># Â∞ÜÊ†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤Â∫îÁî®Âà∞Â§ÑÁêÜÁ®ãÂ∫è</span>
file_handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>

<span class="token comment"># Ê∑ªÂä†Â§ÑÁêÜÁ®ãÂ∫èÂà∞LoggerÂØπË±°</span>
logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>file_handler<span class="token punctuation">)</span>

<span class="token comment"># ÂèëÈÄÅÊó•Âøó‰ø°ÊÅØ</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'ËøôÊòØÁ¨¨</span><span class="token interpolation"><span class="token punctuation">&#123;</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">&#125;</span></span><span class="token string">Êù°DEBUGÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="7-Êó•ÂøóÂΩíÊ°£"><a class="markdownIt-Anchor" href="#7-Êó•ÂøóÂΩíÊ°£"></a> <strong>7. Êó•ÂøóÂΩíÊ°£</strong></h4>
<p>Êó•ÂøóÂΩíÊ°£ÊòØÂè¶‰∏ÄÁßçÂ∏∏ËßÅÁöÑÊó•ÂøóÁÆ°ÁêÜÊäÄÊúØÔºåÂÆÉÂèØ‰ª•Ê†πÊçÆÊó∂Èó¥Âë®ÊúüÊÄßÂú∞Â∞ÜÊó•ÂøóÊñá‰ª∂ËøõË°åÂΩíÊ°£Ôºå‰æãÂ¶ÇÊåâÁÖßÊØèÂ§©„ÄÅÊØèÂë®ÊàñËÄÖÊØèÊúàÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑÊó•ÂøóÊñá‰ª∂„ÄÇPythonÁöÑLoggingÊ®°Âùó‰πüÊèê‰æõ‰∫ÜÁõ∏Â∫îÁöÑÂΩíÊ°£Â§ÑÁêÜÁ®ãÂ∫èÔºåÂèØ‰ª•ËΩªÊùæÂÆûÁé∞Êó•ÂøóÁöÑËá™Âä®ÂΩíÊ°£ÂäüËÉΩ„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> logging
<span class="token keyword">from</span> logging<span class="token punctuation">.</span>handlers <span class="token keyword">import</span> TimedRotatingFileHandler

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™LoggerÂØπË±°</span>
logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™TimedRotatingFileHandlerÂ§ÑÁêÜÁ®ãÂ∫è</span>
file_handler <span class="token operator">=</span> TimedRotatingFileHandler<span class="token punctuation">(</span><span class="token string">'app.log'</span><span class="token punctuation">,</span> when<span class="token operator">=</span><span class="token string">'midnight'</span><span class="token punctuation">,</span> interval<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> backupCount<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
file_handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™Ê†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤</span>
formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">'%(asctime)s - %(levelname)s - %(message)s'</span><span class="token punctuation">)</span>

<span class="token comment"># Â∞ÜÊ†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤Â∫îÁî®Âà∞Â§ÑÁêÜÁ®ãÂ∫è</span>
file_handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>

<span class="token comment"># Ê∑ªÂä†Â§ÑÁêÜÁ®ãÂ∫èÂà∞LoggerÂØπË±°</span>
logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>file_handler<span class="token punctuation">)</span>

<span class="token comment"># ÂèëÈÄÅÊó•Âøó‰ø°ÊÅØ</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'ËøôÊòØÁ¨¨</span><span class="token interpolation"><span class="token punctuation">&#123;</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">&#125;</span></span><span class="token string">Êù°DEBUGÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="8-Ëá™ÂÆö‰πâÂ§ÑÁêÜÁ®ãÂ∫è"><a class="markdownIt-Anchor" href="#8-Ëá™ÂÆö‰πâÂ§ÑÁêÜÁ®ãÂ∫è"></a> <strong>8. Ëá™ÂÆö‰πâÂ§ÑÁêÜÁ®ãÂ∫è</strong></h4>
<p>Èô§‰∫Ü‰ΩøÁî®LoggingÊ®°ÂùóÊèê‰æõÁöÑÂÜÖÁΩÆÂ§ÑÁêÜÁ®ãÂ∫èÂ§ñÔºåÂºÄÂèëËÄÖËøòÂèØ‰ª•Ëá™ÂÆö‰πâÂ§ÑÁêÜÁ®ãÂ∫èÊù•Êª°Ë∂≥ÁâπÂÆöÁöÑÈúÄÊ±Ç„ÄÇÈÄöËøáËá™ÂÆö‰πâÂ§ÑÁêÜÁ®ãÂ∫èÔºåÂèØ‰ª•Â∞ÜÊó•Âøó‰ø°ÊÅØÂèëÈÄÅÂà∞Ëá™ÂÆö‰πâÁöÑÁõÆÁöÑÂú∞Ôºå‰æãÂ¶Ç<a target="_blank" rel="noopener" href="https://cloud.tencent.com/solution/database?from_column=20065&amp;from=20065">Êï∞ÊçÆÂ∫ì</a>„ÄÅ<a target="_blank" rel="noopener" href="https://cloud.tencent.com/product/cmq?from_column=20065&amp;from=20065">Ê∂àÊÅØÈòüÂàó</a>Á≠âÔºå‰ª•Êª°Ë∂≥ÁâπÂÆöÂú∫ÊôØ‰∏ãÁöÑÊó•ÂøóËÆ∞ÂΩïÈúÄÊ±Ç„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> logging

<span class="token keyword">class</span> <span class="token class-name">CustomHandler</span><span class="token punctuation">(</span>logging<span class="token punctuation">.</span>Handler<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">emit</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Ëá™ÂÆö‰πâÂ§ÑÁêÜÈÄªËæë</span>
        log_entry <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span>
        <span class="token comment"># Â∞ÜÊó•Âøó‰ø°ÊÅØÂèëÈÄÅÂà∞Ëá™ÂÆö‰πâÁõÆÁöÑÂú∞</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"CustomHandler: </span><span class="token interpolation"><span class="token punctuation">&#123;</span>log_entry<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™LoggerÂØπË±°</span>
logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™Ëá™ÂÆö‰πâÂ§ÑÁêÜÁ®ãÂ∫è</span>
custom_handler <span class="token operator">=</span> CustomHandler<span class="token punctuation">(</span><span class="token punctuation">)</span>
custom_handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™Ê†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤</span>
formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">'%(asctime)s - %(levelname)s - %(message)s'</span><span class="token punctuation">)</span>

<span class="token comment"># Â∞ÜÊ†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤Â∫îÁî®Âà∞Â§ÑÁêÜÁ®ãÂ∫è</span>
custom_handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>

<span class="token comment"># Ê∑ªÂä†Â§ÑÁêÜÁ®ãÂ∫èÂà∞LoggerÂØπË±°</span>
logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>custom_handler<span class="token punctuation">)</span>

<span class="token comment"># ÂèëÈÄÅÊó•Âøó‰ø°ÊÅØ</span>
logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'ËøôÊòØ‰∏Ä‰∏™DEBUGÁ∫ßÂà´ÁöÑÊó•Âøó‰ø°ÊÅØ'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="9-ÂºÇÂ∏∏Â§ÑÁêÜ‰∏≠ÁöÑÊó•ÂøóËÆ∞ÂΩï"><a class="markdownIt-Anchor" href="#9-ÂºÇÂ∏∏Â§ÑÁêÜ‰∏≠ÁöÑÊó•ÂøóËÆ∞ÂΩï"></a> <strong>9. ÂºÇÂ∏∏Â§ÑÁêÜ‰∏≠ÁöÑÊó•ÂøóËÆ∞ÂΩï</strong></h4>
<p>Âú®ÂºÇÂ∏∏Â§ÑÁêÜ‰∏≠ËÆ∞ÂΩïÊó•ÂøóÊòØ‰∏ÄÁßçÂ∏∏ËßÅÁöÑÂÅöÊ≥ïÔºåÂÆÉÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèëËÄÖÂèäÊó∂ÊçïËé∑ÂíåÊéíÊü•Â∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑÂºÇÂ∏∏ÊÉÖÂÜµÔºå‰ªéËÄåÊèêÂçáÂ∫îÁî®Á®ãÂ∫èÁöÑÁ®≥ÂÆöÊÄßÂíåÂèØÈù†ÊÄß„ÄÇ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> logging

<span class="token comment"># ÂàõÂª∫‰∏Ä‰∏™LoggerÂØπË±°</span>
logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

<span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token comment"># Â∞ùËØïÊâßË°åÂèØËÉΩ‰ºöÊäõÂá∫ÂºÇÂ∏∏ÁöÑ‰ª£Á†Å</span>
    result <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token comment"># Âú®ÂºÇÂ∏∏Â§ÑÁêÜ‰∏≠ËÆ∞ÂΩïÊó•Âøó</span>
    logger<span class="token punctuation">.</span>exception<span class="token punctuation">(</span><span class="token string">'ÂèëÁîü‰∫Ü‰∏Ä‰∏™ÂºÇÂ∏∏'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="10-Êó•ÂøóËÆ∞ÂΩïÊúÄ‰Ω≥ÂÆûË∑µ"><a class="markdownIt-Anchor" href="#10-Êó•ÂøóËÆ∞ÂΩïÊúÄ‰Ω≥ÂÆûË∑µ"></a> <strong>10. Êó•ÂøóËÆ∞ÂΩïÊúÄ‰Ω≥ÂÆûË∑µ</strong></h4>
<p>Âú®‰ΩøÁî®LoggingÊ®°ÂùóËÆ∞ÂΩïÊó•ÂøóÊó∂ÔºåÈô§‰∫ÜÊéåÊè°ÂêÑÁßçÈ´òÁ∫ßÂäüËÉΩÂ§ñÔºåËøòÊúâ‰∏Ä‰∫õÊúÄ‰Ω≥ÂÆûË∑µÂÄºÂæóÊàë‰ª¨Ê≥®ÊÑè„ÄÇËøô‰∫õÊúÄ‰Ω≥ÂÆûË∑µÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨Êõ¥Â•ΩÂú∞Âà©Áî®LoggingÊ®°ÂùóÔºåÊèêÈ´òÊó•ÂøóËÆ∞ÂΩïÁöÑÊïàÁéáÂíåÂèØÁª¥Êä§ÊÄß„ÄÇ</p>
<ul>
<li><strong>ÈÄÇÂΩìÈÄâÊã©Êó•ÂøóÁ∫ßÂà´Ôºö</strong> ‰ΩøÁî®ÈÄÇÂΩìÁöÑÊó•ÂøóÁ∫ßÂà´ÂèØ‰ª•ÊéßÂà∂Êó•Âøó‰ø°ÊÅØÁöÑËæìÂá∫ÈáèÔºåÈÅøÂÖçÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠ËæìÂá∫ËøáÂ§öÁöÑË∞ÉËØï‰ø°ÊÅØ„ÄÇ</li>
<li><strong>Ê†ºÂºèÂåñ‰∏ÄËá¥ÊÄßÔºö</strong> ‰øùÊåÅÊó•ÂøóÊ†ºÂºèÁöÑ‰∏ÄËá¥ÊÄßÂèØ‰ª•Êñπ‰æøÊó•Âøó‰ø°ÊÅØÁöÑÊü•ÈòÖÂíåÂàÜÊûêÔºåÂª∫ËÆÆÂú®Êï¥‰∏™Â∫îÁî®Á®ãÂ∫è‰∏≠ÈááÁî®Áõ∏ÂêåÁöÑÊó•ÂøóÊ†ºÂºè„ÄÇ</li>
<li><strong>ÂºÇÂ∏∏Â§ÑÁêÜ‰∏≠ÁöÑÊó•ÂøóËÆ∞ÂΩïÔºö</strong> Âú®ÂºÇÂ∏∏Â§ÑÁêÜ‰∏≠ËÆ∞ÂΩïÊó•ÂøóÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ÂèäÊó∂ÊçïËé∑ÂíåÊéíÊü•ÂºÇÂ∏∏ÊÉÖÂÜµÔºåÂª∫ËÆÆÂú®Â∫îÁî®Á®ãÂ∫èÁöÑÂÖ≥ÈîÆÂºÇÂ∏∏Â§ÑÁêÜÈÄªËæë‰∏≠Ê∑ªÂä†Áõ∏Â∫îÁöÑÊó•ÂøóËÆ∞ÂΩï„ÄÇ</li>
<li><strong>Êó•ÂøóËΩÆËΩ¨ÂíåÂΩíÊ°£Ôºö</strong> ÂØπ‰∫éÊó•ÂøóÊñá‰ª∂ÁöÑÁÆ°ÁêÜÔºåÂª∫ËÆÆ‰ΩøÁî®Êó•ÂøóËΩÆËΩ¨ÂíåÂΩíÊ°£ÂäüËÉΩÔºå‰ª•ÈÅøÂÖçÊó•ÂøóÊñá‰ª∂ËøáÂ§ßÊàñËÄÖËøáÊúü„ÄÇ</li>
<li><strong>Ëá™ÂÆö‰πâÂ§ÑÁêÜÁ®ãÂ∫èÔºö</strong> Ê†πÊçÆÂÆûÈôÖÈúÄÊ±ÇÔºåÂèØ‰ª•ËÄÉËôëËá™ÂÆö‰πâÂ§ÑÁêÜÁ®ãÂ∫èÔºåÂ∞ÜÊó•Âøó‰ø°ÊÅØÂèëÈÄÅÂà∞Ëá™ÂÆö‰πâÁöÑÁõÆÁöÑÂú∞Ôºå‰ª•Êª°Ë∂≥ÁâπÂÆöÂú∫ÊôØ‰∏ãÁöÑÊó•ÂøóËÆ∞ÂΩïÈúÄÊ±Ç„ÄÇ</li>
</ul>
<h4 id="11-Êó•ÂøóËÆ∞ÂΩïÁöÑÊÄßËÉΩËÄÉÈáè"><a class="markdownIt-Anchor" href="#11-Êó•ÂøóËÆ∞ÂΩïÁöÑÊÄßËÉΩËÄÉÈáè"></a> <strong>11. Êó•ÂøóËÆ∞ÂΩïÁöÑÊÄßËÉΩËÄÉÈáè</strong></h4>
<p>Èô§‰∫ÜÂäüËÉΩÂíåÊúÄ‰Ω≥ÂÆûË∑µÂ§ñÔºåÊàë‰ª¨ËøòÈúÄË¶ÅËÄÉËôëÊó•ÂøóËÆ∞ÂΩïÂØπÂ∫îÁî®Á®ãÂ∫èÊÄßËÉΩÁöÑÂΩ±Âìç„ÄÇÂ∞ΩÁÆ°LoggingÊ®°ÂùóÊèê‰æõ‰∫ÜÂº∫Â§ßÁöÑÂäüËÉΩÔºå‰ΩÜ‰∏çÂêàÁêÜÁöÑÊó•ÂøóËÆ∞ÂΩïÊñπÂºèÂèØËÉΩ‰ºöÂØºËá¥ÊÄßËÉΩ‰∏ãÈôçÔºåÁâπÂà´ÊòØÂú®È´òË¥üËΩΩÁöÑÁîü‰∫ßÁéØÂ¢É‰∏≠„ÄÇ</p>
<ul>
<li><strong>ÊÖéÁî®DEBUGÁ∫ßÂà´Ôºö</strong> Âú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÔºåÈÅøÂÖçËøáÂ∫¶‰ΩøÁî®DEBUGÁ∫ßÂà´ÁöÑÊó•ÂøóËÆ∞ÂΩïÔºåÂõ†‰∏∫ÂÆÉ‰ª¨‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑËæìÂá∫ÔºåÂπ∂ÂèØËÉΩÂΩ±ÂìçÂ∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩ„ÄÇÂª∫ËÆÆÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠‰ªÖËÆ∞ÂΩïÂøÖË¶ÅÁöÑ‰ø°ÊÅØ„ÄÇ</li>
<li><strong>ÂºÇÊ≠•Êó•ÂøóËÆ∞ÂΩïÔºö</strong> ÂØπ‰∫éÈ´òÂπ∂ÂèëÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåËÄÉËôë‰ΩøÁî®ÂºÇÊ≠•Êó•ÂøóËÆ∞ÂΩïÂô®Êù•ÊèêÈ´òÊÄßËÉΩ„ÄÇÂºÇÊ≠•ËÆ∞ÂΩïÂô®ÂèØ‰ª•Â∞ÜÊó•Âøó‰ø°ÊÅØÁºìÂÜ≤Âπ∂ÂºÇÊ≠•Âú∞ÂÜôÂÖ•Âà∞ÁõÆÊ†áÂ§ÑÁêÜÁ®ãÂ∫èÔºå‰ªéËÄåÂáèÂ∞ëÂØπ‰∏ªÁ∫øÁ®ãÁöÑÈòªÂ°û„ÄÇ</li>
<li><strong>Êó•ÂøóËÆ∞ÂΩïÂô®ÁöÑÂ±ÇÁ∫ßÁªìÊûÑÔºö</strong> ÂêàÁêÜÊûÑÂª∫Êó•ÂøóËÆ∞ÂΩïÂô®ÁöÑÂ±ÇÁ∫ßÁªìÊûÑÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨Êõ¥Â•ΩÂú∞ÁÆ°ÁêÜÂíåÊéßÂà∂Êó•ÂøóËÆ∞ÂΩïÁöÑÊÄßËÉΩ„ÄÇÂ∞ΩÈáèÈÅøÂÖçÂú®ÊØè‰∏™Ê®°Âùó‰∏≠ÈÉΩÂàõÂª∫‰∏Ä‰∏™Áã¨Á´ãÁöÑÊó•ÂøóËÆ∞ÂΩïÂô®ÔºåËÄåÊòØÂ∫îËØ•Ê†πÊçÆ‰∏öÂä°ÈÄªËæëÂíåÊ®°ÂùóÂäüËÉΩÊù•ÁªÑÁªáÊó•ÂøóËÆ∞ÂΩïÂô®ÁöÑÂ±ÇÁ∫ßÁªìÊûÑ„ÄÇ</li>
</ul>
<h4 id="12-ÊÄßËÉΩ‰ºòÂåñÊäÄÂ∑ß"><a class="markdownIt-Anchor" href="#12-ÊÄßËÉΩ‰ºòÂåñÊäÄÂ∑ß"></a> <strong>12. ÊÄßËÉΩ‰ºòÂåñÊäÄÂ∑ß</strong></h4>
<p>‰∏∫‰∫ÜËøõ‰∏ÄÊ≠•ÊèêÈ´òÊó•ÂøóËÆ∞ÂΩïÁöÑÊÄßËÉΩÔºåÊàë‰ª¨ÂèØ‰ª•ÈááÂèñ‰∏Ä‰∫õ‰ºòÂåñÊäÄÂ∑ßÊù•ÂáèÂ∞ëÊó•ÂøóËÆ∞ÂΩïÂØπÂ∫îÁî®Á®ãÂ∫èÊÄßËÉΩÁöÑÂΩ±Âìç„ÄÇ</p>
<ul>
<li><strong>ÊâπÈáèÂ§ÑÁêÜÔºö</strong> Â∞ÜÂ§öÊù°Êó•Âøó‰ø°ÊÅØÂêàÂπ∂Êàê‰∏ÄÊù°ËøõË°åÊâπÈáèÂ§ÑÁêÜÔºåÂèØ‰ª•ÂáèÂ∞ëIOÊìç‰ΩúÂíåËµÑÊ∫êÊ∂àËÄóÔºåÊèêÈ´òÊó•ÂøóËÆ∞ÂΩïÁöÑÊïàÁéá„ÄÇ</li>
<li><strong>‰ΩøÁî®Êõ¥Âø´ÁöÑÂ§ÑÁêÜÁ®ãÂ∫èÔºö</strong> ÂØπ‰∫éÊÄßËÉΩÊïèÊÑüÁöÑÂú∫ÊôØÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®Êõ¥Âø´ÈÄüÁöÑÂ§ÑÁêÜÁ®ãÂ∫èÔºåÂ¶ÇMemoryHandlerÊàñQueueHandlerÔºå‰ª•ÂáèÂ∞ëÊó•ÂøóËÆ∞ÂΩïÂØπÂ∫îÁî®Á®ãÂ∫èÊÄßËÉΩÁöÑÂΩ±Âìç„ÄÇ</li>
<li><strong>Á¶ÅÁî®‰∏çÂøÖË¶ÅÁöÑÂ§ÑÁêÜÁ®ãÂ∫èÔºö</strong> ÂÆöÊúüÂÆ°Êü•ÂíåÁ¶ÅÁî®‰∏çÂøÖË¶ÅÁöÑÂ§ÑÁêÜÁ®ãÂ∫èÔºåÂèØ‰ª•ÂáèÂ∞ëÊó•ÂøóËÆ∞ÂΩïÁöÑÂºÄÈîÄÔºåÊèêÈ´òÂ∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩ„ÄÇ</li>
</ul>
<h3 id="ÊÄªÁªì"><a class="markdownIt-Anchor" href="#ÊÄªÁªì"></a> <strong>ÊÄªÁªì</strong></h3>
<p>Python‰∏≠ÁöÑLoggingÊ®°ÂùóÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÂäüËÉΩÂíåÁÅµÊ¥ªÁöÑÈÖçÁΩÆÈÄâÈ°πÔºå‰ΩøÂæóÊó•ÂøóËÆ∞ÂΩïÂèòÂæóÁÆÄÂçïËÄåÂº∫Â§ß„ÄÇÈÄöËøáÊú¨ÊñáÁöÑ‰ªãÁªçÔºåÊàë‰ª¨Ê∑±ÂÖ•Êé¢ËÆ®‰∫ÜLoggingÊ®°ÂùóÁöÑÈ´òÁ∫ßÁî®Ê≥ïÔºåÂåÖÊã¨Êó•ÂøóÁ∫ßÂà´„ÄÅÊ†ºÂºèÂåñ„ÄÅÂ§ÑÁêÜÁ®ãÂ∫è„ÄÅËøáÊª§Âô®„ÄÅÈÖçÁΩÆÊñá‰ª∂Á≠âÊñπÈù¢ÁöÑÂäüËÉΩ„ÄÇÊàë‰ª¨ËøòÂàÜ‰∫´‰∫Ü‰∏Ä‰∫õÊó•ÂøóËÆ∞ÂΩïÁöÑÊúÄ‰Ω≥ÂÆûË∑µÔºåÂ¶ÇÈÄÇÂΩìÈÄâÊã©Êó•ÂøóÁ∫ßÂà´„ÄÅ‰øùÊåÅÊó•ÂøóÊ†ºÂºèÁöÑ‰∏ÄËá¥ÊÄß„ÄÅÂú®ÂºÇÂ∏∏Â§ÑÁêÜ‰∏≠ËÆ∞ÂΩïÊó•ÂøóÁ≠â„ÄÇÊ≠§Â§ñÔºåÊàë‰ª¨ËøòÊé¢ËÆ®‰∫ÜÊó•ÂøóËÆ∞ÂΩïÂØπÂ∫îÁî®Á®ãÂ∫èÊÄßËÉΩÁöÑÂΩ±Âìç‰ª•ÂèäÊÄßËÉΩ‰ºòÂåñÊäÄÂ∑ßÔºåÂ∏ÆÂä©ÂºÄÂèëËÄÖÊõ¥Â•ΩÂú∞ÁÆ°ÁêÜÂíåÁª¥Êä§Â∫îÁî®Á®ãÂ∫èÁöÑÊó•Âøó‰ø°ÊÅØÔºåÊèêÈ´òÂ∫îÁî®Á®ãÂ∫èÁöÑË¥®ÈáèÂíåÊÄßËÉΩ„ÄÇ</p>
<p>ÊÄªÁöÑÊù•ËØ¥ÔºåÂêàÁêÜÂú∞‰ΩøÁî®LoggingÊ®°ÂùóÊèê‰æõÁöÑÂäüËÉΩÂíåÊúÄ‰Ω≥ÂÆûË∑µÔºå‰ª•ÂèäËÄÉËôëÊó•ÂøóËÆ∞ÂΩïÂØπÂ∫îÁî®Á®ãÂ∫èÊÄßËÉΩÁöÑÂΩ±ÂìçÂπ∂ÈááÂèñÁõ∏Â∫îÁöÑÊÄßËÉΩ‰ºòÂåñÊé™ÊñΩÔºåÂ∞ÜÊúâÂä©‰∫éÊèêÈ´òÂ∫îÁî®Á®ãÂ∫èÁöÑÂèØÈù†ÊÄß„ÄÅÂèØÁª¥Êä§ÊÄßÂíåÊÄßËÉΩÔºå‰∏∫Â∫îÁî®Á®ãÂ∫èÁöÑÁ®≥ÂÆöËøêË°åÂíåÈóÆÈ¢òÊéíÊü•Êèê‰æõÊõ¥Â•ΩÁöÑÊîØÊåÅ„ÄÇ</p>
<h1 id="labs"><a class="markdownIt-Anchor" href="#labs"></a> <strong>labs</strong></h1>
<h2 id="lab-1"><a class="markdownIt-Anchor" href="#lab-1"></a> lab-1</h2>
<blockquote>
<p>url:<a target="_blank" rel="noopener" href="https://ssr1.scrape.center/">https://ssr1.scrape.center/</a></p>
<p>tasks:spider the films names and details;save into json</p>
<p>goals: to familiar with re,requests,multiprocess</p>
</blockquote>
<img src="https://s2.loli.net/2024/03/13/7aTBLdEbjHQ1GSy.png" / loading="lazy">
<ul>
<li>Step0:  ‰ªéÂàóË°®È°µÂÖ•ÊâãÔºåËßÇÂØüÂàóË°®È°µÁöÑÁªìÊûÑÂíåÁøªÈ°µËßÑÂàôÔºå102Êù°Êï∞ÊçÆÔºå11È°µ,<strong>pageÊ†ºÂºè:url/page/{pagenumber} ;detailÊ†ºÂºè:url/detail/{id}</strong></li>
<li>Step1ÔºöÊµèËßàÂô®Êü•ÁúãÊ∫êÁ†Å:ÂèëÁé∞ÁîµÂΩ±Ê†áÈ¢òÈÉΩÂú®&lt;h2&gt;Ê†áÁ≠æ‰∏≠</li>
<li>Step2:  ÂèëÁé∞ËßÑÂæãÔºöÂÆåÊàêÂàóË°®È°µÁöÑÁà¨Âèñ</li>
</ul>
<blockquote>
<p>ÊÄùË∑Ø</p>
<ul>
<li>ÈÅçÂéÜÊâÄÊúâÈ°µÁ†Å,ÊûÑÈÄ†10È°µÁöÑÁ¥¢ÂºïÈ°µURL</li>
<li>‰ªéÊØè‰∏™Á¥¢ÂºïÈ°µÔºåÂàÜÊûêÊèêÂèñÊØè‰∏™ÁîµËÑëÁöÑËØ¶ÊÉÖÈ°µURL</li>
</ul>
</blockquote>
<p><strong>ÂÆûÁé∞</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests
<span class="token keyword">import</span> logging <span class="token comment">#ËæìÂá∫‰ø°ÊÅØÔºåÈîôËØØÊó•ÂøóÔºå‰æø‰∫édebugÁöÑ‰∏Ä‰∏™Â∫ì</span>
<span class="token keyword">import</span> re
<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> urljoin
logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">,</span><span class="token builtin">format</span><span class="token operator">=</span><span class="token string">'%(asctime)s-%(levelname)s:%(message)s'</span><span class="token punctuation">)</span>
<span class="token comment">#ÂÆö‰πâÊó•ÂøóËæìÂá∫Á∫ßÂà´‰ª•ÂèäÊ†ºÂºè</span>
BASE_URL<span class="token operator">=</span><span class="token string">"https://ssr1.scrape.center"</span> <span class="token comment">#‰ª•Ê≠§‰∏∫Âü∫URLËøõË°åÊãìÂ±ïÁõÆÊ†áurl</span>
TOTAL_PAGE<span class="token operator">=</span><span class="token number">10</span>
<span class="token comment">#ÂÆö‰πâ‰∏Ä‰∏™Áà¨ÂèñÁΩëÈ°µÊ∫êÁ†ÅÁöÑÂáΩÊï∞</span>
<span class="token keyword">def</span> <span class="token function">scrape_page</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>
    logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"Scraping%s..."</span><span class="token punctuation">,</span>url<span class="token punctuation">)</span>
    <span class="token comment">#ÈîôËØØÂ§ÑÁêÜÈÄªËæë:1.È¶ñÂÖàÂà§Êñ≠Áä∂ÊÄÅÁ†ÅÊòØÂê¶‰∏∫200ÔºåÂ¶ÇÊûú‰∏çÊòØËæìÂá∫ÈîôËØØÊó•Âøó‰ø°ÊÅØ 2.Ê≠§Â§ñÔºåÂ¶ÇÊûúrequestËØ∑Ê±ÇÂá∫Áé∞ÂºÇÂ∏∏,ËæìÂá∫ÈîôËØØÊó•Âøó</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        <span class="token keyword">if</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> response<span class="token punctuation">.</span>text
        logging<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">'get invalid status code %s while scraping %s'</span><span class="token punctuation">,</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span>url<span class="token punctuation">)</span>
    <span class="token keyword">except</span> requests<span class="token punctuation">.</span>RequestException<span class="token punctuation">:</span>
        logging<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">'error occurred while scraping %s'</span><span class="token punctuation">,</span>url<span class="token punctuation">,</span>exc_info<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token comment">#exc_infoÊâìÂç∞TracebackÁöÑÈîôËØØÂ†ÜÊ†à‰ø°ÊÅØ</span>
<span class="token comment">#ÂÆö‰πâ‰∏Ä‰∏™Ëß£ÊûêÂàóË°®È°µÁöÑÂáΩÊï∞</span>
<span class="token keyword">def</span> <span class="token function">parse_index</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">:</span>
    pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'&lt;a.*?href="(.*?)".*?class="name">'</span><span class="token punctuation">)</span><span class="token comment">#ÊèêÂèñhrefÂ±ûÊÄßÁöÑÊ≠£ÂàôË°®ËææÂºè</span>
    items<span class="token operator">=</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> items<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> items<span class="token punctuation">:</span>
        detail_url<span class="token operator">=</span>urljoin<span class="token punctuation">(</span>BASE_URL<span class="token punctuation">,</span>item<span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'get detail url %s'</span><span class="token punctuation">,</span>detail_url<span class="token punctuation">)</span>
        <span class="token keyword">yield</span> detail_url
        <span class="token comment">#Ë∞ÉÁî®yieldËøîÂõûÂÆåÊï¥url</span>
<span class="token comment">#ÂÆö‰πâ‰∏Ä‰∏™ÂàóË°®È°µÁöÑÁà¨ÂèñÊñπÂºè</span>
<span class="token keyword">def</span> <span class="token function">scrape_index</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">:</span>
    index_url<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">&#123;</span>BASE_URL<span class="token punctuation">&#125;</span></span><span class="token string">/page/</span><span class="token interpolation"><span class="token punctuation">&#123;</span>page<span class="token punctuation">&#125;</span></span><span class="token string">'</span></span>
    <span class="token keyword">return</span> scrape_page<span class="token punctuation">(</span>index_url<span class="token punctuation">)</span>
<span class="token comment">#ÂÆö‰πâ‰∏Ä‰∏™ËØ¶ÊÉÖÈ°µÁöÑÁà¨ÂèñÊñπÂºè</span>
<span class="token keyword">def</span> <span class="token function">scrape_detail</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> scrape_page<span class="token punctuation">(</span>url<span class="token punctuation">)</span>


<span class="token comment">#Âà∞Ê≠§Ê≠•Â∑≤ÁªèËé∑Âèñ‰∫ÜÊâÄÊúâËØ¶ÊÉÖÁΩëÈ°µÁöÑurlÔºåÁé∞Âú®Â∞±ËØ•Áà¨ÂèñurlÂÜÖÂÆπ</span>
<span class="token keyword">def</span> <span class="token function">parse_detail</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">#ÂåπÈÖçÂõæÁâá</span>
    cover_pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'class="item.*?&lt;img.*?src="(.*?)".*?class="cover">'</span><span class="token punctuation">,</span>re<span class="token punctuation">.</span>S<span class="token punctuation">)</span>
    <span class="token comment">#ÂåπÈÖçÂêçÁß∞</span>
    name_pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'&lt;h2.*?>(.*?)&lt;/h2>'</span><span class="token punctuation">)</span>
    <span class="token comment">#ÂåπÈÖçÁ±ªÂûã</span>
    categories_pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'&lt;button.*?category&lt;span>(.*?)&lt;/span>'</span><span class="token punctuation">,</span>re<span class="token punctuation">.</span>S<span class="token punctuation">)</span>
    <span class="token comment">#ÂåπÈÖç‰∏äÊò†Êó∂Èó¥</span>
    published_at_pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'(\d&#123;4&#125;-\d&#123;2&#125;-\d&#123;2&#125;\s?‰∏äÊò†)'</span><span class="token punctuation">,</span>re<span class="token punctuation">.</span>S<span class="token punctuation">)</span>
    <span class="token comment">#ÂåπÈÖçÂâßÊÉÖÁÆÄ‰ªã</span>
    drama_pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'&lt;div.*?drama.*?>.*?&lt;p.*?>(.*?)&lt;/p>'</span><span class="token punctuation">,</span>re<span class="token punctuation">.</span>S<span class="token punctuation">)</span>
    <span class="token comment">#ÂåπÈÖçËØÑÂàÜ</span>
    score_pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'&lt;p.*?score.*?>(.*?)&lt;/p>'</span><span class="token punctuation">,</span>re<span class="token punctuation">.</span>S<span class="token punctuation">)</span>
    cover<span class="token operator">=</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>cover_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>cover_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token boolean">None</span>
    name<span class="token operator">=</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>name_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>name_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token boolean">None</span>
    categories<span class="token operator">=</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>categories_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span><span class="token keyword">if</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>categories_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    published_at<span class="token operator">=</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>published_at_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>published_at_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token boolean">None</span>
    drama<span class="token operator">=</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>drama_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>drama_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token boolean">None</span>
    score<span class="token operator">=</span><span class="token builtin">float</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>score_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">if</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>score_pattern<span class="token punctuation">,</span>html<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token boolean">None</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        <span class="token string">'cover'</span><span class="token punctuation">:</span>cover<span class="token punctuation">,</span>
        <span class="token string">'name'</span><span class="token punctuation">:</span>name<span class="token punctuation">,</span>
        <span class="token string">'categories'</span><span class="token punctuation">:</span>categories<span class="token punctuation">,</span>
        <span class="token string">'published_at'</span><span class="token punctuation">:</span>published_at<span class="token punctuation">,</span>
        <span class="token string">'drama'</span><span class="token punctuation">:</span>drama<span class="token punctuation">,</span>
        <span class="token string">'score'</span><span class="token punctuation">:</span>score
    <span class="token punctuation">&#125;</span>

<span class="token comment">#ÂÆö‰πâ</span>
<span class="token comment">#main</span>
<span class="token comment">#Ê≠§Ê≠•Â∑≤ÁªèÊèêÂèñ‰∫ÜÊØèÈÉ®ÁîµÂΩ±ÁöÑÂü∫Êú¨‰ø°ÊÅØ</span>
<span class="token comment">#ÊúÄÂêé‰∏ÄÊ≠•Â∞±ÊòØ‰øùÂ≠òÊï∞ÊçÆ</span>
<span class="token keyword">import</span> json
<span class="token keyword">from</span> os <span class="token keyword">import</span> makedirs
<span class="token keyword">from</span> os<span class="token punctuation">.</span>path <span class="token keyword">import</span> exists
RESULT_DIR<span class="token operator">=</span><span class="token string">'/results'</span>
exists<span class="token punctuation">(</span>RESULT_DIR<span class="token punctuation">)</span> <span class="token keyword">or</span> makedirs<span class="token punctuation">(</span>RESULT_DIR<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">save_data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
    name<span class="token operator">=</span>data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
    data_path<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">&#123;</span>RESULT_DIR<span class="token punctuation">&#125;</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">&#123;</span>name<span class="token punctuation">&#125;</span></span><span class="token string">.json'</span></span>
    json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token builtin">open</span><span class="token punctuation">(</span>data_path<span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token comment">#indent=2‰ª£Ë°®jsonÊï∞ÊçÆÊ†ºÂºèÁº©Ëøõ2Ê†ºÔºåÊõ¥ÁæéËßÇÔºåensure_ascii:ÂèØ‰ª•ÊòæÁ§∫‰∏≠Êñá</span>
<span class="token keyword">for</span> page <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>TOTAL_PAGE<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    index_html<span class="token operator">=</span>scrape_index<span class="token punctuation">(</span>page<span class="token punctuation">)</span>
    detail_urls<span class="token operator">=</span>parse_index<span class="token punctuation">(</span>index_html<span class="token punctuation">)</span><span class="token comment">#Ëé∑ÂèñÁîüÊàêÂô®ÂØπË±°detail_url</span>
    <span class="token keyword">for</span> detai_url <span class="token keyword">in</span> detail_urls<span class="token punctuation">:</span>
        detai_url_html<span class="token operator">=</span>scrape_detail<span class="token punctuation">(</span>detai_url<span class="token punctuation">)</span>
        data<span class="token operator">=</span>parse_detail<span class="token punctuation">(</span>detai_url_html<span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'get detail data%s'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'saveing data to json file'</span><span class="token punctuation">)</span>
        save_data<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'data saved successfully'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>Â§öÁ∫øÁ®ãÂä†ÈÄü</li>
</ul>
<p>ÊîπÂÜômainÂáΩÊï∞Âç≥ÂèØ</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> multiporcessing
<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">:</span>
    index_html<span class="token operator">=</span>scrape_index<span class="token punctuation">(</span>page<span class="token punctuation">)</span>
    detail_urls<span class="token operator">=</span>parse_index<span class="token punctuation">(</span>index_html<span class="token punctuation">)</span><span class="token comment">#Ëé∑ÂèñÁîüÊàêÂô®ÂØπË±°detail_url</span>
    <span class="token keyword">for</span> detai_url <span class="token keyword">in</span> detail_urls<span class="token punctuation">:</span>
        detai_url_html<span class="token operator">=</span>scrape_detail<span class="token punctuation">(</span>detai_url<span class="token punctuation">)</span>
        data<span class="token operator">=</span>parse_detail<span class="token punctuation">(</span>detai_url_html<span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'get detail data%s'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'saveing data to json file'</span><span class="token punctuation">)</span>
        save_data<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'data saved successfully'</span><span class="token punctuation">)</span>
        
<span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>
    pool<span class="token operator">=</span>multiprocessing<span class="token punctuation">.</span>Pool<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#Â£∞Êòé‰∏Ä‰∏™ËøõÁ®ãÊ±†</span>
    pages<span class="token operator">=</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>TOTAL_PAGE<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    pool<span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>main<span class="token punctuation">,</span>pages<span class="token punctuation">)</span><span class="token comment">#ÂàÜÂà´ÊääËøô10‰∏™È°µÁ†Å‰º†ÁªôËøô10‰∏™ÂáΩÊï∞ÔºåËøõÁ®ãÊ±†Ê†πÊçÆÂΩìÂâçËøêË°åÁéØÂ¢ÉÂÜ≥ÂÆöËøêË°åÂ§öÂ∞ë‰∏™ËøõÁ®ã</span>
    pool<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pool<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</div></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2024/03/24/NKCTF2024%E4%B8%AA%E4%BA%BAWp/" rel="prev" title="NKCTF2024‰∏™‰∫∫Wp"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">NKCTF2024‰∏™‰∫∫Wp</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2024/03/01/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/" rel="next" title="ÁÆóÊ≥ïÂ≠¶‰π†"><span class="post-nav-text">ÁÆóÊ≥ïÂ≠¶‰π†</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>ÊÇ®ÈúÄË¶ÅÁßëÂ≠¶‰∏äÁΩëÔºåÊâçÂèØ‰ΩøÁî®ËØÑËÆ∫Âå∫ÂäüËÉΩ„ÄÇ</span><br></div><div id="waline"></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.css"><script>window.CONFIG.waline.config.path = "/2024/03/13/%E7%88%AC%E8%99%AB%E7%AC%94%E8%AE%B0/"</script><div class="js-Pjax"><script src="/js/comments/waline.js" type="module" defer></script></div></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank"></a></div><div class="copyright"><span>&copy; 2023 ‚Äì 2024 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> Npc</span></div><div class="footer-custom-text">=w=</div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="Searching..." value=""></div><div class="search-result-container"></div></div><script src="https://fastly.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script>const images = [...document.querySelectorAll('.markdown-body img')]
mediumZoom(images)</script><style>.medium-zoom-image {
  z-index: 99;
}</style></body></html>